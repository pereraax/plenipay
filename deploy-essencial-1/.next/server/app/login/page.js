(()=>{var e={};e.id=2626,e.ids=[2626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},45172:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d});var t=a(50482),o=a(69108),n=a(62563),i=a.n(n),s=a(68300),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);a.d(r,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,43015)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,63203)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,20429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/not-found.tsx"]}],c=["/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/login/page.tsx"],u="/login/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17215:(e,r,a)=>{Promise.resolve().then(a.bind(a,89928))},89928:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>g});var t=a(95344),o=a(3729),n=a(22254),i=a(27100),s=a(63024),l=a(1222),d=a(53148),c=a(20783),u=a.n(c),m=a(41223),f=a.n(m),h=a(36234),p=a(87503);function g(){(0,n.useRouter)();let[e,r]=(0,o.useState)(!1),[a,c]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null),[x,w]=(0,o.useState)({email:"",senha:""}),b=async e=>{if(e.preventDefault(),r(!0),g(null),!x.email.trim()||!x.email.includes("@")){let e="Informe um email v\xe1lido";g(e),(0,i.createNotification)(e,"warning"),r(!1);return}if(!x.senha.trim()){let e="Informe sua senha";g(e),(0,i.createNotification)(e,"warning"),r(!1);return}try{console.log("\uD83D\uDD04 Iniciando login diretamente no cliente...");let e=(0,h.createClient)(),{data:a,error:t}=await e.auth.signInWithPassword({email:x.email,password:x.senha});if(t){console.error("❌ Erro no login:",t),console.error("❌ C\xf3digo do erro:",t.status),console.error("❌ Mensagem do erro:",t.message),console.error("❌ Objeto completo do erro:",JSON.stringify(t,null,2));let a="Email ou senha incorretos",o=(t.message||"").toLowerCase(),n=t.status||0,s=t.code||"";if(console.log("\uD83D\uDD0D Verificando erro - Message:",o,"Status:",n,"Code:",s),o.includes("email not confirmed")||o.includes("email_not_confirmed")||"email_not_confirmed"===s){console.log("⚠️ Erro: Email n\xe3o confirmado - Criando sess\xe3o tempor\xe1ria sem confirmar...");try{let t=await fetch("/api/auth/permitir-login-sem-confirmacao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.email,password:x.senha})}),o=await t.json();if(t.ok&&o.session){console.log("✅ Login permitido sem confirmar email - sess\xe3o tempor\xe1ria criada");let{error:t}=await e.auth.setSession({access_token:o.session.access_token,refresh_token:o.session.refresh_token});if(t){console.error("❌ Erro ao salvar sess\xe3o:",t),a="Erro ao salvar sess\xe3o. Tente novamente.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}await new Promise(e=>setTimeout(e,500)),(0,i.createNotification)("Login realizado! Confirme seu email nas configura\xe7\xf5es para acessar todas as funcionalidades.","success"),await new Promise(e=>setTimeout(e,1e3)),window.location.href="/home";return}console.error("❌ Erro na API de login sem confirma\xe7\xe3o:",o.error),a=o.error||"N\xe3o foi poss\xedvel fazer login. Verifique se o Service Role Key est\xe1 configurado ou confirme seu email primeiro.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}catch(e){console.error("❌ Erro ao chamar API de login sem confirma\xe7\xe3o:",e),a="Erro ao processar login. Tente novamente.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}}else if(o.includes("invalid login credentials")||o.includes("invalid_credentials")||o.includes("invalid email or password")||o.includes("wrong password")||"invalid_credentials"===s){a="Email ou senha incorretos. Verifique suas credenciais e tente novamente.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}else if(o.includes("too many requests")||o.includes("rate_limit")){a="Muitas tentativas de login. Aguarde alguns minutos e tente novamente.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}else if(o.includes("user not found")||o.includes("no user found")){a="Email ou senha incorretos. Verifique suas credenciais e tente novamente.",g(a),(0,i.createNotification)(a,"warning"),r(!1);return}else{a=400===n?"Erro ao fazer login. Verifique se seu email foi confirmado ou suas credenciais est\xe3o corretas.":"Email ou senha incorretos. Verifique suas credenciais e tente novamente.",console.log("\uD83D\uDCE2 Exibindo notifica\xe7\xe3o:",a),g(a),(0,i.createNotification)(a,"warning"),r(!1);return}}if(!a.user){console.error("❌ Usu\xe1rio n\xe3o retornado"),(0,i.createNotification)("Erro ao fazer login. Tente novamente.","warning"),r(!1);return}if(a.user.email_confirmed_at||console.warn("Email n\xe3o confirmado ainda - permitindo login mas lembrando de verificar"),console.log("✅ Login bem-sucedido!"),console.log("\uD83D\uDC64 User ID:",a.user.id),console.log("\uD83D\uDD10 Session:",a.session?"existe":"n\xe3o existe"),!a.session){console.error("❌ Nenhuma sess\xe3o retornada!"),(0,i.createNotification)("Erro: Sess\xe3o n\xe3o foi criada. Tente novamente.","warning"),r(!1);return}console.log("⏳ Aguardando 1s para garantir que cookies foram salvos..."),await new Promise(e=>setTimeout(e,1e3));let o=document.cookie;console.log("\uD83C\uDF6A Cookies salvos:",o.length>0?"sim":"n\xe3o"),console.log("\uD83C\uDF6A Lista:",o.split(";").map(e=>e.trim().split("=")[0]).filter(Boolean).join(", ")||"nenhum");let{data:{user:n},error:s}=await e.auth.getUser();if(s&&console.error("❌ Erro ao verificar sess\xe3o:",s),n)console.log("✅ Sess\xe3o verificada! Usu\xe1rio:",n.id);else{console.error("❌ Sess\xe3o n\xe3o foi salva - tentando salvar manualmente...");try{let{error:t}=await e.auth.setSession({access_token:a.session.access_token,refresh_token:a.session.refresh_token});if(t){console.error("❌ Erro ao salvar manualmente:",t),(0,i.createNotification)("Erro ao salvar sess\xe3o. Tente novamente.","warning"),r(!1);return}console.log("✅ Sess\xe3o salva manualmente");let{data:{user:o}}=await e.auth.getUser();if(!o){console.error("❌ Ainda n\xe3o funcionou ap\xf3s salvar manualmente"),(0,i.createNotification)("Erro: N\xe3o foi poss\xedvel salvar a sess\xe3o. Tente novamente.","warning"),r(!1);return}console.log("✅ Sess\xe3o verificada ap\xf3s salvar manualmente!")}catch(e){console.error("❌ Erro ao salvar manualmente:",e),(0,i.createNotification)("Erro inesperado. Tente novamente.","warning"),r(!1);return}}(0,i.createNotification)("Login realizado com sucesso!","success"),await new Promise(e=>setTimeout(e,1e3)),console.log("\uD83D\uDE80 Redirecionando para /home..."),window.location.href="/home"}catch(t){console.error("❌ Erro inesperado:",t);let e=t?.message||"Erro desconhecido",a=e.toLowerCase().includes("invalid")||e.toLowerCase().includes("credentials")||e.toLowerCase().includes("password")||e.toLowerCase().includes("email")?"Email ou senha incorretos. Verifique suas credenciais e tente novamente.":"Erro inesperado: "+e;g(a);try{(0,i.createNotification)(a,"warning")}catch(e){console.error("Erro ao criar notifica\xe7\xe3o:",e)}r(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[t.jsx(p.default,{}),(0,t.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,t.jsxs)(u(),{href:"/",className:"inline-flex items-center gap-2 text-brand-clean/70 hover:text-brand-aqua transition-smooth mb-6",children:[t.jsx(s.Z,{size:20}),t.jsx("span",{children:"Voltar para in\xedcio"})]}),(0,t.jsxs)("div",{className:"bg-brand-royal/50 backdrop-blur-sm rounded-3xl p-8 border border-brand-aqua/20 shadow-2xl",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[t.jsx(f(),{src:"/logo.png",alt:"PLENIPAY",width:140,height:32,className:"h-8 w-auto object-contain mx-auto mb-4",priority:!0}),t.jsx("h1",{className:"text-3xl font-display font-bold text-brand-white mb-2",children:"Entrar"}),t.jsx("p",{className:"text-brand-clean/70",children:"Acesse sua conta para continuar"})]}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-5",children:[m&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:t.jsx("p",{className:"text-sm text-red-400 font-medium",children:m})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-clean mb-2",children:"Email *"}),t.jsx("input",{type:"email",required:!0,value:x.email,onChange:e=>w({...x,email:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight/50 border border-brand-aqua/20 rounded-xl text-brand-white placeholder-brand-clean/40 focus:outline-none focus:border-brand-aqua transition-smooth",placeholder:"seu@email.com"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-clean mb-2",children:"Senha *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:a?"text":"password",required:!0,value:x.senha,onChange:e=>w({...x,senha:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight/50 border border-brand-aqua/20 rounded-xl text-brand-white placeholder-brand-clean/40 focus:ring-2 focus:ring-brand-aqua focus:border-brand-aqua transition-smooth pr-12",placeholder:"Sua senha"}),t.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-brand-clean/60 hover:text-brand-aqua transition-smooth",children:a?t.jsx(l.Z,{size:20}):t.jsx(d.Z,{size:20})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-brand-clean/70",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{children:"Lembrar-me"})]}),t.jsx(u(),{href:"#",className:"text-sm text-brand-aqua hover:underline",children:"Esqueceu a senha?"})]}),t.jsx("button",{type:"submit",disabled:e,className:"w-full px-6 py-4 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Entrando...":"Entrar"}),(0,t.jsxs)("p",{className:"text-center text-sm text-brand-clean/60",children:["N\xe3o tem uma conta?"," ",t.jsx(u(),{href:"/planos",className:"text-brand-aqua hover:underline font-medium",children:"Criar conta"})]})]})]})]})]})}},87503:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var t=a(95344),o=a(3729);function n(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let r;let a=e.current;if(!a)return;let t=a.getContext("2d",{alpha:!1});if(!t)return;let o=()=>{let e=window.devicePixelRatio||1;a.width=window.innerWidth*e,a.height=window.innerHeight*e,t.scale(e,e),a.style.width=window.innerWidth+"px",a.style.height=window.innerHeight+"px"};o(),window.addEventListener("resize",o);let n={midnight:"#0D1B2A",royal:"#1B263B",aqua:"#00C2FF"},i=[];(()=>{i.length=0;for(let e=0;e<10;e++){let r=e%3*(window.innerWidth/3)+window.innerWidth/3*Math.random(),a=window.innerHeight/4*Math.floor(e/3)+window.innerHeight/4*Math.random();i.push({x:r,y:a,radius:3e3+2e3*Math.random(),vx:(Math.random()-.5)*50,vy:(Math.random()-.5)*50,color:e%2==0?n.aqua:n.royal,opacity:.12+.18*Math.random(),pulse:Math.random()*Math.PI*2})}})();let s=0,l=e=>{r=requestAnimationFrame(l);let a=e-s;if(a>=16.666666666666668){s=e-a%16.666666666666668;let r=t.createLinearGradient(0,0,window.innerWidth,window.innerHeight);r.addColorStop(0,n.royal),r.addColorStop(.5,n.midnight),r.addColorStop(1,n.royal),t.fillStyle=r,t.fillRect(0,0,window.innerWidth,window.innerHeight),i.forEach((e,r)=>{e.x+=e.vx,e.y+=e.vy,(e.x<-e.radius||e.x>window.innerWidth+e.radius)&&(e.vx*=-1,e.x=Math.max(-e.radius,Math.min(window.innerWidth+e.radius,e.x))),(e.y<-e.radius||e.y>window.innerHeight+e.radius)&&(e.vy*=-1,e.y=Math.max(-e.radius,Math.min(window.innerHeight+e.radius,e.y)));let a=e.radius,o=e.opacity,n=t.createRadialGradient(e.x,e.y,0,e.x,e.y,a),i=e.color,s=Math.floor(255*o).toString(16).padStart(2,"0"),l=Math.floor(38.25*o).toString(16).padStart(2,"0"),d=Math.floor(.03*o*255).toString(16).padStart(2,"0"),c=Math.floor(.005*o*255).toString(16).padStart(2,"0");n.addColorStop(0,`${i}${s}`),n.addColorStop(.1,`${i}${l}`),n.addColorStop(.25,`${i}${d}`),n.addColorStop(.5,`${i}${c}`),n.addColorStop(.75,`${i}${Math.floor(.255*o).toString(16).padStart(2,"0")}`),n.addColorStop(1,`${i}00`),t.globalCompositeOperation="screen",t.fillStyle=n,t.beginPath(),t.arc(e.x,e.y,a,0,2*Math.PI),t.fill()}),t.globalCompositeOperation="source-over"}};return l(0),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(r)}},[]),t.jsx("canvas",{ref:e,className:"fixed inset-0 w-full h-full z-0",style:{background:"#1B263B",filter:"blur(60px)",pointerEvents:"none"}})}},63024:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1222:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},53148:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},43015:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});let t=(0,a(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/login/page.tsx`),{__esModule:o,$$typeof:n}=t,i=t.default},48096:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{DYNAMIC_ERROR_CODE:function(){return a},DynamicServerError:function(){return t}});let a="DYNAMIC_SERVER_USAGE";class t extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=a}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},72973:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"staticGenerationBailout",{enumerable:!0,get:function(){return s}});let t=a(48096),o=a(45869);class n extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function i(e,r){let{dynamic:a,link:t}=r||{};return"Page"+(a?' with `dynamic = "'+a+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(t?" See more info here: "+t:"")}let s=(e,r)=>{let{dynamic:a,link:s}=void 0===r?{}:r,l=o.staticGenerationAsyncStorage.getStore();if(!l)return!1;if(l.forceStatic)return!0;if(l.dynamicShouldError)throw new n(i(e,{link:s,dynamic:null!=a?a:"error"}));let d=i(e,{dynamic:a,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==l.postpone||l.postpone.call(l,e),l.revalidate=0,l.isStaticGeneration){let r=new t.DynamicServerError(d);throw l.dynamicUsageDescription=e,l.dynamicUsageStack=r.stack,r}return!1};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[1638,4123,115],()=>a(45172));module.exports=t})();