(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626,4599],{11981:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73067:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3021:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},20173:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},77216:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},99670:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},74056:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,o(62898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},65213:function(e,n,o){Promise.resolve().then(o.bind(o,44338))},44338:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return g}});var a=o(57437),r=o(2265),t=o(24033),i=o(53468),s=o(73067),l=o(77216),c=o(99670),d=o(61396),u=o.n(d),m=o(16691),f=o.n(m),h=o(34599),p=o(21731);function g(){(0,t.useRouter)();let[e,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[x,w]=(0,r.useState)({email:"",senha:""}),b=async e=>{if(e.preventDefault(),n(!0),g(null),!x.email.trim()||!x.email.includes("@")){let e="Informe um email v\xe1lido";g(e),(0,i.createNotification)(e,"warning"),n(!1);return}if(!x.senha.trim()){let e="Informe sua senha";g(e),(0,i.createNotification)(e,"warning"),n(!1);return}try{console.log("\uD83D\uDD04 Iniciando login diretamente no cliente...");let e=(0,h.createClient)(),{data:o,error:a}=await e.auth.signInWithPassword({email:x.email,password:x.senha});if(a){console.error("❌ Erro no login:",a),console.error("❌ C\xf3digo do erro:",a.status),console.error("❌ Mensagem do erro:",a.message),console.error("❌ Objeto completo do erro:",JSON.stringify(a,null,2));let o="Email ou senha incorretos",r=(a.message||"").toLowerCase(),t=a.status||0,s=a.code||"";if(console.log("\uD83D\uDD0D Verificando erro - Message:",r,"Status:",t,"Code:",s),r.includes("email not confirmed")||r.includes("email_not_confirmed")||"email_not_confirmed"===s){console.log("⚠️ Erro: Email n\xe3o confirmado - Criando sess\xe3o tempor\xe1ria sem confirmar...");try{let a=await fetch("/api/auth/permitir-login-sem-confirmacao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.email,password:x.senha})}),r=await a.json();if(a.ok&&r.session){console.log("✅ Login permitido sem confirmar email - sess\xe3o tempor\xe1ria criada");let{error:a}=await e.auth.setSession({access_token:r.session.access_token,refresh_token:r.session.refresh_token});if(a){console.error("❌ Erro ao salvar sess\xe3o:",a),o="Erro ao salvar sess\xe3o. Tente novamente.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}await new Promise(e=>setTimeout(e,500)),(0,i.createNotification)("Login realizado! Confirme seu email nas configura\xe7\xf5es para acessar todas as funcionalidades.","success"),await new Promise(e=>setTimeout(e,1e3)),window.location.href="/home";return}console.error("❌ Erro na API de login sem confirma\xe7\xe3o:",r.error),o=r.error||"N\xe3o foi poss\xedvel fazer login. Verifique se o Service Role Key est\xe1 configurado ou confirme seu email primeiro.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}catch(e){console.error("❌ Erro ao chamar API de login sem confirma\xe7\xe3o:",e),o="Erro ao processar login. Tente novamente.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}}else if(r.includes("invalid login credentials")||r.includes("invalid_credentials")||r.includes("invalid email or password")||r.includes("wrong password")||"invalid_credentials"===s){o="Email ou senha incorretos. Verifique suas credenciais e tente novamente.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}else if(r.includes("too many requests")||r.includes("rate_limit")){o="Muitas tentativas de login. Aguarde alguns minutos e tente novamente.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}else if(r.includes("user not found")||r.includes("no user found")){o="Email ou senha incorretos. Verifique suas credenciais e tente novamente.",g(o),(0,i.createNotification)(o,"warning"),n(!1);return}else{o=400===t?"Erro ao fazer login. Verifique se seu email foi confirmado ou suas credenciais est\xe3o corretas.":"Email ou senha incorretos. Verifique suas credenciais e tente novamente.",console.log("\uD83D\uDCE2 Exibindo notifica\xe7\xe3o:",o),g(o),(0,i.createNotification)(o,"warning"),n(!1);return}}if(!o.user){console.error("❌ Usu\xe1rio n\xe3o retornado"),(0,i.createNotification)("Erro ao fazer login. Tente novamente.","warning"),n(!1);return}if(o.user.email_confirmed_at||console.warn("Email n\xe3o confirmado ainda - permitindo login mas lembrando de verificar"),console.log("✅ Login bem-sucedido!"),console.log("\uD83D\uDC64 User ID:",o.user.id),console.log("\uD83D\uDD10 Session:",o.session?"existe":"n\xe3o existe"),!o.session){console.error("❌ Nenhuma sess\xe3o retornada!"),(0,i.createNotification)("Erro: Sess\xe3o n\xe3o foi criada. Tente novamente.","warning"),n(!1);return}console.log("⏳ Aguardando 1s para garantir que cookies foram salvos..."),await new Promise(e=>setTimeout(e,1e3));let r=document.cookie;console.log("\uD83C\uDF6A Cookies salvos:",r.length>0?"sim":"n\xe3o"),console.log("\uD83C\uDF6A Lista:",r.split(";").map(e=>e.trim().split("=")[0]).filter(Boolean).join(", ")||"nenhum");let{data:{user:t},error:s}=await e.auth.getUser();if(s&&console.error("❌ Erro ao verificar sess\xe3o:",s),t)console.log("✅ Sess\xe3o verificada! Usu\xe1rio:",t.id);else{console.error("❌ Sess\xe3o n\xe3o foi salva - tentando salvar manualmente...");try{let{error:a}=await e.auth.setSession({access_token:o.session.access_token,refresh_token:o.session.refresh_token});if(a){console.error("❌ Erro ao salvar manualmente:",a),(0,i.createNotification)("Erro ao salvar sess\xe3o. Tente novamente.","warning"),n(!1);return}console.log("✅ Sess\xe3o salva manualmente");let{data:{user:r}}=await e.auth.getUser();if(!r){console.error("❌ Ainda n\xe3o funcionou ap\xf3s salvar manualmente"),(0,i.createNotification)("Erro: N\xe3o foi poss\xedvel salvar a sess\xe3o. Tente novamente.","warning"),n(!1);return}console.log("✅ Sess\xe3o verificada ap\xf3s salvar manualmente!")}catch(e){console.error("❌ Erro ao salvar manualmente:",e),(0,i.createNotification)("Erro inesperado. Tente novamente.","warning"),n(!1);return}}(0,i.createNotification)("Login realizado com sucesso!","success"),await new Promise(e=>setTimeout(e,1e3)),console.log("\uD83D\uDE80 Redirecionando para /home..."),window.location.href="/home"}catch(a){console.error("❌ Erro inesperado:",a);let e=(null==a?void 0:a.message)||"Erro desconhecido",o=e.toLowerCase().includes("invalid")||e.toLowerCase().includes("credentials")||e.toLowerCase().includes("password")||e.toLowerCase().includes("email")?"Email ou senha incorretos. Verifique suas credenciais e tente novamente.":"Erro inesperado: "+e;g(o);try{(0,i.createNotification)(o,"warning")}catch(e){console.error("Erro ao criar notifica\xe7\xe3o:",e)}n(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[(0,a.jsx)(p.default,{}),(0,a.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,a.jsxs)(u(),{href:"/",className:"inline-flex items-center gap-2 text-brand-clean/70 hover:text-brand-aqua transition-smooth mb-6",children:[(0,a.jsx)(s.Z,{size:20}),(0,a.jsx)("span",{children:"Voltar para in\xedcio"})]}),(0,a.jsxs)("div",{className:"bg-brand-royal/50 backdrop-blur-sm rounded-3xl p-8 border border-brand-aqua/20 shadow-2xl",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(f(),{src:"/logo.png",alt:"PLENIPAY",width:140,height:32,className:"h-8 w-auto object-contain mx-auto mb-4",priority:!0}),(0,a.jsx)("h1",{className:"text-3xl font-display font-bold text-brand-white mb-2",children:"Entrar"}),(0,a.jsx)("p",{className:"text-brand-clean/70",children:"Acesse sua conta para continuar"})]}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-5",children:[m&&(0,a.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-400 font-medium",children:m})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-brand-clean mb-2",children:"Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:x.email,onChange:e=>w({...x,email:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight/50 border border-brand-aqua/20 rounded-xl text-brand-white placeholder-brand-clean/40 focus:outline-none focus:border-brand-aqua transition-smooth",placeholder:"seu@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-brand-clean mb-2",children:"Senha *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:o?"text":"password",required:!0,value:x.senha,onChange:e=>w({...x,senha:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight/50 border border-brand-aqua/20 rounded-xl text-brand-white placeholder-brand-clean/40 focus:ring-2 focus:ring-brand-aqua focus:border-brand-aqua transition-smooth pr-12",placeholder:"Sua senha"}),(0,a.jsx)("button",{type:"button",onClick:()=>d(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-brand-clean/60 hover:text-brand-aqua transition-smooth",children:o?(0,a.jsx)(l.Z,{size:20}):(0,a.jsx)(c.Z,{size:20})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-brand-clean/70",children:[(0,a.jsx)("input",{type:"checkbox",className:"rounded"}),(0,a.jsx)("span",{children:"Lembrar-me"})]}),(0,a.jsx)(u(),{href:"#",className:"text-sm text-brand-aqua hover:underline",children:"Esqueceu a senha?"})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"w-full px-6 py-4 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Entrando...":"Entrar"}),(0,a.jsxs)("p",{className:"text-center text-sm text-brand-clean/60",children:["N\xe3o tem uma conta?"," ",(0,a.jsx)(u(),{href:"/planos",className:"text-brand-aqua hover:underline font-medium",children:"Criar conta"})]})]})]})]})]})}},21731:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return t}});var a=o(57437),r=o(2265);function t(){let e=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let n;let o=e.current;if(!o)return;let a=o.getContext("2d",{alpha:!1});if(!a)return;let r=()=>{let e=window.devicePixelRatio||1;o.width=window.innerWidth*e,o.height=window.innerHeight*e,a.scale(e,e),o.style.width=window.innerWidth+"px",o.style.height=window.innerHeight+"px"};r(),window.addEventListener("resize",r);let t={midnight:"#0D1B2A",royal:"#1B263B",aqua:"#00C2FF"},i=[];(()=>{i.length=0;for(let e=0;e<10;e++){let n=e%3*(window.innerWidth/3)+window.innerWidth/3*Math.random(),o=window.innerHeight/4*Math.floor(e/3)+window.innerHeight/4*Math.random();i.push({x:n,y:o,radius:3e3+2e3*Math.random(),vx:(Math.random()-.5)*50,vy:(Math.random()-.5)*50,color:e%2==0?t.aqua:t.royal,opacity:.12+.18*Math.random(),pulse:Math.random()*Math.PI*2})}})();let s=0,l=e=>{n=requestAnimationFrame(l);let o=e-s;if(o>=16.666666666666668){s=e-o%16.666666666666668;let n=a.createLinearGradient(0,0,window.innerWidth,window.innerHeight);n.addColorStop(0,t.royal),n.addColorStop(.5,t.midnight),n.addColorStop(1,t.royal),a.fillStyle=n,a.fillRect(0,0,window.innerWidth,window.innerHeight),i.forEach((e,n)=>{e.x+=e.vx,e.y+=e.vy,(e.x<-e.radius||e.x>window.innerWidth+e.radius)&&(e.vx*=-1,e.x=Math.max(-e.radius,Math.min(window.innerWidth+e.radius,e.x))),(e.y<-e.radius||e.y>window.innerHeight+e.radius)&&(e.vy*=-1,e.y=Math.max(-e.radius,Math.min(window.innerHeight+e.radius,e.y)));let o=e.radius,r=e.opacity,t=a.createRadialGradient(e.x,e.y,0,e.x,e.y,o),i=e.color,s=Math.floor(255*r).toString(16).padStart(2,"0"),l=Math.floor(38.25*r).toString(16).padStart(2,"0"),c=Math.floor(.03*r*255).toString(16).padStart(2,"0"),d=Math.floor(.005*r*255).toString(16).padStart(2,"0");t.addColorStop(0,"".concat(i).concat(s)),t.addColorStop(.1,"".concat(i).concat(l)),t.addColorStop(.25,"".concat(i).concat(c)),t.addColorStop(.5,"".concat(i).concat(d)),t.addColorStop(.75,"".concat(i).concat(Math.floor(.255*r).toString(16).padStart(2,"0"))),t.addColorStop(1,"".concat(i,"00")),a.globalCompositeOperation="screen",a.fillStyle=t,a.beginPath(),a.arc(e.x,e.y,o,0,2*Math.PI),a.fill()}),a.globalCompositeOperation="source-over"}};return l(0),()=>{window.removeEventListener("resize",r),cancelAnimationFrame(n)}},[]),(0,a.jsx)("canvas",{ref:e,className:"fixed inset-0 w-full h-full z-0",style:{background:"#1B263B",filter:"blur(60px)",pointerEvents:"none"}})}},34599:function(e,n,o){"use strict";o.d(n,{createClient:function(){return r}});var a=o(70889);function r(){return(0,a.createBrowserClient)("https://frhxqgcqmxpjpnghsvoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyaHhxZ2NxbXhwanBuZ2hzdm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTM3NTYsImV4cCI6MjA3OTIyOTc1Nn0.p1OxLRA5DKgvetuy-IbCfYClNSjrvK6fm43aZNX3T7I",{cookies:{getAll:()=>document.cookie.split(";").map(e=>e.trim()).filter(e=>e.length>0).map(e=>{let n=e.indexOf("=");if(-1===n)return{name:e,value:""};let o=e.substring(0,n).trim(),a=e.substring(n+1).trim();try{return{name:o,value:decodeURIComponent(a)}}catch(e){return{name:o,value:a}}}),setAll(e){e.forEach(e=>{let{name:n,value:o,options:a}=e,r="".concat(n,"=").concat(encodeURIComponent(o));(null==a?void 0:a.maxAge)&&(r+="; max-age=".concat(a.maxAge)),(null==a?void 0:a.domain)&&(r+="; domain=".concat(a.domain)),(null==a?void 0:a.path)?r+="; path=".concat(a.path):r+="; path=/",(null==a?void 0:a.secure)&&(r+="; secure"),(null==a?void 0:a.sameSite)&&(r+="; samesite=".concat(a.sameSite)),document.cookie=r})}}})}},67447:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e,n){for(var o in n)Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}(n,{unstable_getImgProps:function(){return l},default:function(){return c}});let a=o(21024),r=o(38630),t=o(76184),i=o(81749),s=a._(o(10536)),l=e=>{(0,t.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:n}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,o]of Object.entries(n))void 0===o&&delete n[e];return{props:n}},c=i.Image},16691:function(e,n,o){e.exports=o(67447)},61396:function(e,n,o){e.exports=o(25250)},24033:function(e,n,o){e.exports=o(15313)}},function(e){e.O(0,[5250,4962,889,1749,3468,2971,4938,1744],function(){return e(e.s=65213)}),_N_E=e.O()}]);