(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6394],{84559:function(a,e,t){Promise.resolve().then(t.bind(t,97304)),Promise.resolve().then(t.bind(t,15438)),Promise.resolve().then(t.bind(t,9353)),Promise.resolve().then(t.bind(t,53468)),Promise.resolve().then(t.bind(t,31441)),Promise.resolve().then(t.bind(t,94513))},97304:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return X}});var s=t(57437),r=t(2265),o=t(16691),n=t.n(o),l=t(14493),i=t(29251),d=t(77480),m=t(21271),x=t(17810),c=t(33344),p=t(86712),f=t(67405),b=t(4035),g=t(17187),u=t(67842),h=t(69057),y=t(56643),j=t(16235),w=t(34822),v=t(71738),k=t(66654),N=t(9883),z=t(92851),F=t(28203),D=t(70290),C=t(86264),S=t(15432),_=t(15234),A=t(85790),M=t(8957),Z=t(84093),E=t(17961),B=t(82836);function R(a){let{meta:e}=a,t=(e.valor_acumulado||0)/(e.meta_total||1)*100;return(0,s.jsxs)("div",{className:"bg-brand-royal rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 border-green-500/30 shadow-xl hover:shadow-2xl transition-smooth",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500/20 border border-green-500/50 rounded-full",children:[(0,s.jsx)(M.Z,{size:14,className:"sm:w-4 sm:h-4 text-green-400"}),(0,s.jsx)("span",{className:"text-green-400 font-semibold text-xs sm:text-sm",children:"Conclu\xedda"})]}),(0,s.jsx)("span",{className:"text-brand-clean text-xs sm:text-sm",children:e.data_conclusao?(0,E.WU)(new Date(e.data_conclusao),"dd/MM/yyyy",{locale:B.F}):""})]}),(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-display font-bold text-brand-white mb-1.5 sm:mb-2",children:e.nome}),(0,s.jsxs)("p",{className:"text-brand-clean text-xs sm:text-sm mb-3 sm:mb-4 flex items-center gap-1.5 sm:gap-2",children:[(0,s.jsx)(F.Z,{size:12,className:"sm:w-3.5 sm:h-3.5"}),(0,s.jsx)("span",{className:"capitalize",children:e.periodicidade})]}),(0,s.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,s.jsx)("span",{className:"text-brand-clean text-xs sm:text-sm",children:"Guardado:"}),(0,s.jsxs)("span",{className:"text-brand-aqua font-bold text-base sm:text-lg",children:["R$ ",(e.valor_acumulado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,s.jsx)("span",{className:"text-brand-clean text-xs sm:text-sm",children:"Meta:"}),(0,s.jsxs)("span",{className:"text-brand-white font-semibold text-sm sm:text-base",children:["R$ ",(e.meta_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,s.jsx)("div",{className:"w-full h-2.5 sm:h-3 bg-brand-midnight rounded-full overflow-hidden border border-green-500/30",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all",style:{width:"".concat(Math.min(t,100),"%")}})}),(0,s.jsxs)("p",{className:"text-center text-green-400 font-bold text-xs sm:text-sm",children:[t.toFixed(1),"% atingido"]})]})]})}var q=t(69102),P=t.n(q),T=t(24033),L=t(38794),O=t(25727),I=t(93750);let $=(a,e,t)=>{let s=[],r=a;if(t<=0||a<=0||e<=0)return[a];let o=Math.max(1,Math.floor(a/t*.1));for(let a=0;a<t-1;a++){let n=t-a-1,l=Math.min(e,r-n*o),i=Math.max(o,Math.min(5,.01*r)),d=Math.max(i,l);if(d<i||r<=o*n){s.push(o),r-=o;continue}let m=Math.max(o,Math.round(100*(Math.random()*(d-i)+i))/100);if(s.push(m),(r-=m)<0){r=0;break}}let n=Math.max(o,Math.round(100*r)/100);s.push(n);let l=a-s.reduce((a,e)=>a+e,0);Math.abs(l)>.01&&(s[s.length-1]=Math.max(o,s[s.length-1]+l));for(let a=s.length-1;a>0;a--){let e=Math.floor(Math.random()*(a+1));[s[a],s[e]]=[s[e],s[a]]}return s.map(a=>Math.max(.01,a))},W=(a,e)=>{let t=[{cor:"from-gray-400 to-gray-600",gradiente:"from-gray-300/20 to-gray-500/20"},{cor:"from-blue-400 to-blue-600",gradiente:"from-blue-300/20 to-blue-500/20"},{cor:"from-purple-400 to-purple-600",gradiente:"from-purple-300/20 to-purple-500/20"},{cor:"from-amber-400 to-amber-600",gradiente:"from-amber-300/20 to-amber-500/20"},{cor:"from-yellow-400 to-yellow-600",gradiente:"from-yellow-300/20 to-yellow-500/20"}];return a<.5*e?t[0]:a<.8*e?t[1]:a<1.2*e?t[2]:a<1.5*e?t[3]:t[4]},U=(a,e,t)=>{let s=[],r=$(a.meta_total,e,t),o=a.meta_total/t;return r.forEach((a,e)=>{let t=W(a,o);s.push({id:e+1,valor:a,...t})}),s},V=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=new Set;for(let t=1;t<=a;t++).3>Math.random()&&e.add(t);if(e.size<10)for(;e.size<15;)e.add(Math.floor(Math.random()*a)+1);return e},G=a=>{let{aberto:e,deveBrilhar:t,coletado:r}=a;return(0,s.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[!e&&t&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsx)("div",{className:"w-full h-full bg-yellow-400/30 rounded-lg blur-xl animate-glow"})}),(0,s.jsx)("img",{src:"/bau-fechado.png",alt:"Ba\xfa de tesouro",className:"w-full h-full object-contain drop-shadow-xl relative z-10 transition-all duration-500 ".concat(e?"scale-110 brightness-150":""," ").concat(!t||e||r?"":"drop-shadow-2xl"," ").concat(r?"grayscale opacity-50":"")}),!e&&t&&!r&&(0,s.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,s.jsx)("div",{className:"sparkle sparkle-1"}),(0,s.jsx)("div",{className:"sparkle sparkle-2"}),(0,s.jsx)("div",{className:"sparkle sparkle-3"}),(0,s.jsx)("div",{className:"sparkle sparkle-4"})]}),e&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute w-16 h-16 -top-8 -left-8 bg-yellow-400 rounded-full blur-2xl opacity-60 animate-pulse"}),(0,s.jsx)("div",{className:"absolute w-12 h-12 -top-6 -left-6 bg-white rounded-full blur-xl opacity-40 animate-pulse"}),(0,s.jsx)("div",{className:"absolute w-8 h-8 -top-4 -left-4 bg-yellow-300 rounded-full blur-lg opacity-80 animate-pulse"}),(0,s.jsx)("div",{className:"absolute w-3 h-3 -top-10 left-2 bg-green-400 rounded-full blur-sm opacity-90 animate-pulse"}),(0,s.jsx)("div",{className:"absolute w-3 h-3 -top-8 left-6 bg-blue-400 rounded-full blur-sm opacity-90 animate-pulse",style:{animationDelay:"0.2s"}}),(0,s.jsx)("div",{className:"absolute w-3 h-3 -top-12 left-4 bg-pink-400 rounded-full blur-sm opacity-90 animate-pulse",style:{animationDelay:"0.4s"}})]})})]})},H=a=>{let{direcao:e,ativo:t}=a;return(0,s.jsx)("div",{className:"".concat(t?"text-orange-500 opacity-100 animate-pulse":"text-orange-400 opacity-70"," ").concat("right"===e?"rotate-0":"left"===e?"rotate-180":"rotate-90"," transition-all drop-shadow-lg"),children:(0,s.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"sm:w-7 sm:h-7 md:w-8 md:h-8",children:(0,s.jsx)("path",{d:"M13 7L18 12L13 17M6 12H18",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})})},Q=async a=>{try{console.log("\uD83C\uDF89 Disparando confete com config:",a);let e={...a,useWorker:!1};try{let a=(await t.e(8034).then(t.bind(t,68034))).default;"function"==typeof a?(a(e),console.log("✅ Confete disparado com sucesso!")):console.error("❌ Confetti n\xe3o \xe9 uma fun\xe7\xe3o:",typeof a)}catch(a){console.error("❌ Erro ao carregar canvas-confetti:",a)}}catch(a){console.error("❌ Erro ao carregar/disparar confetti:",a)}};function J(a){let{meta:e}=a,t=(0,T.useRouter)(),[o,n]=(0,r.useState)(null),[l,i]=(0,r.useState)(0),[d,m]=(0,r.useState)(0),[x,c]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[v,k]=(0,r.useState)(new Set),[N,z]=(0,r.useState)(1),[F,D]=(0,r.useState)([]),[S,_]=(0,r.useState)(new Set),[A,M]=(0,r.useState)([]),[Z,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{var a;console.log("\uD83D\uDD0D Buscando ba\xfas do banco para meta:",e.id);let{data:t,error:s}=await (0,O.uX)(e.id);if(s){console.error("❌ Erro ao buscar ba\xfas:",s);let a=e.valor_max_por_bau||150,t=e.num_baus_total||50,r=U(e,a,t),o=V(t);D(r),_(o),E(!0);return}if(!t||0===t.length){console.error("❌ Erro cr\xedtico: Nenhum ba\xfa foi criado automaticamente");let a=e.valor_max_por_bau||150,t=e.num_baus_total||Math.ceil(e.meta_total/a),s=U(e,a,t),r=V(t);D(s),_(r),M([]),E(!0);return}console.log("✅ Ba\xfas carregados do banco:",t.length);let r=t.map(a=>{let s=e.meta_total/t.length,r=W(a.valor_original,s);return{id:a.numero_bau,valor:a.valor_original,...r}}),o=new Set,n=(null===(a=t.find(a=>!a.coletado))||void 0===a?void 0:a.numero_bau)||1;t.forEach(a=>{a.coletado&&o.add(a.numero_bau)}),D(r),M(t),k(o),z(n);let l=V(t.length);_(l),E(!0),console.log("✅ Ba\xfas carregados:",{total:r.length,coletados:o.size,proximo:n})}catch(a){console.error("❌ Erro ao carregar ba\xfas:",a),E(!0)}})()},[e]);let B=a=>Math.round(a*(15*Math.random()+5)/100*100)/100,R=(a,e)=>{if(a!==N){alert("Voc\xea precisa abrir os ba\xfas na ordem! Pr\xf3ximo ba\xfa dispon\xedvel: #"+N);return}v.has(a)||(h(!0),n(a),setTimeout(()=>{let a=B(e);i(a),m(e),c((e-a).toFixed(2).replace(".",",")),h(!1),w(!0),Q({particleCount:150,spread:80,origin:{y:.5,x:.5},colors:["#FFD700","#FFA500","#FF6347","#00C2FF","#FF69B4"]}),setTimeout(()=>{Q({particleCount:100,angle:60,spread:55,origin:{x:0,y:.6},colors:["#FFD700","#FFA500","#00C2FF"]})},200),setTimeout(()=>{Q({particleCount:100,angle:120,spread:55,origin:{x:1,y:.6},colors:["#FFD700","#FFA500","#00C2FF"]})},400)},800))},q=async()=>{if(o){f(!0);try{let a=(0,I.d)(x);console.log("\uD83C\uDF81 Tentando recolher ba\xfa:",{meta_id:e.id,valor_original:d,desconto:l,bau_tipo:Math.round(d),valor_depositado:a});let s=await (0,O.HR)(e.id,d,l);if(console.log("\uD83D\uDCE6 Resultado do servidor:",s),s.error){console.error("❌ Erro ao guardar ba\xfa:",s.error);let a=s.error.includes("bau_tipo_check")||s.error.includes("constraint")?'⚠️ CONFIGURA\xc7\xc3O NECESS\xc1RIA NO BANCO DE DADOS\n\nO ba\xfa n\xe3o p\xf4de ser guardado porque o banco de dados precisa ser atualizado.\n\n\uD83D\uDCCB SOLU\xc7\xc3O R\xc1PIDA (2 minutos):\n1. Abra: https://supabase.com/dashboard\n2. Clique em "SQL Editor" no menu lateral\n3. Clique em "+ New query"\n4. Cole: ALTER TABLE depositos_cofrinho DROP CONSTRAINT IF EXISTS depositos_cofrinho_bau_tipo_check;\n5. Clique em "RUN"\n6. Volte aqui e tente novamente!\n\n\uD83D\uDCD6 Veja o guia completo em: PASSO-A-PASSO-SUPABASE.md':"Erro ao guardar ba\xfa: ".concat(s.error,"\n\nSe o problema persistir, verifique o arquivo PASSO-A-PASSO-SUPABASE.md");alert(a),f(!1);return}console.log("✅ Dep\xf3sito criado com sucesso!");let r=A.find(a=>a.numero_bau===o);if(r&&r.id){console.log("\uD83D\uDCDD Marcando ba\xfa como coletado no banco:",r.id);let e=await (0,O.Xc)(r.id,a);e.error?console.warn("⚠️ Erro ao marcar ba\xfa como coletado (mas dep\xf3sito foi salvo):",e.error):console.log("✅ Ba\xfa marcado como coletado no banco!")}else console.warn("⚠️ Ba\xfa n\xe3o encontrado no banco (usando apenas estado local):",o),console.warn("\uD83D\uDCA1 Dica: Execute os scripts SQL para criar os ba\xfas no banco de dados");if(console.log("\uD83D\uDCDD Atualizando estado visual do ba\xfa..."),n(null),k(a=>{let e=new Set(Array.from(a));return e.add(o),console.log("✅ Ba\xfa marcado como coletado visualmente:",o),e}),A.length>0){let a=A.find(a=>!a.coletado&&a.numero_bau>o);a?(z(a.numero_bau),console.log("\uD83D\uDCDD Pr\xf3ximo ba\xfa dispon\xedvel:",a.numero_bau)):console.log("\uD83C\uDF89 Todos os ba\xfas foram coletados!")}else{let a=o+1,e=F.length;a<=e?(z(a),console.log("\uD83D\uDCDD Pr\xf3ximo ba\xfa dispon\xedvel (local):",a)):console.log("\uD83C\uDF89 Todos os ba\xfas foram coletados!")}w(!1),g(!0),f(!1),console.log("\uD83D\uDD04 Estado atualizado, ba\xfa deve estar cinza agora!"),console.log("\uD83C\uDF8A Iniciando anima\xe7\xe3o de confete..."),Q({particleCount:300,spread:120,origin:{y:.5,x:.5},colors:["#00C2FF","#FFD700","#FF69B4","#FFA500","#32CD32","#FF1493"],zIndex:9999}),setTimeout(()=>{Q({particleCount:150,angle:60,spread:70,origin:{x:.1,y:.6},colors:["#FFD700","#FFA500","#00C2FF"],zIndex:9999}),Q({particleCount:150,angle:120,spread:70,origin:{x:.9,y:.6},colors:["#FFD700","#FFA500","#00C2FF"],zIndex:9999})},200),setTimeout(()=>{Q({particleCount:200,spread:90,origin:{y:.2,x:.5},colors:["#FFD700","#FF69B4","#32CD32","#00C2FF"],zIndex:9999})},400),setTimeout(()=>{Q({particleCount:180,spread:80,origin:{y:.8,x:.5},colors:["#FFD700","#00C2FF","#FF69B4","#FFA500"],zIndex:9999})},600),setTimeout(()=>{Q({particleCount:250,spread:110,origin:{y:.5,x:.5},colors:["#FFD700","#00C2FF","#FF69B4","#32CD32","#FFA500"],zIndex:9999})},800),console.log("\uD83C\uDF89 Todas as anima\xe7\xf5es de confete agendadas!"),console.log("⏱️ Aguardando 5 segundos para visualizar confetes e mudan\xe7a antes do reload..."),setTimeout(()=>{console.log("\uD83D\uDD04 Recarregando p\xe1gina para atualizar progresso!"),t.refresh()},5e3)}catch(e){console.error("❌ Exce\xe7\xe3o ao recolher ba\xfa:",e);let a="⚠️ Erro inesperado ao recolher ba\xfa!\n\n"+"Detalhes: ".concat(e.message||"Erro desconhecido","\n\n")+"\uD83D\uDCD6 Consulte o guia: PASSO-A-PASSO-SUPABASE.md";alert(a),f(!1)}}},$=()=>{w(!1),n(null),i(0),c("")};return Z&&0!==F.length?(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 text-center px-3 sm:px-4 mb-5 sm:mb-6",children:[(0,s.jsxs)("h3",{className:"jsx-7e633d9acb87e9a7 text-xl sm:text-2xl md:text-3xl font-display text-brand-white mb-2 sm:mb-3 flex items-center justify-center gap-2",children:[(0,s.jsx)(y.Z,{className:"text-yellow-400 sm:w-7 sm:h-7 md:w-8 md:h-8",size:24}),(0,s.jsx)("span",{className:"jsx-7e633d9acb87e9a7 hidden sm:inline",children:"Escolha seu Ba\xfa de Tesouro"}),(0,s.jsx)("span",{className:"jsx-7e633d9acb87e9a7 sm:hidden",children:"Ba\xfas de Tesouro"})]}),(0,s.jsx)("p",{className:"jsx-7e633d9acb87e9a7 text-brand-clean text-xs sm:text-sm md:text-base max-w-2xl mx-auto px-2 leading-relaxed",children:"Clique em um ba\xfa para abrir e descobrir seu pr\xeamio surpresa! Cada ba\xfa oferece um desconto especial no seu dep\xf3sito!"})]}),(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 grid grid-cols-3 gap-x-4 sm:gap-x-5 md:gap-x-6 gap-y-20 sm:gap-y-24 lg:gap-y-28 max-w-5xl mx-auto pb-8 sm:pb-10 px-3 sm:px-4 md:px-0",children:F.map((a,e)=>{let t=e%3,r=Math.floor(e/3),n=Math.ceil(F.length/3),l=null;r%2==0?t<2&&e<F.length-1?l="right":2===t&&r<n-1&&(l="down"):t>0&&e<F.length-1?l="left":0===t&&r<n-1&&(l="down");let i=S.has(a.id),d=v.has(a.id),m=a.id===N,x=a.id===N-1||a.id===N;return(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 relative flex items-center justify-center",children:[(0,s.jsx)("button",{onClick:()=>R(a.id,a.valor),disabled:p||b||d||a.id!==N,className:"jsx-7e633d9acb87e9a7 "+"\n                  relative group\n                  transition-all duration-300 \n                  ".concat(d?"opacity-50 cursor-not-allowed":"","\n                  ").concat(a.id===N||d?"":"opacity-40 cursor-not-allowed","\n                  ").concat(o===a.id?"":"hover:animate-shake","\n                  ").concat(o===a.id?"scale-110":"","\n                  w-full\n                "),children:(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 "+"\n                  relative\n                  aspect-square\n                  flex flex-col items-center justify-center\n                  w-full max-w-[75px] sm:max-w-[85px] md:max-w-[95px] lg:max-w-[105px] mx-auto\n                  ".concat(u&&o===a.valor?"animate-bounce":"","\n                "),children:[(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 "+"\n                    w-full h-auto\n                    ".concat(o===a.id?"":"group-hover:animate-shake-fast","\n                    ").concat(o===a.id?"animate-pulse":"","\n                  "),children:(0,s.jsx)(G,{aberto:o===a.id,deveBrilhar:i,coletado:d})}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 absolute -bottom-14 sm:-bottom-16 md:-bottom-18 left-1/2 transform -translate-x-1/2 text-center w-full flex flex-col items-center gap-1.5 sm:gap-2 pb-1",children:[(0,s.jsxs)("p",{className:"jsx-7e633d9acb87e9a7 "+"font-bold text-sm sm:text-base md:text-lg drop-shadow-lg ".concat(d?"text-gray-500":"text-white"," leading-tight whitespace-nowrap"),children:["R$ ",a.valor.toFixed(2).replace(".",",")]}),d?(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 px-3 sm:px-4 md:px-5 py-1.5 sm:py-2 bg-gray-600 text-gray-300 rounded-full text-xs sm:text-sm md:text-base font-semibold shadow-lg whitespace-nowrap",children:"Coletado"}):m?(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 px-3 sm:px-4 md:px-5 py-1.5 sm:py-2 bg-gradient-to-r from-brand-aqua to-blue-500 text-brand-midnight rounded-full text-xs sm:text-sm md:text-base font-semibold shadow-lg whitespace-nowrap animate-pulse",children:"Abrir!"}):(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 px-3 sm:px-4 md:px-5 py-1.5 sm:py-2 bg-gray-700 text-gray-400 rounded-full text-xs sm:text-sm md:text-base font-semibold shadow-lg whitespace-nowrap",children:"Aguarde"})]})]})}),l&&(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 "+"\n                  absolute pointer-events-none z-10\n                  ".concat("right"===l?"right-[-20px] sm:right-[-24px] md:right-[-28px] top-1/2 -translate-y-1/2":"","\n                  ").concat("left"===l?"left-[-20px] sm:left-[-24px] md:left-[-28px] top-1/2 -translate-y-1/2":"","\n                  ").concat("down"===l?"bottom-[-80px] sm:bottom-[-42px] md:bottom-[-48px] left-1/2 -translate-x-1/2":"","\n                "),children:(0,s.jsx)(H,{direcao:l,ativo:x})})]},a.id)})}),j&&o&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{onClick:$,style:{backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",position:"fixed",margin:0},className:"jsx-7e633d9acb87e9a7 fixed top-0 left-0 right-0 bottom-0 w-screen h-screen z-[99999] bg-black/60 flex items-center justify-center p-3 sm:p-4 overflow-y-auto",children:(0,s.jsxs)("div",{onClick:a=>a.stopPropagation(),className:"jsx-7e633d9acb87e9a7 bg-transparent max-w-xl w-full animate-scale-up flex flex-col items-center gap-0 my-4 sm:my-0",children:[(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 relative w-48 h-48 flex items-center justify-center mb-[-30px] z-20",children:[(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 absolute inset-0 bg-gradient-radial from-yellow-400/20 via-transparent to-transparent animate-pulse blur-2xl"}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 confetti-container absolute inset-0 overflow-visible pointer-events-none",children:[(0,s.jsx)("div",{style:{left:"5%",top:"15%"},className:"jsx-7e633d9acb87e9a7 particle particle-1",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-3 h-3 rounded-full bg-gradient-to-br from-yellow-300 to-yellow-500 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"85%",top:"10%"},className:"jsx-7e633d9acb87e9a7 particle particle-2",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-2.5 h-2.5 bg-gradient-to-br from-amber-300 to-amber-500 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"10%",top:"75%"},className:"jsx-7e633d9acb87e9a7 particle particle-3",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-2 h-2 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"90%",top:"70%"},className:"jsx-7e633d9acb87e9a7 particle particle-4",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-3 h-3 bg-gradient-to-br from-yellow-300 to-yellow-600 shadow-lg transform rotate-45"})}),(0,s.jsx)("div",{style:{left:"50%",top:"5%"},className:"jsx-7e633d9acb87e9a7 particle particle-5",children:(0,s.jsx)("div",{style:{clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"},className:"jsx-7e633d9acb87e9a7 w-4 h-4 bg-gradient-to-br from-yellow-200 to-yellow-400 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"15%",top:"45%"},className:"jsx-7e633d9acb87e9a7 particle particle-6",children:(0,s.jsx)("div",{style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)"},className:"jsx-7e633d9acb87e9a7 w-3 h-3 bg-gradient-to-br from-amber-200 to-amber-400 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"80%",top:"50%"},className:"jsx-7e633d9acb87e9a7 particle particle-7",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-3.5 h-3.5 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg"})}),(0,s.jsx)("div",{style:{left:"50%",top:"85%"},className:"jsx-7e633d9acb87e9a7 particle particle-8",children:(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 w-2 h-2 bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-lg"})})]}),(0,s.jsx)("img",{src:"/bau-aberto.png",alt:"Ba\xfa aberto",className:"jsx-7e633d9acb87e9a7 w-full h-full object-contain animate-bounce drop-shadow-2xl relative z-10"})]}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 bg-white dark:bg-brand-royal rounded-2xl shadow-xl p-5 w-full z-10 max-w-sm relative border border-gray-200 dark:border-white/10",children:[(0,s.jsx)("button",{onClick:$,"aria-label":"Fechar",className:"jsx-7e633d9acb87e9a7 absolute top-3 right-3 w-7 h-7 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-white/10 hover:bg-gray-200 dark:hover:bg-white/20 text-gray-500 dark:text-brand-clean hover:text-gray-700 dark:hover:text-brand-clean transition-colors z-20",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-7e633d9acb87e9a7 w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-7e633d9acb87e9a7"})})}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 mb-4 text-center",children:[(0,s.jsx)("div",{className:"jsx-7e633d9acb87e9a7 inline-flex items-center justify-center w-12 h-12 bg-brand-aqua rounded-xl mb-2",children:(0,s.jsx)(y.Z,{size:24,className:"text-white"})}),(0,s.jsx)("h3",{className:"jsx-7e633d9acb87e9a7 text-lg font-bold text-brand-midnight dark:text-brand-clean mb-1",children:"Parab\xe9ns!"}),(0,s.jsx)("p",{className:"jsx-7e633d9acb87e9a7 text-xs text-gray-600 dark:text-brand-clean/70",children:"Voc\xea ganhou um desconto"})]}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 bg-gray-50 dark:bg-brand-midnight/50 rounded-xl p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsx)("p",{className:"jsx-7e633d9acb87e9a7 text-xs text-gray-500 dark:text-brand-clean/70 mb-1",children:"Valor original"}),(0,s.jsxs)("p",{className:"jsx-7e633d9acb87e9a7 text-base font-bold text-gray-400 dark:text-brand-clean/60 line-through",children:["R$ ",d.toFixed(2).replace(".",",")]})]}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 bg-red-50 dark:bg-red-900/20 rounded-xl p-3 border border-red-200 dark:border-red-800/50",children:[(0,s.jsx)("p",{className:"jsx-7e633d9acb87e9a7 text-xs text-gray-500 dark:text-brand-clean/70 mb-1",children:"Desconto especial"}),(0,s.jsxs)("p",{className:"jsx-7e633d9acb87e9a7 text-lg font-bold text-red-500 dark:text-red-400",children:["- R$ ",l.toFixed(2).replace(".",",")]})]}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 bg-brand-aqua/10 dark:bg-brand-aqua/20 rounded-xl p-3 border-2 border-brand-aqua",children:[(0,s.jsx)("p",{className:"jsx-7e633d9acb87e9a7 text-xs text-gray-600 dark:text-brand-clean/80 mb-1",children:"Voc\xea vai guardar"}),(0,s.jsxs)("p",{className:"jsx-7e633d9acb87e9a7 text-xl font-bold text-brand-midnight dark:text-brand-clean",children:["R$ ",x]})]})]}),(0,s.jsxs)("div",{className:"jsx-7e633d9acb87e9a7 flex flex-col gap-2",children:[(0,s.jsx)("button",{onClick:q,disabled:p,className:"jsx-7e633d9acb87e9a7 w-full px-4 py-2.5 bg-brand-aqua hover:bg-blue-600 text-white rounded-xl font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{size:16,className:"animate-spin"}),(0,s.jsx)("span",{className:"jsx-7e633d9acb87e9a7",children:"Guardando..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.Z,{size:16}),(0,s.jsx)("span",{className:"jsx-7e633d9acb87e9a7",children:"Recolher ba\xfa e guardar dinheiro"})]})}),(0,s.jsx)("button",{onClick:$,disabled:p,className:"jsx-7e633d9acb87e9a7 w-full px-4 py-2 bg-gray-100 dark:bg-white/10 hover:bg-gray-200 dark:hover:bg-white/20 text-gray-700 dark:text-brand-clean rounded-xl font-medium disabled:opacity-50 text-sm transition-colors",children:"Abortar ba\xfa para depois"})]})]})]})})}),(0,s.jsx)(P(),{id:"7e633d9acb87e9a7",children:"@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);transform:translatey(-10px)}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0px);transform:translatey(0px)}50%{-moz-transform:translatey(-10px);transform:translatey(-10px)}}@-o-keyframes float{0%,100%{-o-transform:translatey(0px);transform:translatey(0px)}50%{-o-transform:translatey(-10px);transform:translatey(-10px)}}@keyframes float{0%,100%{-webkit-transform:translatey(0px);-moz-transform:translatey(0px);-o-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}}.animate-float{-webkit-animation:float 3s ease-in-out infinite;-moz-animation:float 3s ease-in-out infinite;-o-animation:float 3s ease-in-out infinite;animation:float 3s ease-in-out infinite}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0)rotate(0deg);transform:translatex(0)rotate(0deg)}25%{-webkit-transform:translatex(-2px)rotate(-1deg);transform:translatex(-2px)rotate(-1deg)}75%{-webkit-transform:translatex(2px)rotate(1deg);transform:translatex(2px)rotate(1deg)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0)rotate(0deg);transform:translatex(0)rotate(0deg)}25%{-moz-transform:translatex(-2px)rotate(-1deg);transform:translatex(-2px)rotate(-1deg)}75%{-moz-transform:translatex(2px)rotate(1deg);transform:translatex(2px)rotate(1deg)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0)rotate(0deg);transform:translatex(0)rotate(0deg)}25%{-o-transform:translatex(-2px)rotate(-1deg);transform:translatex(-2px)rotate(-1deg)}75%{-o-transform:translatex(2px)rotate(1deg);transform:translatex(2px)rotate(1deg)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0)rotate(0deg);-moz-transform:translatex(0)rotate(0deg);-o-transform:translatex(0)rotate(0deg);transform:translatex(0)rotate(0deg)}25%{-webkit-transform:translatex(-2px)rotate(-1deg);-moz-transform:translatex(-2px)rotate(-1deg);-o-transform:translatex(-2px)rotate(-1deg);transform:translatex(-2px)rotate(-1deg)}75%{-webkit-transform:translatex(2px)rotate(1deg);-moz-transform:translatex(2px)rotate(1deg);-o-transform:translatex(2px)rotate(1deg);transform:translatex(2px)rotate(1deg)}}.animate-shake{-webkit-animation:shake.5s ease-in-out infinite;-moz-animation:shake.5s ease-in-out infinite;-o-animation:shake.5s ease-in-out infinite;animation:shake.5s ease-in-out infinite}@-webkit-keyframes shake-fast{0%,100%{-webkit-transform:translatex(0)translatey(0)rotate(0deg);transform:translatex(0)translatey(0)rotate(0deg)}10%{-webkit-transform:translatex(-3px)translatey(-2px)rotate(-2deg);transform:translatex(-3px)translatey(-2px)rotate(-2deg)}20%{-webkit-transform:translatex(3px)translatey(-1px)rotate(2deg);transform:translatex(3px)translatey(-1px)rotate(2deg)}30%{-webkit-transform:translatex(-3px)translatey(1px)rotate(-2deg);transform:translatex(-3px)translatey(1px)rotate(-2deg)}40%{-webkit-transform:translatex(3px)translatey(-2px)rotate(2deg);transform:translatex(3px)translatey(-2px)rotate(2deg)}50%{-webkit-transform:translatex(-2px)translatey(2px)rotate(-1deg);transform:translatex(-2px)translatey(2px)rotate(-1deg)}60%{-webkit-transform:translatex(2px)translatey(-1px)rotate(1deg);transform:translatex(2px)translatey(-1px)rotate(1deg)}70%{-webkit-transform:translatex(-2px)translatey(1px)rotate(-1deg);transform:translatex(-2px)translatey(1px)rotate(-1deg)}80%{-webkit-transform:translatex(2px)translatey(-2px)rotate(1deg);transform:translatex(2px)translatey(-2px)rotate(1deg)}90%{-webkit-transform:translatex(-1px)translatey(1px)rotate(-.5deg);transform:translatex(-1px)translatey(1px)rotate(-.5deg)}}@-moz-keyframes shake-fast{0%,100%{-moz-transform:translatex(0)translatey(0)rotate(0deg);transform:translatex(0)translatey(0)rotate(0deg)}10%{-moz-transform:translatex(-3px)translatey(-2px)rotate(-2deg);transform:translatex(-3px)translatey(-2px)rotate(-2deg)}20%{-moz-transform:translatex(3px)translatey(-1px)rotate(2deg);transform:translatex(3px)translatey(-1px)rotate(2deg)}30%{-moz-transform:translatex(-3px)translatey(1px)rotate(-2deg);transform:translatex(-3px)translatey(1px)rotate(-2deg)}40%{-moz-transform:translatex(3px)translatey(-2px)rotate(2deg);transform:translatex(3px)translatey(-2px)rotate(2deg)}50%{-moz-transform:translatex(-2px)translatey(2px)rotate(-1deg);transform:translatex(-2px)translatey(2px)rotate(-1deg)}60%{-moz-transform:translatex(2px)translatey(-1px)rotate(1deg);transform:translatex(2px)translatey(-1px)rotate(1deg)}70%{-moz-transform:translatex(-2px)translatey(1px)rotate(-1deg);transform:translatex(-2px)translatey(1px)rotate(-1deg)}80%{-moz-transform:translatex(2px)translatey(-2px)rotate(1deg);transform:translatex(2px)translatey(-2px)rotate(1deg)}90%{-moz-transform:translatex(-1px)translatey(1px)rotate(-.5deg);transform:translatex(-1px)translatey(1px)rotate(-.5deg)}}@-o-keyframes shake-fast{0%,100%{-o-transform:translatex(0)translatey(0)rotate(0deg);transform:translatex(0)translatey(0)rotate(0deg)}10%{-o-transform:translatex(-3px)translatey(-2px)rotate(-2deg);transform:translatex(-3px)translatey(-2px)rotate(-2deg)}20%{-o-transform:translatex(3px)translatey(-1px)rotate(2deg);transform:translatex(3px)translatey(-1px)rotate(2deg)}30%{-o-transform:translatex(-3px)translatey(1px)rotate(-2deg);transform:translatex(-3px)translatey(1px)rotate(-2deg)}40%{-o-transform:translatex(3px)translatey(-2px)rotate(2deg);transform:translatex(3px)translatey(-2px)rotate(2deg)}50%{-o-transform:translatex(-2px)translatey(2px)rotate(-1deg);transform:translatex(-2px)translatey(2px)rotate(-1deg)}60%{-o-transform:translatex(2px)translatey(-1px)rotate(1deg);transform:translatex(2px)translatey(-1px)rotate(1deg)}70%{-o-transform:translatex(-2px)translatey(1px)rotate(-1deg);transform:translatex(-2px)translatey(1px)rotate(-1deg)}80%{-o-transform:translatex(2px)translatey(-2px)rotate(1deg);transform:translatex(2px)translatey(-2px)rotate(1deg)}90%{-o-transform:translatex(-1px)translatey(1px)rotate(-.5deg);transform:translatex(-1px)translatey(1px)rotate(-.5deg)}}@keyframes shake-fast{0%,100%{-webkit-transform:translatex(0)translatey(0)rotate(0deg);-moz-transform:translatex(0)translatey(0)rotate(0deg);-o-transform:translatex(0)translatey(0)rotate(0deg);transform:translatex(0)translatey(0)rotate(0deg)}10%{-webkit-transform:translatex(-3px)translatey(-2px)rotate(-2deg);-moz-transform:translatex(-3px)translatey(-2px)rotate(-2deg);-o-transform:translatex(-3px)translatey(-2px)rotate(-2deg);transform:translatex(-3px)translatey(-2px)rotate(-2deg)}20%{-webkit-transform:translatex(3px)translatey(-1px)rotate(2deg);-moz-transform:translatex(3px)translatey(-1px)rotate(2deg);-o-transform:translatex(3px)translatey(-1px)rotate(2deg);transform:translatex(3px)translatey(-1px)rotate(2deg)}30%{-webkit-transform:translatex(-3px)translatey(1px)rotate(-2deg);-moz-transform:translatex(-3px)translatey(1px)rotate(-2deg);-o-transform:translatex(-3px)translatey(1px)rotate(-2deg);transform:translatex(-3px)translatey(1px)rotate(-2deg)}40%{-webkit-transform:translatex(3px)translatey(-2px)rotate(2deg);-moz-transform:translatex(3px)translatey(-2px)rotate(2deg);-o-transform:translatex(3px)translatey(-2px)rotate(2deg);transform:translatex(3px)translatey(-2px)rotate(2deg)}50%{-webkit-transform:translatex(-2px)translatey(2px)rotate(-1deg);-moz-transform:translatex(-2px)translatey(2px)rotate(-1deg);-o-transform:translatex(-2px)translatey(2px)rotate(-1deg);transform:translatex(-2px)translatey(2px)rotate(-1deg)}60%{-webkit-transform:translatex(2px)translatey(-1px)rotate(1deg);-moz-transform:translatex(2px)translatey(-1px)rotate(1deg);-o-transform:translatex(2px)translatey(-1px)rotate(1deg);transform:translatex(2px)translatey(-1px)rotate(1deg)}70%{-webkit-transform:translatex(-2px)translatey(1px)rotate(-1deg);-moz-transform:translatex(-2px)translatey(1px)rotate(-1deg);-o-transform:translatex(-2px)translatey(1px)rotate(-1deg);transform:translatex(-2px)translatey(1px)rotate(-1deg)}80%{-webkit-transform:translatex(2px)translatey(-2px)rotate(1deg);-moz-transform:translatex(2px)translatey(-2px)rotate(1deg);-o-transform:translatex(2px)translatey(-2px)rotate(1deg);transform:translatex(2px)translatey(-2px)rotate(1deg)}90%{-webkit-transform:translatex(-1px)translatey(1px)rotate(-.5deg);-moz-transform:translatex(-1px)translatey(1px)rotate(-.5deg);-o-transform:translatex(-1px)translatey(1px)rotate(-.5deg);transform:translatex(-1px)translatey(1px)rotate(-.5deg)}}.animate-shake-fast{-webkit-animation:shake-fast.4s ease-in-out infinite;-moz-animation:shake-fast.4s ease-in-out infinite;-o-animation:shake-fast.4s ease-in-out infinite;animation:shake-fast.4s ease-in-out infinite}@-webkit-keyframes glow{0%,100%{opacity:.3;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.8;-webkit-transform:scale(1.2);transform:scale(1.2)}}@-moz-keyframes glow{0%,100%{opacity:.3;-moz-transform:scale(1);transform:scale(1)}50%{opacity:.8;-moz-transform:scale(1.2);transform:scale(1.2)}}@-o-keyframes glow{0%,100%{opacity:.3;-o-transform:scale(1);transform:scale(1)}50%{opacity:.8;-o-transform:scale(1.2);transform:scale(1.2)}}@keyframes glow{0%,100%{opacity:.3;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:.8;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}}.animate-glow{-webkit-animation:glow 2s ease-in-out infinite;-moz-animation:glow 2s ease-in-out infinite;-o-animation:glow 2s ease-in-out infinite;animation:glow 2s ease-in-out infinite}.sparkle{position:absolute;width:4px;height:4px;background:#ffd700;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 0 10px#ffd700,0 0 20px#ffa500;-moz-box-shadow:0 0 10px#ffd700,0 0 20px#ffa500;box-shadow:0 0 10px#ffd700,0 0 20px#ffa500;-webkit-animation:sparkle-float 3s ease-in-out infinite;-moz-animation:sparkle-float 3s ease-in-out infinite;-o-animation:sparkle-float 3s ease-in-out infinite;animation:sparkle-float 3s ease-in-out infinite}.sparkle-1{top:10%;left:10%;-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.sparkle-2{top:20%;right:15%;-webkit-animation-delay:.5s;-moz-animation-delay:.5s;-o-animation-delay:.5s;animation-delay:.5s}.sparkle-3{bottom:20%;left:15%;-webkit-animation-delay:1s;-moz-animation-delay:1s;-o-animation-delay:1s;animation-delay:1s}.sparkle-4{bottom:15%;right:10%;-webkit-animation-delay:1.5s;-moz-animation-delay:1.5s;-o-animation-delay:1.5s;animation-delay:1.5s}@-webkit-keyframes sparkle-float{0%,100%{opacity:0;-webkit-transform:translatey(0)scale(0);transform:translatey(0)scale(0)}50%{opacity:1;-webkit-transform:translatey(-10px)scale(1.5);transform:translatey(-10px)scale(1.5)}}@-moz-keyframes sparkle-float{0%,100%{opacity:0;-moz-transform:translatey(0)scale(0);transform:translatey(0)scale(0)}50%{opacity:1;-moz-transform:translatey(-10px)scale(1.5);transform:translatey(-10px)scale(1.5)}}@-o-keyframes sparkle-float{0%,100%{opacity:0;-o-transform:translatey(0)scale(0);transform:translatey(0)scale(0)}50%{opacity:1;-o-transform:translatey(-10px)scale(1.5);transform:translatey(-10px)scale(1.5)}}@keyframes sparkle-float{0%,100%{opacity:0;-webkit-transform:translatey(0)scale(0);-moz-transform:translatey(0)scale(0);-o-transform:translatey(0)scale(0);transform:translatey(0)scale(0)}50%{opacity:1;-webkit-transform:translatey(-10px)scale(1.5);-moz-transform:translatey(-10px)scale(1.5);-o-transform:translatey(-10px)scale(1.5);transform:translatey(-10px)scale(1.5)}}.particle{position:absolute;-webkit-animation:particle-float 3s ease-in-out infinite;-moz-animation:particle-float 3s ease-in-out infinite;-o-animation:particle-float 3s ease-in-out infinite;animation:particle-float 3s ease-in-out infinite;opacity:0}.particle-1{-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.particle-2{-webkit-animation-delay:.3s;-moz-animation-delay:.3s;-o-animation-delay:.3s;animation-delay:.3s}.particle-3{-webkit-animation-delay:.6s;-moz-animation-delay:.6s;-o-animation-delay:.6s;animation-delay:.6s}.particle-4{-webkit-animation-delay:.9s;-moz-animation-delay:.9s;-o-animation-delay:.9s;animation-delay:.9s}.particle-5{-webkit-animation-delay:1.2s;-moz-animation-delay:1.2s;-o-animation-delay:1.2s;animation-delay:1.2s}.particle-6{-webkit-animation-delay:1.5s;-moz-animation-delay:1.5s;-o-animation-delay:1.5s;animation-delay:1.5s}.particle-7{-webkit-animation-delay:1.8s;-moz-animation-delay:1.8s;-o-animation-delay:1.8s;animation-delay:1.8s}.particle-8{-webkit-animation-delay:2.1s;-moz-animation-delay:2.1s;-o-animation-delay:2.1s;animation-delay:2.1s}@-webkit-keyframes particle-float{0%{opacity:0;-webkit-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3)}20%{opacity:1}50%{opacity:.8;-webkit-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);transform:translatey(30px)translatex(5px)rotate(180deg)scale(1)}80%{opacity:.6}100%{opacity:0;-webkit-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5)}}@-moz-keyframes particle-float{0%{opacity:0;-moz-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3)}20%{opacity:1}50%{opacity:.8;-moz-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);transform:translatey(30px)translatex(5px)rotate(180deg)scale(1)}80%{opacity:.6}100%{opacity:0;-moz-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5)}}@-o-keyframes particle-float{0%{opacity:0;-o-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3)}20%{opacity:1}50%{opacity:.8;-o-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);transform:translatey(30px)translatex(5px)rotate(180deg)scale(1)}80%{opacity:.6}100%{opacity:0;-o-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5)}}@keyframes particle-float{0%{opacity:0;-webkit-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);-moz-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);-o-transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3);transform:translatey(-10px)translatex(0)rotate(0deg)scale(.3)}20%{opacity:1}50%{opacity:.8;-webkit-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);-moz-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);-o-transform:translatey(30px)translatex(5px)rotate(180deg)scale(1);transform:translatey(30px)translatex(5px)rotate(180deg)scale(1)}80%{opacity:.6}100%{opacity:0;-webkit-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);-moz-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);-o-transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5);transform:translatey(80px)translatex(-5px)rotate(360deg)scale(.5)}}.bg-gradient-radial{background:-webkit-radial-gradient(circle,var(--tw-gradient-stops));background:-moz-radial-gradient(circle,var(--tw-gradient-stops));background:-o-radial-gradient(circle,var(--tw-gradient-stops));background:radial-gradient(circle,var(--tw-gradient-stops))}"})]}):(0,s.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,s.jsx)(C.Z,{className:"w-8 h-8 animate-spin text-brand-aqua"})})}function X(a){let{metasIniciais:e=[],metaId:t}=a,[o,E]=(0,r.useState)(Array.isArray(e)?e:[]),[B,q]=(0,r.useState)(!1),[P,L]=(0,r.useState)(null),[I,$]=(0,r.useState)(!1),[W,U]=(0,r.useState)(!1),[V,G]=(0,r.useState)(!1),H=(0,T.useRouter)();(0,r.useEffect)(()=>{Array.isArray(e)&&E(e)},[e]);let Q=t?o.find(a=>a&&a.id===t)||null:o&&Array.isArray(o)&&o.length>0&&o.find(a=>a&&"ativo"===a.status)||null,X=o&&Array.isArray(o)?o.filter(a=>a&&"concluido"===a.status):[],K=()=>{Q&&U(!0)},Y=async()=>{if(Q){U(!1),$(!0);try{(await (0,O.Qs)(Q.id)).success?(H.refresh(),window.location.reload()):alert("Erro ao resetar meta. Tente novamente.")}catch(a){console.error("Erro ao resetar meta:",a),alert("Erro ao resetar meta. Tente novamente.")}finally{$(!1)}}},aa=a=>{let e={Plane:l.Z,Car:i.Z,Home:d.Z,Smartphone:m.Z,Heart:x.Z,GraduationCap:c.Z,ShoppingCart:p.Z,Gamepad:f.Z,Camera:b.Z,Music:g.Z,Dumbbell:u.Z,Briefcase:h.Z,Gift:y.Z,PiggyBank:j.Z,Wallet:w.Z,CreditCard:v.Z},t=a.icone;return t&&e[t]?e[t]:k.Z};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8 animate-slide-down",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>H.push("/minhas-metas"),className:"p-2 hover:bg-white/10 rounded-lg transition-smooth",title:"Voltar para Minhas Metas",children:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-brand-clean",children:(0,s.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(n(),{src:"/porco-azul.png",alt:"Porquinho azul",width:56,height:56,className:"object-contain",priority:!0,unoptimized:!0,style:{background:"transparent"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-display font-bold text-brand-white",children:Q?Q.nome:"Juntar Dinheiro"}),(0,s.jsx)("p",{className:"text-brand-clean text-sm",children:"Economize de forma divertida e gamificada!"})]})]}),!Q&&(0,s.jsxs)("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-brand-aqua to-blue-500 text-brand-midnight rounded-xl hover:shadow-xl transition-smooth font-medium",children:[(0,s.jsx)(N.Z,{size:20}),(0,s.jsx)("span",{children:"Nova Meta"})]})]})}),!Q&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-brand-royal to-brand-midnight rounded-3xl p-12 text-center border-2 border-brand-aqua/30 shadow-2xl animate-fade-in",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsx)("div",{className:"p-6 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full shadow-lg animate-bounce",children:(0,s.jsx)(z.Z,{size:48,className:"text-white"})})}),(0,s.jsx)("h2",{className:"text-3xl font-display font-bold text-brand-white mb-4",children:"Comece Sua Jornada de Economia!"}),(0,s.jsx)("p",{className:"text-brand-clean text-lg mb-8 max-w-2xl mx-auto",children:"Crie uma meta, escolha quando quer guardar dinheiro e ganhe pr\xeamios surpresa em cada dep\xf3sito! Quanto mais voc\xea economiza, mais recompensas voc\xea ganha!"}),(0,s.jsx)("button",{onClick:()=>q(!0),className:"px-8 py-4 bg-gradient-to-r from-brand-aqua to-blue-500 text-brand-midnight rounded-xl hover:shadow-xl transition-smooth font-bold text-lg",children:(0,s.jsxs)("span",{className:"flex items-center gap-3",children:[(0,s.jsx)(k.Z,{size:24}),"Criar Minha Primeira Meta"]})})]}),Q&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-brand-royal to-brand-midnight rounded-2xl sm:rounded-3xl p-5 sm:p-6 md:p-8 border-2 border-brand-aqua/30 shadow-2xl animate-fade-in max-w-4xl mx-auto mb-5 sm:mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-5 mb-4 sm:mb-5 md:mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 md:gap-5 w-full sm:w-auto",children:[(0,s.jsx)("div",{className:"p-3 sm:p-4 md:p-5 bg-blue-500 rounded-xl sm:rounded-2xl shadow-lg flex-shrink-0",children:(()=>{let a=aa(Q);return(0,s.jsx)(a,{size:28,className:"sm:w-8 sm:h-8 md:w-10 md:h-10 text-white"})})()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-wrap",children:(0,s.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-display font-bold text-brand-white mb-1 sm:mb-1.5 truncate",children:Q.nome})}),(0,s.jsxs)("p",{className:"text-brand-clean flex items-center gap-2 sm:gap-2.5 text-sm sm:text-base md:text-lg",children:[(0,s.jsx)(F.Z,{size:16,className:"sm:w-5 sm:h-5 md:w-6 md:h-6"}),(0,s.jsxs)("span",{className:"capitalize truncate",children:["Periodicidade: ",Q.periodicidade]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-left sm:text-right w-full sm:w-auto",children:[(0,s.jsx)("p",{className:"text-brand-clean text-sm sm:text-base md:text-lg mb-1 sm:mb-1.5",children:"Progresso"}),(0,s.jsxs)("p",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-brand-aqua",children:[Q.meta_total&&Q.meta_total>0?((Q.valor_acumulado||0)/Q.meta_total*100).toFixed(1):"0.0","%"]})]}),(0,s.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),G(!V)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Mais op\xe7\xf5es",children:(0,s.jsx)(D.Z,{size:20,className:"text-brand-clean/70"})}),V&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>G(!1)}),(0,s.jsx)("div",{className:"absolute right-0 top-10 z-50 bg-gradient-to-br from-brand-royal to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 overflow-hidden min-w-[180px] animate-scale-up",children:(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),G(!1),K()},disabled:I,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-500/20 transition-colors text-red-400 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{size:18,className:"animate-spin"}),(0,s.jsx)("span",{className:"font-medium",children:"Resetando..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.Z,{size:18}),(0,s.jsx)("span",{className:"font-medium",children:"Resetar"})]})})})]})]})]})]}),(0,s.jsxs)("div",{className:"mb-5 sm:mb-6 md:mb-7",children:[(0,s.jsxs)("div",{className:"flex justify-between text-base sm:text-lg md:text-xl text-brand-clean mb-3 sm:mb-4 font-semibold",children:[(0,s.jsxs)("span",{children:["R$ ",(Q.valor_acumulado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsxs)("span",{children:["R$ ",(Q.meta_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,s.jsx)("div",{className:"w-full h-7 sm:h-8 md:h-9 bg-brand-midnight rounded-full overflow-hidden border-2 border-brand-aqua/20",children:(0,s.jsxs)("div",{className:"h-full bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 shadow-lg shadow-blue-500/50 transition-all duration-1000 ease-out flex items-center justify-end pr-2 relative overflow-hidden",style:{width:"".concat((Q.meta_total||0)>0?Math.min((Q.valor_acumulado||0)/(Q.meta_total||1)*100,100):0,"%")},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"}),(Q.valor_acumulado||0)>0&&(0,s.jsx)(z.Z,{size:16,className:"text-white animate-pulse relative z-10"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:[(0,s.jsxs)("div",{className:"bg-brand-midnight/50 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 border border-brand-aqua/10 flex items-center gap-4 md:flex-col md:text-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(_.Z,{className:"text-blue-400 sm:w-9 sm:h-9 md:w-10 md:h-10 md:mx-auto",size:32})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 md:flex-none",children:[(0,s.jsx)("p",{className:"text-brand-clean text-sm sm:text-base md:text-lg mb-1 sm:mb-2 font-semibold",children:"Falta guardar"}),(0,s.jsxs)("p",{className:"text-brand-white font-bold text-lg sm:text-xl md:text-2xl break-words leading-tight",children:["R$ ",((Q.meta_total||0)-(Q.valor_acumulado||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),(0,s.jsxs)("div",{className:"bg-brand-midnight/50 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 border border-brand-aqua/10 flex items-center gap-4 md:flex-col md:text-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(A.Z,{className:"text-green-400 sm:w-9 sm:h-9 md:w-10 md:h-10 md:mx-auto",size:32})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 md:flex-none",children:[(0,s.jsx)("p",{className:"text-brand-clean text-sm sm:text-base md:text-lg mb-1 sm:mb-2 font-semibold",children:"J\xe1 guardado"}),(0,s.jsxs)("p",{className:"text-brand-white font-bold text-lg sm:text-xl md:text-2xl break-words leading-tight",children:["R$ ",(Q.valor_acumulado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),(0,s.jsxs)("div",{className:"bg-brand-midnight/50 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 border border-brand-aqua/10 flex items-center gap-4 md:flex-col md:text-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(M.Z,{className:"text-yellow-400 sm:w-9 sm:h-9 md:w-10 md:h-10 md:mx-auto",size:32})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 md:flex-none",children:[(0,s.jsx)("p",{className:"text-brand-clean text-sm sm:text-base md:text-lg mb-1 sm:mb-2 font-semibold",children:"Meta Total"}),(0,s.jsxs)("p",{className:"text-brand-white font-bold text-lg sm:text-xl md:text-2xl break-words leading-tight",children:["R$ ",(Q.meta_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),(0,s.jsx)(J,{meta:Q})]}),X.length>0&&(0,s.jsxs)("div",{className:"mt-8 animate-slide-up",children:[(0,s.jsxs)("h3",{className:"text-xl font-display font-bold text-brand-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(M.Z,{className:"text-yellow-400",size:24}),"Metas Conclu\xeddas"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(a=>(0,s.jsx)(R,{meta:a},a.id))})]}),B&&(0,s.jsx)(Z.Z,{onClose:()=>q(!1),onMetaCriada:a=>{E([a,...o]),q(!1)}}),W&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 w-screen h-screen z-[99999] bg-black/80 flex items-center justify-center p-4",onClick:()=>U(!1),style:{backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",position:"fixed",margin:0},children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border-2 border-white/20 p-8 max-w-md w-full animate-scale-up",onClick:a=>a.stopPropagation(),children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsx)("div",{className:"p-4 bg-red-500/20 rounded-full border-2 border-red-500/50",children:(0,s.jsx)(S.Z,{size:48,className:"text-red-400"})})}),(0,s.jsx)("h3",{className:"text-2xl font-display font-bold text-brand-white text-center mb-4",children:"Resetar Meta?"}),(0,s.jsxs)("div",{className:"bg-brand-midnight/50 rounded-2xl p-6 mb-6 border border-brand-aqua/20",children:[(0,s.jsx)("p",{className:"text-brand-clean text-center leading-relaxed",children:"Tem certeza que deseja resetar esta meta?"}),(0,s.jsxs)("div",{className:"mt-4 space-y-2 text-sm text-red-300/80",children:[(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Todos os ba\xfas coletados ser\xe3o resetados"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"O progresso ser\xe1 zerado"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Esta a\xe7\xe3o n\xe3o pode ser desfeita"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>U(!1),className:"flex-1 px-6 py-3 bg-brand-midnight/50 hover:bg-brand-midnight/70 border border-brand-aqua/30 text-brand-white rounded-xl font-semibold transition-all hover:scale-105",children:"Cancelar"}),(0,s.jsx)("button",{onClick:Y,disabled:I,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{size:18,className:"animate-spin"}),"Resetando..."]}):"Confirmar Reset"})]})]})})})]})}}},function(a){a.O(0,[5250,4962,889,1749,2213,4173,3468,982,4093,2971,4938,1744],function(){return a(a.s=84559)}),_N_E=a.O()}]);