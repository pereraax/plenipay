(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3145],{62898:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var r=t(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,a)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,...m},x)=>(0,r.createElement)("svg",{ref:x,...n,width:i,height:i,stroke:t,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide",`lucide-${s(e)}`,d].join(" "),...m},[...a.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},72894:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},62442:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},77216:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},99670:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},38438:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9883:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},45367:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},31541:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},82549:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},63145:function(e,a,t){Promise.resolve().then(t.bind(t,98994))},83302:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var r=t(57437),n=t(72894),s=t(82549);function i(e){let{titulo:a,mensagem:t,onConfirmar:i,onCancelar:o,textoConfirmar:l="Confirmar",textoCancelar:d="Cancelar",tipo:c="warning",loading:m=!1}=e,x={danger:{bg:"bg-red-100",icon:"text-red-600",botao:"bg-red-600 hover:bg-red-700",border:"border-red-200"},warning:{bg:"bg-orange-100",icon:"text-orange-600",botao:"bg-orange-600 hover:bg-orange-700",border:"border-orange-200"},info:{bg:"bg-blue-100",icon:"text-blue-600",botao:"bg-blue-600 hover:bg-blue-700",border:"border-blue-200"}}[c];return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-3xl shadow-2xl max-w-sm w-full p-6 animate-slide-up border-2 border-brand-aqua/30 dark:border-brand-aqua/40",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,r.jsx)("div",{className:"p-3 ".concat(x.bg," rounded-xl shadow-lg"),children:(0,r.jsx)(n.Z,{className:x.icon,size:24,strokeWidth:2.5})}),(0,r.jsx)("h3",{className:"text-xl font-display font-bold text-brand-midnight dark:text-brand-clean flex-1",children:a}),(0,r.jsx)("button",{onClick:o,disabled:m,className:"p-2 hover:bg-red-500/20 dark:hover:bg-red-500/30 rounded-xl transition-smooth disabled:opacity-50",children:(0,r.jsx)(s.Z,{size:20,className:"text-brand-midnight dark:text-brand-clean",strokeWidth:2.5})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/70 leading-relaxed",children:t})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:o,disabled:m,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-brand-midnight text-brand-midnight dark:text-brand-clean rounded-xl hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth font-semibold disabled:opacity-50 text-sm border-2 border-gray-200 dark:border-white/20",children:d}),(0,r.jsx)("button",{onClick:i,disabled:m,className:"flex-1 px-4 py-3 ".concat(x.botao," text-white rounded-xl transition-smooth font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg hover:shadow-xl"),children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Processando..."})]}):l})]})]})})}},98994:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var r=t(57437),n=t(2265),s=t(9883),i=t(62898);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),l=(0,i.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var d=t(99670),c=t(77216),m=t(45367),x=t(38438),h=t(82549),u=t(31541),b=t(24033),p=t(83302);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,i.Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),f=(0,i.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),y=(0,i.Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var j=t(62442);function v(e){let{imageFile:a,aspectRatio:t=16/9,onSave:s,onCancel:i}=e,[o,l]=(0,n.useState)(""),[d,c]=(0,n.useState)(1),[m,x]=(0,n.useState)({x:0,y:0}),[u,b]=(0,n.useState)(0),[p,v]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),[k,C]=(0,n.useState)({x:0,y:0}),[E,Z]=(0,n.useState)({x:0,y:0,scale:1}),z=(0,n.useRef)(null),M=(0,n.useRef)(null),_=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=new FileReader;e.onload=e=>{var a;l(null===(a=e.target)||void 0===a?void 0:a.result)},e.readAsDataURL(a)},[a]),(0,n.useEffect)(()=>{let e=e=>{if(p&&!w)x({x:e.clientX-k.x,y:e.clientY-k.y});else if(w){let a=e.clientX-E.x,t=e.clientY-E.y;c(Math.max(.1,Math.min(5,E.scale+Math.sqrt(a*a+t*t)/200*(a+t>0?1:-1))))}},a=()=>{v(!1),N(!1)};if(p||w)return window.addEventListener("mousemove",e),window.addEventListener("mouseup",a),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",a)}},[p,w,k,E]);let S=e=>{N(!0),Z({x:e.clientX,y:e.clientY,scale:d})};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 glass-backdrop",children:(0,r.jsxs)("div",{className:"bg-brand-royal rounded-2xl sm:rounded-3xl p-3 sm:p-6 shadow-2xl border border-white/20 max-w-4xl w-full max-h-[95vh] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-2xl font-display font-bold text-brand-clean",children:"Editar Imagem do Banner"}),(0,r.jsx)("button",{onClick:i,className:"p-1.5 sm:p-2 hover:bg-white/10 rounded-lg transition-smooth",children:(0,r.jsx)(h.Z,{size:20,className:"sm:w-6 sm:h-6 text-brand-clean"})})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col gap-2 sm:gap-4 min-h-0",children:[(0,r.jsxs)("div",{ref:M,className:"flex-1 bg-brand-midnight rounded-lg sm:rounded-xl overflow-hidden relative border-2 border-brand-aqua/30 min-h-[200px] sm:min-h-[300px]",style:{aspectRatio:t},onWheel:e=>{e.preventDefault();let a=e.deltaY>0?.9:1.1;c(e=>Math.max(.1,Math.min(5,e*a)))},children:[o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute inset-0",style:{transform:"translate(".concat(m.x,"px, ").concat(m.y,"px)"),cursor:p?"grabbing":"grab"},onMouseDown:e=>{v(!0),C({x:e.clientX-m.x,y:e.clientY-m.y})},children:(0,r.jsx)("img",{ref:_,src:o,alt:"Preview",className:"absolute top-1/2 left-1/2",style:{transform:"translate(-50%, -50%) scale(".concat(d,") rotate(").concat(u,"deg)"),maxWidth:"none",height:"auto",transition:p||w?"none":"transform 0.1s",pointerEvents:"none"},onLoad:()=>{if(_.current&&M.current){let e=_.current,a=M.current;c(1.1*Math.max(a.clientWidth/e.width,a.clientHeight/e.height)),x({x:0,y:0})}},draggable:!1})}),_.current&&M.current&&(0,r.jsx)("div",{className:"absolute w-5 h-5 sm:w-6 sm:h-6 bg-brand-aqua border-2 border-brand-midnight rounded-full cursor-nwse-resize flex items-center justify-center shadow-lg z-10",style:{left:"".concat(50+m.x/M.current.clientWidth*100+_.current.naturalWidth*d/M.current.clientWidth*50,"%"),top:"".concat(50+m.y/M.current.clientHeight*100+_.current.naturalHeight*d/M.current.clientHeight*50,"%"),transform:"translate(-50%, -50%) rotate(".concat(u,"deg)")},onMouseDown:e=>{e.stopPropagation(),v(!1),S(e)},children:(0,r.jsx)("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-brand-midnight rounded-full"})})]}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-dashed border-brand-aqua/50"})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-4 p-2 sm:p-4 bg-brand-midnight/50 rounded-lg sm:rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-brand-clean/70 hidden sm:inline",children:"Controles:"}),(0,r.jsx)("button",{onClick:()=>{b(e=>(e+90)%360)},className:"p-1.5 sm:p-2 bg-brand-midnight hover:bg-white/10 rounded-lg transition-smooth text-brand-clean",title:"Rotacionar 90\xb0",children:(0,r.jsx)(g,{size:16,className:"sm:w-5 sm:h-5"})}),(0,r.jsx)("button",{onClick:()=>c(e=>Math.min(5,1.1*e)),className:"p-1.5 sm:p-2 bg-brand-midnight hover:bg-white/10 rounded-lg transition-smooth text-brand-clean",title:"Aumentar zoom",children:(0,r.jsx)(f,{size:16,className:"sm:w-5 sm:h-5"})}),(0,r.jsx)("button",{onClick:()=>c(e=>Math.max(.1,.9*e)),className:"p-1.5 sm:p-2 bg-brand-midnight hover:bg-white/10 rounded-lg transition-smooth text-brand-clean",title:"Diminuir zoom",children:(0,r.jsx)(y,{size:16,className:"sm:w-5 sm:h-5"})}),(0,r.jsx)("button",{onClick:()=>{x({x:0,y:0}),c(1),b(0)},className:"px-2 sm:px-3 py-1.5 sm:py-2 bg-brand-midnight hover:bg-white/10 rounded-lg transition-smooth text-brand-clean text-xs sm:text-sm",title:"Resetar",children:"Resetar"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:i,className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-brand-midnight text-brand-clean rounded-lg font-medium hover:bg-white/10 transition-smooth text-sm sm:text-base",children:"Cancelar"}),(0,r.jsxs)("button",{onClick:()=>{if(!z.current||!_.current||!M.current)return;let e=z.current,a=e.getContext("2d");if(!a)return;let t=_.current,r=M.current;e.width=1920,e.height=1080,a.fillStyle="#000000",a.fillRect(0,0,1920,1080);let n=r.clientWidth,i=r.clientHeight,o=t.naturalWidth*d,l=t.naturalHeight*d,c=n/2-o/2+m.x,x=i/2-l/2+m.y,h=Math.max(0,-c/d),b=Math.max(0,-x/d),p=Math.min(t.naturalWidth,(n-c)/d),g=Math.min(t.naturalHeight,(i-x)/d),f=p-h,y=g-b;0!==u&&(a.save(),a.translate(960,540),a.rotate(u*Math.PI/180),a.translate(-960,-540)),f>0&&y>0&&a.drawImage(t,h,b,f,y,0,0,1920,1080),0!==u&&a.restore(),e.toBlob(e=>{e&&s(e)},"image/jpeg",.95)},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-brand-aqua text-brand-midnight rounded-lg font-semibold hover:bg-brand-aqua/90 transition-smooth flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[(0,r.jsx)(j.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Aplicar e Continuar"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Aplicar"})]})]})]}),(0,r.jsxs)("div",{className:"text-xs text-brand-clean/60 space-y-0.5 sm:space-y-1 px-1",children:[(0,r.jsxs)("p",{className:"hidden sm:block",children:["• ",(0,r.jsx)("strong",{children:"Arraste"})," a imagem para reposicionar"]}),(0,r.jsxs)("p",{className:"hidden sm:block",children:["• ",(0,r.jsx)("strong",{children:"Arraste o c\xedrculo"})," no canto para redimensionar"]}),(0,r.jsxs)("p",{className:"hidden sm:block",children:["• Use a ",(0,r.jsx)("strong",{children:"roda do mouse"})," ou os bot\xf5es para fazer zoom"]}),(0,r.jsxs)("p",{className:"hidden sm:block",children:["• Clique em ",(0,r.jsx)("strong",{children:"Rotacionar"})," para girar a imagem"]}),(0,r.jsx)("p",{className:"text-[10px] sm:text-xs",children:"• A \xe1rea destacada (16:9) ser\xe1 o banner final (1920x1080px)"})]})]}),(0,r.jsx)("canvas",{ref:z,className:"hidden"})]})})}function w(){let e=(0,b.useRouter)(),[a,t]=(0,n.useState)([]),[i,g]=(0,n.useState)(!0),[f,y]=(0,n.useState)(!1),[j,w]=(0,n.useState)(null),[N,k]=(0,n.useState)(!1),[C,E]=(0,n.useState)(5),[Z,z]=(0,n.useState)(!1),[M,_]=(0,n.useState)(null),[S,q]=(0,n.useState)({imagem_url:"",ordem:"0",ativo:!0,tempo_transicao:"5"});(0,n.useEffect)(()=>{T()},[]);let T=async()=>{try{let e=await fetch("/api/admin/banners");if(e.ok){let a=await e.json();t(a.banners||[]),a.banners&&a.banners.length>0&&E(a.banners[0].tempo_transicao||5)}}catch(e){console.error("Erro ao carregar banners:",e)}finally{g(!1)}},R=async e=>{z(!1),k(!0);try{let a=new File([e],(null==M?void 0:M.name)||"banner.jpg",{type:"image/jpeg",lastModified:Date.now()}),t=new FormData;t.append("file",a),t.append("folder","banners");let r=await fetch("/api/upload",{method:"POST",body:t});if(!r.ok){let e=await r.json();throw Error(e.error||"Erro ao fazer upload")}let n=await r.json();q({...S,imagem_url:n.url}),_(null)}catch(e){console.error("Erro ao fazer upload:",e),alert("Erro ao fazer upload da imagem: "+e.message)}finally{k(!1)}},A=async t=>{if(t.preventDefault(),!S.imagem_url){alert("Por favor, fa\xe7a upload de uma imagem");return}g(!0);try{let t=await fetch("/api/admin/banners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,ordem:parseInt(S.ordem)||0,tempo_transicao:parseInt(S.tempo_transicao)||5})}),r=await t.json();if(!t.ok){alert("Erro: ".concat(r.error));return}e.refresh(),await T(),y(!1),q({imagem_url:"",ordem:String(a.length),ativo:!0,tempo_transicao:String(C)})}catch(e){alert("Erro ao criar banner")}finally{g(!1)}},D=async(a,t)=>{try{if(!(await fetch("/api/admin/banners/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({ativo:!t})})).ok){alert("Erro ao atualizar banner");return}e.refresh(),await T()}catch(e){alert("Erro ao atualizar banner")}},O=async()=>{if(j)try{if(!(await fetch("/api/admin/banners/".concat(j),{method:"DELETE"})).ok){alert("Erro ao deletar banner");return}e.refresh(),await T(),w(null)}catch(e){alert("Erro ao deletar banner")}},P=async(a,t)=>{try{if(!(await fetch("/api/admin/banners/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({ordem:t})})).ok){alert("Erro ao atualizar ordem");return}e.refresh(),await T()}catch(e){alert("Erro ao atualizar ordem")}},L=async(t,r)=>{try{if(!(await fetch("/api/admin/banners/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempo_transicao:r})})).ok){alert("Erro ao atualizar tempo de transi\xe7\xe3o");return}a.length>0&&a[0].id===t&&E(r),e.refresh(),await T()}catch(e){alert("Erro ao atualizar tempo de transi\xe7\xe3o")}};if(i&&0===a.length)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"text-brand-clean",children:"Carregando banners..."})});let B=[...a].sort((e,a)=>e.ordem-a.ordem);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth shadow-lg hover:shadow-xl flex items-center gap-2",children:[(0,r.jsx)(s.Z,{size:20}),"Novo Banner"]})}),(0,r.jsx)("div",{className:"space-y-4",children:B.map((e,a)=>(0,r.jsx)("div",{className:"bg-brand-royal rounded-2xl p-6 shadow-lg border border-white/10 ".concat(e.ativo?"":"opacity-60"),children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-brand-clean",children:["Banner #",e.ordem+1]}),!e.ativo&&(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-900/50 text-gray-400 text-xs rounded-lg",children:"Inativo"})]}),(0,r.jsx)("div",{className:"mb-4 rounded-xl overflow-hidden border border-white/10 bg-brand-midnight/50",children:(0,r.jsx)("img",{src:e.imagem_url,alt:"Banner ".concat(e.ordem+1),className:"w-full h-auto max-h-64 object-cover"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-brand-clean/90 mb-1",children:"Tempo de Transi\xe7\xe3o (segundos)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"60",value:e.tempo_transicao,onChange:a=>{let t=parseInt(a.target.value)||5;L(e.id,t)},className:"w-32 px-3 py-2 bg-brand-midnight border border-white/20 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-brand-clean/50",children:[(0,r.jsxs)("span",{children:["Ordem: ",e.ordem]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("button",{onClick:()=>{if(a>0){let t=B[a-1];P(e.id,t.ordem),P(t.id,e.ordem)}},disabled:0===a,className:"p-2 bg-brand-midnight text-brand-clean rounded-lg hover:bg-white/10 transition-smooth disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover para cima",children:(0,r.jsx)(o,{size:16})}),(0,r.jsx)("button",{onClick:()=>{if(a<B.length-1){let t=B[a+1];P(e.id,t.ordem),P(t.id,e.ordem)}},disabled:a===B.length-1,className:"p-2 bg-brand-midnight text-brand-clean rounded-lg hover:bg-white/10 transition-smooth disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover para baixo",children:(0,r.jsx)(l,{size:16})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,r.jsx)("button",{onClick:()=>D(e.id,e.ativo),className:"p-2 rounded-lg transition-smooth ".concat(e.ativo?"bg-green-900/20 text-green-400 hover:bg-green-900/30":"bg-gray-900/20 text-gray-400 hover:bg-gray-900/30"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?(0,r.jsx)(d.Z,{size:18}):(0,r.jsx)(c.Z,{size:18})}),(0,r.jsx)("button",{onClick:()=>w(e.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-900/30 transition-smooth",title:"Deletar",children:(0,r.jsx)(m.Z,{size:18})})]})]})]})},e.id))}),0===a.length&&(0,r.jsxs)("div",{className:"bg-brand-royal rounded-2xl p-12 text-center shadow-lg border border-white/10",children:[(0,r.jsx)(x.Z,{size:48,className:"mx-auto mb-4 text-brand-clean/40"}),(0,r.jsx)("p",{className:"text-brand-clean/60 text-lg",children:"Nenhum banner criado ainda"}),(0,r.jsx)("p",{className:"text-brand-clean/40 text-sm mt-2",children:'Clique em "Novo Banner" para adicionar o primeiro'})]}),f&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 glass-backdrop",children:(0,r.jsxs)("div",{className:"bg-brand-royal rounded-3xl p-6 shadow-2xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-display font-bold text-brand-clean",children:"Criar Novo Banner"}),(0,r.jsx)("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-smooth",children:(0,r.jsx)(h.Z,{size:24,className:"text-brand-clean"})})]}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Upload de Imagem (1920x1080 recomendado)"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("label",{className:"flex-1 px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl text-brand-clean cursor-pointer hover:bg-brand-midnight/80 transition-smooth flex items-center justify-center gap-2",children:[(0,r.jsx)(u.Z,{size:18}),N?"Enviando...":S.imagem_url?"Imagem selecionada":"Escolher Imagem",(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];if(t){if(!t.type.startsWith("image/")){alert("Por favor, selecione uma imagem v\xe1lida");return}if(t.size>10485760){alert("Arquivo muito grande. M\xe1ximo 10MB");return}_(t),z(!0)}},className:"hidden",disabled:N})]}),S.imagem_url&&(0,r.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden border border-white/20",children:(0,r.jsx)("img",{src:S.imagem_url,alt:"Preview",className:"w-full h-full object-cover"})})]}),(0,r.jsx)("p",{className:"text-xs text-brand-clean/50 mt-2",children:"Tamanho recomendado: 1920x1080px. M\xe1ximo 10MB."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Ordem de Exibi\xe7\xe3o"}),(0,r.jsx)("input",{type:"number",min:"0",value:S.ordem,onChange:e=>q({...S,ordem:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean"}),(0,r.jsx)("p",{className:"text-xs text-brand-clean/50 mt-2",children:"Banners com menor n\xfamero aparecem primeiro. Deixe 0 para adicionar no final."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Tempo de Transi\xe7\xe3o (segundos)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"60",value:S.tempo_transicao,onChange:e=>q({...S,tempo_transicao:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean"}),(0,r.jsx)("p",{className:"text-xs text-brand-clean/50 mt-2",children:"Tempo em segundos para transi\xe7\xe3o autom\xe1tica entre banners (padr\xe3o: 5s)."})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{type:"submit",disabled:i||N||!S.imagem_url,className:"flex-1 px-6 py-3 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth disabled:opacity-50",children:i?"Criando...":"Criar Banner"}),(0,r.jsx)("button",{type:"button",onClick:()=>y(!1),className:"px-6 py-3 bg-brand-midnight text-brand-clean rounded-xl font-semibold hover:bg-white/10 transition-smooth",children:"Cancelar"})]})]})]})}),j&&(0,r.jsx)(p.Z,{titulo:"Deletar Banner",mensagem:"Tem certeza que deseja deletar este banner? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirmar:O,onCancelar:()=>w(null),textoConfirmar:"Deletar",tipo:"danger"}),Z&&M&&(0,r.jsx)(v,{imageFile:M,aspectRatio:16/9,onSave:R,onCancel:()=>{z(!1),_(null)}})]})}},30622:function(e,a,t){"use strict";var r=t(2265),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,t){var r,s={},d=null,c=null;for(r in void 0!==t&&(d=""+t),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(c=a.ref),a)i.call(a,r)&&!l.hasOwnProperty(r)&&(s[r]=a[r]);if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:n,type:e,key:d,ref:c,props:s,_owner:o.current}}a.Fragment=s,a.jsx=d,a.jsxs=d},57437:function(e,a,t){"use strict";e.exports=t(30622)},24033:function(e,a,t){e.exports=t(15313)}}]);