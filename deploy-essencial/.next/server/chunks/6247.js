exports.id=6247,exports.ids=[6247],exports.modules={65908:(e,a,t)=>{Promise.resolve().then(t.bind(t,54357))},54357:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var s=t(95344),r=t(3729),d=t(28765),n=t(82965),l=t(71206);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(69224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var o=t(55794),c=t(42739),x=t(1750),m=t(83598),b=t(49494),h=t(18822),p=t(14513),u=t(45961),g=t(85674),j=t(13746),N=t(36135);let f={teste:"bg-orange-900/30 text-orange-400 border-orange-800/50",basico:"bg-blue-900/30 text-blue-400 border-blue-800/50",premium:"bg-purple-900/30 text-purple-400 border-purple-800/50"},y={teste:"Teste",basico:"B\xe1sico",premium:"Premium"};function v({usuario:e,onClose:a}){let[t,d]=(0,r.useState)(!1),[v,k]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[Z,_]=(0,r.useState)(e?.plano||"teste"),[z,S]=(0,r.useState)("ativo"),[q,T]=(0,r.useState)(null);if(!e)return null;let E=e.last_sign_in_at?Math.floor((new Date().getTime()-new Date(e.last_sign_in_at).getTime())/864e5)>=7:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/864e5)>=7,P=e.last_sign_in_at?Math.floor((new Date().getTime()-new Date(e.last_sign_in_at).getTime())/864e5):Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/864e5),M=async()=>{d(!0),T(null);try{let a=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})}),t=await a.json();a.ok?T({tipo:"success",texto:"Link de recupera\xe7\xe3o de senha enviado com sucesso!"}):T({tipo:"error",texto:t.error||"Erro ao enviar link de recupera\xe7\xe3o"})}catch(e){T({tipo:"error",texto:"Erro ao conectar com o servidor"})}finally{d(!1)}},A=async()=>{if(e){k(!0),T(null);try{let a=await fetch("/api/admin/alterar-plano",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,plano:Z,planoStatus:z})}),t=await a.json();a.ok?(T({tipo:"success",texto:`Plano alterado para ${y[Z]} com sucesso!`}),e.plano=Z,C(!1),setTimeout(()=>{window.location.reload()},1500)):T({tipo:"error",texto:t.error||"Erro ao alterar plano"})}catch(e){T({tipo:"error",texto:"Erro ao conectar com o servidor"})}finally{k(!1)}}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-brand-royal rounded-2xl shadow-2xl border border-gray-200 dark:border-white/10 w-full max-w-lg max-h-[85vh] overflow-hidden animate-slide-up",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-white/10 bg-white dark:bg-brand-midnight",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-brand-aqua/20 rounded-xl",children:s.jsx(h.Z,{size:24,className:"text-brand-aqua"})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-display font-bold text-brand-clean",children:"Detalhes do Usu\xe1rio"}),s.jsx("p",{className:"text-sm text-brand-clean/60",children:"Informa\xe7\xf5es completas"})]})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-xl transition-smooth",children:s.jsx(p.Z,{size:20,className:"text-brand-clean/60"})})]}),(0,s.jsxs)("div",{className:"px-5 py-4 overflow-y-auto max-h-[calc(85vh-200px)] bg-white dark:bg-brand-royal",children:[q&&s.jsx("div",{className:`mb-3 p-3 rounded-lg border text-xs ${"success"===q.tipo?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400"}`,children:q.texto}),E&&s.jsx("div",{className:"mb-4 p-4 bg-orange-50 dark:bg-orange-900/20 border-2 border-orange-300 dark:border-orange-700 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/20 dark:bg-orange-500/30 rounded-lg",children:s.jsx(u.Z,{size:20,className:"text-orange-600 dark:text-orange-400",strokeWidth:2.5})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-orange-800 dark:text-orange-300 mb-1",children:"Usu\xe1rio Inativo"}),s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:e.last_sign_in_at?`Este usu\xe1rio n\xe3o faz login h\xe1 ${P} ${1===P?"dia":"dias"}.`:`Este usu\xe1rio nunca fez login. Cadastrado h\xe1 ${P} ${1===P?"dia":"dias"}.`})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(n.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"ID Admin"})]}),(0,s.jsxs)("p",{className:"text-sm font-mono text-brand-midnight dark:text-brand-clean font-semibold",children:["#",e.id_curto||e.id.substring(0,5)]}),(0,s.jsxs)("p",{className:"text-xs font-mono text-brand-midnight/50 dark:text-brand-clean/50 break-all mt-1",children:["UUID: ",e.id]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(h.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"Nome Completo"})]}),s.jsx("p",{className:"text-sm font-medium text-brand-midnight dark:text-brand-clean",children:e.nome})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(l.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"Email"})]}),s.jsx("p",{className:"text-sm text-brand-midnight dark:text-brand-clean",children:e.email})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(i,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"Contatos"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[e.telefone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-brand-midnight dark:text-brand-clean/80",children:[s.jsx(i,{size:12,className:"text-brand-midnight/60 dark:text-brand-clean/60"}),(0,s.jsxs)("span",{children:["Telefone: ",e.telefone]})]}),e.whatsapp&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-brand-midnight dark:text-brand-clean/80",children:[s.jsx(i,{size:12,className:"text-brand-midnight/60 dark:text-brand-clean/60"}),(0,s.jsxs)("span",{children:["WhatsApp: ",e.whatsapp]})]}),!e.telefone&&!e.whatsapp&&s.jsx("span",{className:"text-xs text-brand-midnight/40 dark:text-brand-clean/40",children:"Nenhum contato cadastrado"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(g.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"Plano Atual"})]}),(0,s.jsxs)("button",{onClick:()=>{_(e.plano),C(!w)},className:"px-2 py-1 bg-brand-aqua/20 text-brand-aqua rounded-lg hover:bg-brand-aqua/30 transition-smooth text-xs font-medium flex items-center gap-1",children:[s.jsx(j.Z,{size:12}),"Alterar"]})]}),s.jsx("span",{className:`inline-block px-2.5 py-1 rounded-full text-xs font-medium border ${f[e.plano]}`,children:y[e.plano]}),w&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10 space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean/70 mb-2",children:"Novo Plano"}),(0,s.jsxs)("select",{value:Z,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/20 rounded-lg text-sm text-brand-midnight dark:text-brand-clean focus:outline-none focus:border-brand-aqua",children:[s.jsx("option",{value:"teste",children:"Teste (Gratuito)"}),s.jsx("option",{value:"basico",children:"B\xe1sico (R$ 39,00/m\xeas)"}),s.jsx("option",{value:"premium",children:"Premium (R$ 59,00/m\xeas)"})]})]}),("basico"===Z||"premium"===Z)&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean/70 mb-2",children:"Status do Plano"}),(0,s.jsxs)("select",{value:z,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/20 rounded-lg text-sm text-brand-midnight dark:text-brand-clean focus:outline-none focus:border-brand-aqua",children:[s.jsx("option",{value:"trial",children:"Trial (Teste)"}),s.jsx("option",{value:"ativo",children:"Ativo"}),s.jsx("option",{value:"cancelado",children:"Cancelado"}),s.jsx("option",{value:"expirado",children:"Expirado"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:A,disabled:v||Z===e.plano,className:"flex-1 px-3 py-2 bg-brand-aqua text-white rounded-lg hover:bg-brand-aqua/90 transition-smooth text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{size:14,className:"animate-spin"}),"Alterando..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(x.Z,{size:14}),"Confirmar Altera\xe7\xe3o"]})}),s.jsx("button",{onClick:()=>{C(!1),_(e.plano)},className:"px-3 py-2 bg-gray-100 dark:bg-brand-royal text-brand-midnight dark:text-brand-clean rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth text-sm font-medium",children:"Cancelar"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(o.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"Cadastrado em"})]}),s.jsx("p",{className:"text-sm text-brand-midnight dark:text-brand-clean",children:(0,m.WU)(new Date(e.created_at),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:b.F})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(o.Z,{size:16,className:"text-brand-aqua"}),s.jsx("label",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean/70",children:"\xdaltimo Login"})]}),s.jsx("p",{className:"text-sm text-brand-midnight dark:text-brand-clean",children:e.last_sign_in_at?(0,m.WU)(new Date(e.last_sign_in_at),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:b.F}):s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Nunca fez login"})})]})]})]}),(0,s.jsxs)("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between gap-3 bg-white dark:bg-brand-midnight",children:[s.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-100 dark:bg-brand-royal text-brand-midnight dark:text-brand-clean rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth font-medium text-sm border border-gray-200 dark:border-white/10",children:"Fechar"}),s.jsx("button",{onClick:M,disabled:t,className:"px-4 py-2 bg-brand-aqua text-brand-midnight rounded-lg hover:bg-brand-aqua/90 transition-smooth font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{size:16,className:"animate-spin"}),"Enviando..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(N.Z,{size:16}),"Enviar Link de Recupera\xe7\xe3o"]})})]})]})]})}function k({usuarios:e,error:a}){let[t,h]=(0,r.useState)(""),[p,u]=(0,r.useState)("todos"),[g,j]=(0,r.useState)(null),[N,f]=(0,r.useState)(null),[y,k]=(0,r.useState)(null),[w,C]=(0,r.useState)(null),Z=(0,r.useMemo)(()=>e.filter(e=>{let a=e.nome.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase())||e.id_curto&&e.id_curto.toLowerCase().includes(t.toLowerCase()),s="todos"===p||e.plano===p;return a&&s}),[e,t,p]),_={teste:"bg-orange-900/30 text-orange-400 border-orange-800/50",basico:"bg-blue-900/30 text-blue-400 border-blue-800/50",premium:"bg-purple-900/30 text-purple-400 border-purple-800/50"},z={teste:"Teste",basico:"B\xe1sico",premium:"Premium"},S=async(e,a)=>{if(e.plano!==a){f(e.id),C(null);try{let t=await fetch("/api/admin/alterar-plano",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,plano:a,planoStatus:"teste"===a?"trial":"ativo"})}),s=await t.json();t.ok?(C({tipo:"success",texto:`Plano de ${e.nome} alterado para ${z[a]}!`}),setTimeout(()=>{C(null),window.location.reload()},1500)):(C({tipo:"error",texto:s.error||"Erro ao alterar plano"}),setTimeout(()=>C(null),5e3))}catch(e){C({tipo:"error",texto:"Erro ao conectar com o servidor"}),setTimeout(()=>C(null),5e3)}finally{f(null)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[w&&s.jsx("div",{className:`p-4 rounded-xl border ${"success"===w.tipo?"bg-green-900/20 border-green-800/50 text-green-400":"bg-red-900/20 border-red-800/50 text-red-400"}`,children:s.jsx("p",{className:"text-sm font-medium",children:w.texto})}),(0,s.jsxs)("div",{className:"bg-brand-royal rounded-2xl p-4 shadow-lg border border-white/10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brand-clean/60",size:20}),s.jsx("input",{type:"text",value:t,onChange:e=>h(e.target.value),placeholder:"Buscar por nome, email ou ID...",className:"w-full pl-10 pr-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean placeholder-brand-clean/50"})]}),(0,s.jsxs)("select",{value:p,onChange:e=>u(e.target.value),className:"px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean",children:[s.jsx("option",{value:"todos",children:"Todos os Planos"}),s.jsx("option",{value:"teste",children:"Teste"}),s.jsx("option",{value:"basico",children:"B\xe1sico"}),s.jsx("option",{value:"premium",children:"Premium"})]})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-brand-clean/70",children:["Mostrando ",Z.length," de ",e.length," usu\xe1rios"]})]}),a&&(0,s.jsxs)("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-4",children:[(0,s.jsxs)("p",{className:"text-red-400 text-sm",children:[s.jsx("strong",{children:"Erro:"})," ",a]}),s.jsx("p",{className:"text-red-400/70 text-xs mt-2",children:"Verifique se a vari\xe1vel SUPABASE_SERVICE_ROLE_KEY est\xe1 configurada no arquivo .env.local"})]}),s.jsx("div",{className:"bg-brand-royal rounded-2xl shadow-lg border border-white/10 overflow-hidden",children:0===e.length?(0,s.jsxs)("div",{className:"p-12 text-center",children:[s.jsx("p",{className:"text-brand-clean/60 text-lg mb-2",children:a?"N\xe3o foi poss\xedvel carregar os usu\xe1rios":"Nenhum usu\xe1rio cadastrado ainda"}),s.jsx("p",{className:"text-brand-clean/40 text-sm",children:a?"Verifique a configura\xe7\xe3o do banco de dados e as permiss\xf5es RLS.":"Os usu\xe1rios aparecer\xe3o aqui ap\xf3s se cadastrarem na plataforma."})]}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-brand-midnight border-b border-white/10",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"ID Admin"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"Contato"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"Plano"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"Cadastrado em"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),s.jsx("tbody",{className:"bg-brand-royal divide-y divide-white/10",children:0===Z.length?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-brand-clean/60",children:"Nenhum usu\xe1rio encontrado com os filtros aplicados."})}):Z.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-smooth cursor-pointer",onClick:()=>j(e),children:[s.jsx("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.Z,{size:16,className:"text-brand-aqua"}),(0,s.jsxs)("span",{className:"text-xs font-mono text-brand-clean/80 font-semibold",children:["#",e.id_curto||e.id.substring(0,5)]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-medium text-brand-clean",children:e.nome})}),s.jsx("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(l.Z,{size:16,className:"text-brand-clean/60"}),s.jsx("span",{className:"text-sm text-brand-clean/80",children:e.email})]})}),s.jsx("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[e.telefone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-brand-clean/70",children:[s.jsx(i,{size:14}),e.telefone]}),e.whatsapp&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-brand-clean/70",children:[s.jsx(i,{size:14}),e.whatsapp]}),!e.telefone&&!e.whatsapp&&s.jsx("span",{className:"text-xs text-brand-clean/40",children:"-"})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_[e.plano]}`,children:z[e.plano]})}),s.jsx("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-brand-clean/80",children:[s.jsx(o.Z,{size:16,className:"text-brand-clean/60"}),(0,m.WU)(new Date(e.created_at),"dd/MM/yyyy",{locale:b.F})]})}),s.jsx("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:a=>{a.stopPropagation(),k(y===e.id?null:e.id)},disabled:N===e.id,className:"px-2 py-1.5 bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition-smooth text-xs font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Alterar plano rapidamente",children:N===e.id?s.jsx(c.Z,{size:12,className:"animate-spin"}):s.jsx(x.Z,{size:12})}),y===e.id&&s.jsx("div",{className:"absolute right-0 top-full mt-1 bg-brand-midnight border border-white/20 rounded-lg shadow-xl z-50 min-w-[120px]",children:(0,s.jsxs)("div",{className:"py-1",children:["teste"!==e.plano&&(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),S(e,"teste"),k(null)},className:"w-full px-3 py-2 text-left text-xs text-brand-clean hover:bg-white/5 transition-smooth flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-400"}),"Teste"]}),"basico"!==e.plano&&(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),S(e,"basico"),k(null)},className:"w-full px-3 py-2 text-left text-xs text-brand-clean hover:bg-white/5 transition-smooth flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),"B\xe1sico"]}),"premium"!==e.plano&&(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),S(e,"premium"),k(null)},className:"w-full px-3 py-2 text-left text-xs text-brand-clean hover:bg-white/5 transition-smooth flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400"}),"Premium"]})]})})]}),s.jsx("button",{onClick:a=>{a.stopPropagation(),j(e)},className:"px-3 py-1.5 bg-brand-aqua/20 text-brand-aqua rounded-lg hover:bg-brand-aqua/30 transition-smooth text-xs font-medium",title:"Ver detalhes e recuperar senha",children:"Ver Detalhes"})]})})]},e.id))})]})})}),a&&(0,s.jsxs)("div",{className:"bg-red-900/20 border border-red-800/50 rounded-2xl p-6 shadow-lg",children:[s.jsx("p",{className:"text-red-400 font-semibold mb-2",children:"Erro ao carregar usu\xe1rios"}),s.jsx("p",{className:"text-red-300/80 text-sm",children:a}),s.jsx("p",{className:"text-red-300/60 text-xs mt-2",children:"Verifique se a fun\xe7\xe3o RPC get_all_profiles est\xe1 criada no banco de dados ou configure a vari\xe1vel SUPABASE_SERVICE_ROLE_KEY."})]}),!a&&0===Z.length&&s.jsx("div",{className:"bg-brand-royal rounded-2xl p-12 text-center shadow-lg border border-white/10",children:s.jsx("p",{className:"text-brand-clean/60 text-lg",children:"Nenhum usu\xe1rio encontrado"})}),g&&s.jsx(v,{usuario:g,onClose:()=>j(null)})]})}},45961:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1750:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]])},82965:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},71206:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},28765:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},18822:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(69224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},26564:(e,a,t)=>{"use strict";t.d(a,{ZP:()=>n});let s=(0,t(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/components/admin/UsuariosLista.tsx`),{__esModule:r,$$typeof:d}=s,n=s.default},69616:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(59508).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};