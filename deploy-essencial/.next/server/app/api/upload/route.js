"use strict";(()=>{var e={};e.id=5998,e.ids=[5998],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},10694:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>I,originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var o={};r.r(o),r.d(o,{POST:()=>p});var a=r(95419),s=r(69108),n=r(99678),i=r(81664),u=r(78070);async function p(e){try{let t=await e.formData(),r=t.get("file"),o=t.get("folder")||"uploads";if(!r)return u.Z.json({error:"Nenhum arquivo enviado"},{status:400});if(r.size>10485760)return u.Z.json({error:"Arquivo muito grande. M\xe1ximo 10MB"},{status:400});let a=(0,i.i3)()||await (0,i.eI)(),s=r.name.split(".").pop(),n=`${Date.now()}-${Math.random().toString(36).substring(7)}.${s}`,p=`${o}/${n}`,c=await r.arrayBuffer(),l=Buffer.from(c),{data:d,error:m}=await a.storage.from("emprestimos").upload(p,l,{contentType:r.type,upsert:!1});if(m)return console.error("Erro no upload:",m),u.Z.json({error:m.message},{status:500});let{data:{publicUrl:I}}=a.storage.from("emprestimos").getPublicUrl(p);return u.Z.json({url:I,path:p})}catch(e){return console.error("Erro ao fazer upload:",e),u.Z.json({error:e.message||"Erro ao fazer upload"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},resolvedPagePath:"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/api/upload/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:I,staticGenerationBailout:h}=c,x="/api/upload/route";function f(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},81664:(e,t,r)=>{r.d(t,{eI:()=>n,i3:()=>i,vv:()=>u});var o=r(77497),a=r(94128),s=r(32455);let n=(0,r(40002).cache)(async()=>{let e=await (0,s.cookies)();return(0,o.createServerClient)("https://frhxqgcqmxpjpnghsvoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyaHhxZ2NxbXhwanBuZ2hzdm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTM3NTYsImV4cCI6MjA3OTIyOTc1Nn0.p1OxLRA5DKgvetuy-IbCfYClNSjrvK6fm43aZNX3T7I",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:o})=>e.set(t,r,o))}catch{}}}})});function i(){let e=process.env.SUPABASE_SERVICE_ROLE_KEY;return e?(0,a.eI)("https://frhxqgcqmxpjpnghsvoe.supabase.co",e,{auth:{autoRefreshToken:!1,persistSession:!1}}):null}function u(){return(0,a.eI)("https://frhxqgcqmxpjpnghsvoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyaHhxZ2NxbXhwanBuZ2hzdm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTM3NTYsImV4cCI6MjA3OTIyOTc1Nn0.p1OxLRA5DKgvetuy-IbCfYClNSjrvK6fm43aZNX3T7I",{auth:{autoRefreshToken:!1,persistSession:!1}})}},50482:(e,t,r)=>{e.exports=r(20399)},40002:(e,t,r)=>{e.exports=r(50482).vendored["react-rsc"].React},95419:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,2455,4128,7497,8070],()=>r(10694));module.exports=o})();