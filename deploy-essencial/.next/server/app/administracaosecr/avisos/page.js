(()=>{var e={};e.id=6958,e.ids=[6958],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},48295:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>b,tree:()=>c});var r=t(50482),s=t(69108),i=t(62563),n=t.n(i),o=t(68300),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(a,d);let c=["",{children:["administracaosecr",{children:["avisos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,49701)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/administracaosecr/avisos/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2748)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/administracaosecr/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,63203)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,20429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/not-found.tsx"]}],l=["/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/administracaosecr/avisos/page.tsx"],u="/administracaosecr/avisos/page",m={require:t,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/administracaosecr/avisos/page",pathname:"/administracaosecr/avisos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96644:(e,a,t)=>{let r={"097ef1dd4ba74e6435bccaa859675957fc172146":()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.obterAvisosAdmin),"5d4de1a6751ec818c7167e243487113951d45f5e":()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.criarAvisoAdmin),"6d99ccf0174ae49ca9fbf3429a4a76410274bb17":()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.marcarAvisoComoVisto),"851248a92bcdf0028ae7b5adc840b3174f757178":()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.deletarAviso),"97fc6729bfa67ceb74dc8f4340c3b71929fc87c2":()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.obterAvisosAtivos),ba1c18e7634eb30a04487cc877e15e14c4c3e656:()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.ativarAviso),f9951384657b641c3b814f1e7c395a04548906ce:()=>Promise.resolve().then(t.bind(t,70657)).then(e=>e.desativarAviso)};async function s(e,...a){return(await r[e]()).apply(null,a)}e.exports={"097ef1dd4ba74e6435bccaa859675957fc172146":s.bind(null,"097ef1dd4ba74e6435bccaa859675957fc172146"),"5d4de1a6751ec818c7167e243487113951d45f5e":s.bind(null,"5d4de1a6751ec818c7167e243487113951d45f5e"),"6d99ccf0174ae49ca9fbf3429a4a76410274bb17":s.bind(null,"6d99ccf0174ae49ca9fbf3429a4a76410274bb17"),"851248a92bcdf0028ae7b5adc840b3174f757178":s.bind(null,"851248a92bcdf0028ae7b5adc840b3174f757178"),"97fc6729bfa67ceb74dc8f4340c3b71929fc87c2":s.bind(null,"97fc6729bfa67ceb74dc8f4340c3b71929fc87c2"),ba1c18e7634eb30a04487cc877e15e14c4c3e656:s.bind(null,"ba1c18e7634eb30a04487cc877e15e14c4c3e656"),f9951384657b641c3b814f1e7c395a04548906ce:s.bind(null,"f9951384657b641c3b814f1e7c395a04548906ce")}},33509:(e,a,t)=>{Promise.resolve().then(t.bind(t,24636))},68807:(e,a,t)=>{Promise.resolve().then(t.bind(t,75541))},56705:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var r=t(95344),s=t(62312),i=t(3729);function n({id:e,checked:a,onChange:t,label:n,disabled:o=!1,size:d="md",className:c=""}){let[l,u]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:`flex items-center gap-3 ${c}`,children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",id:e,checked:a,onChange:e=>t(e.target.checked),disabled:o,className:"sr-only"}),r.jsx("label",{htmlFor:e,className:`
            relative flex items-center justify-center cursor-pointer transition-all duration-300
            ${{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[d]}
            ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,onMouseEnter:()=>!o&&u(!0),onMouseLeave:()=>u(!1),children:(0,r.jsxs)("div",{className:`
              absolute inset-0 rounded-lg border-2 transition-all duration-300
              ${a?"bg-gradient-to-br from-brand-aqua to-brand-blue border-brand-aqua shadow-lg shadow-brand-aqua/30":"bg-white dark:bg-brand-midnight border-gray-300 dark:border-white/20"}
              ${!l||o||a?"":"border-brand-aqua/50 bg-brand-aqua/5 dark:bg-brand-aqua/10"}
              ${o?"opacity-50":""}
            `,style:{transform:a?"scale(1)":l?"scale(1.05)":"scale(1)"},children:[a&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center animate-checkbox-check",children:r.jsx(s.Z,{size:{sm:10,md:14,lg:16}[d],className:"text-white dark:text-brand-midnight font-bold",strokeWidth:3})}),a&&r.jsx("div",{className:"absolute inset-0 rounded-lg bg-brand-aqua/20 animate-ping"})]})})]}),n&&r.jsx("label",{htmlFor:e,className:`
            text-sm font-medium cursor-pointer transition-colors duration-200
            ${a?"text-brand-aqua dark:text-brand-aqua":"text-brand-midnight dark:text-brand-clean"}
            ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,children:n})]})}},44480:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var r=t(95344),s=t(45961),i=t(14513);function n({titulo:e,mensagem:a,onConfirmar:t,onCancelar:n,textoConfirmar:o="Confirmar",textoCancelar:d="Cancelar",tipo:c="warning",loading:l=!1}){let u={danger:{bg:"bg-red-100",icon:"text-red-600",botao:"bg-red-600 hover:bg-red-700",border:"border-red-200"},warning:{bg:"bg-orange-100",icon:"text-orange-600",botao:"bg-orange-600 hover:bg-orange-700",border:"border-orange-200"},info:{bg:"bg-blue-100",icon:"text-blue-600",botao:"bg-blue-600 hover:bg-blue-700",border:"border-blue-200"}}[c];return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-3xl shadow-2xl max-w-sm w-full p-6 animate-slide-up border-2 border-brand-aqua/30 dark:border-brand-aqua/40",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[r.jsx("div",{className:`p-3 ${u.bg} rounded-xl shadow-lg`,children:r.jsx(s.Z,{className:u.icon,size:24,strokeWidth:2.5})}),r.jsx("h3",{className:"text-xl font-display font-bold text-brand-midnight dark:text-brand-clean flex-1",children:e}),r.jsx("button",{onClick:n,disabled:l,className:"p-2 hover:bg-red-500/20 dark:hover:bg-red-500/30 rounded-xl transition-smooth disabled:opacity-50",children:r.jsx(i.Z,{size:20,className:"text-brand-midnight dark:text-brand-clean",strokeWidth:2.5})})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/70 leading-relaxed",children:a})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:l,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-brand-midnight text-brand-midnight dark:text-brand-clean rounded-xl hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth font-semibold disabled:opacity-50 text-sm border-2 border-gray-200 dark:border-white/20",children:d}),r.jsx("button",{onClick:t,disabled:l,className:`flex-1 px-4 py-3 ${u.botao} text-white rounded-xl transition-smooth font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg hover:shadow-xl`,children:l?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Processando..."})]}):o})]})]})})}},24636:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(95344),s=t(22254),i=t(50340),n=t(89895),o=t(85674),d=t(33037),c=t(20016),l=t(35851),u=t(84013),m=t(23485),b=t(48120);let h=[{href:"/administracaosecr/dashboard",label:"Dashboard",icon:i.Z},{href:"/administracaosecr/usuarios",label:"Todos os Usu\xe1rios",icon:n.Z},{href:"/administracaosecr/assinantes",label:"Usu\xe1rios Assinantes",icon:o.Z},{href:"/administracaosecr/avisos",label:"Central de Avisos",icon:d.Z},{href:"/administracaosecr/banners",label:"Banners",icon:c.Z},{href:"/administracaosecr/chat",label:"Chat de Suporte",icon:l.Z},{href:"/administracaosecr/tutoriais",label:"Tutoriais",icon:u.Z}];function p(){let e=(0,s.usePathname)(),a=(0,s.useRouter)();return r.jsx("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-brand-royal border-r border-white/10 shadow-lg z-50 hidden lg:block",children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-brand-aqua/20 rounded-xl",children:r.jsx(m.Z,{size:24,className:"text-brand-aqua"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-display font-bold text-brand-clean",children:"Admin Panel"}),r.jsx("p",{className:"text-xs text-brand-clean/60",children:"PLENIPAY"})]})]})}),r.jsx("nav",{className:"space-y-2 mb-8",children:h.map(t=>{let s=t.icon,i=e===t.href||"/administracaosecr/dashboard"!==t.href&&e?.startsWith(t.href);return(0,r.jsxs)("button",{onClick:()=>a.push(t.href),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-smooth text-left ${i?"bg-brand-aqua text-brand-midnight shadow-lg":"text-brand-clean hover:bg-white/10 hover:text-brand-aqua"}`,children:[r.jsx(s,{size:20,strokeWidth:2}),r.jsx("span",{className:"font-medium",children:t.label})]},t.href)})}),(0,r.jsxs)("button",{onClick:()=>{document.cookie="admin_token=; path=/; max-age=0",a.push("/administracaosecr/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-smooth text-left text-brand-clean hover:bg-red-900/20 hover:text-red-400",children:[r.jsx(b.Z,{size:20,strokeWidth:2}),r.jsx("span",{className:"font-medium",children:"Sair"})]})]})})}var x=t(3729);function f({children:e}){let a=(0,s.useRouter)(),t=(0,s.usePathname)(),[i,n]=(0,x.useState)(!0),[o,d]=(0,x.useState)(!1);return((0,x.useEffect)(()=>{if("/administracaosecr/login"===t){d(!0),n(!1);return}(async()=>{try{if(!document.cookie.split(";").find(e=>e.trim().startsWith("admin_token="))||!(await fetch("/api/admin/verify",{method:"GET",credentials:"include"})).ok){a.replace("/administracaosecr/login");return}d(!0),n(!1)}catch(e){a.replace("/administracaosecr/login")}})()},[t,a]),"/administracaosecr/login"===t)?r.jsx(r.Fragment,{children:e}):i||!o?r.jsx("div",{className:"min-h-screen bg-brand-midnight flex items-center justify-center",children:r.jsx("div",{className:"text-brand-clean",children:"Verificando autentica\xe7\xe3o..."})}):r.jsx(r.Fragment,{children:e})}function g({children:e}){let a=(0,s.usePathname)();return"/administracaosecr/login"===a||"/administracaosecr"===a?r.jsx(r.Fragment,{children:e}):r.jsx(f,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-brand-midnight",children:[r.jsx(p,{}),r.jsx("main",{className:"lg:ml-64 p-4 lg:p-8",children:e})]})})}},75541:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var r=t(95344),s=t(3729),i=t(91991),n=t(45961),o=t(66138),d=t(7060),c=t(51838),l=t(53148),u=t(1222),m=t(38271),b=t(14513),h=t(56705);t(13664);var p=t(28371),x=(0,p.$)("851248a92bcdf0028ae7b5adc840b3174f757178"),f=(0,p.$)("5d4de1a6751ec818c7167e243487113951d45f5e");(0,p.$)("097ef1dd4ba74e6435bccaa859675957fc172146"),(0,p.$)("97fc6729bfa67ceb74dc8f4340c3b71929fc87c2"),(0,p.$)("6d99ccf0174ae49ca9fbf3429a4a76410274bb17");var g=(0,p.$)("f9951384657b641c3b814f1e7c395a04548906ce"),v=(0,p.$)("ba1c18e7634eb30a04487cc877e15e14c4c3e656"),y=t(22254),w=t(44480);function j({avisos:e,adminId:a}){let t=(0,y.useRouter)(),[p,j]=(0,s.useState)(e),[k,N]=(0,s.useState)(!1),[_,S]=(0,s.useState)(!1),[A,Z]=(0,s.useState)(null),[C,I]=(0,s.useState)({titulo:"",mensagem:"",tipo:"info",mostrar_popup:!1,expira_em:"",expira_em_dias:"",usar_data_expiracao:!1}),q={info:{icon:i.Z,color:"text-blue-400",bg:"bg-blue-900/20",border:"border-blue-800/50"},warning:{icon:n.Z,color:"text-orange-400",bg:"bg-orange-900/20",border:"border-orange-800/50"},error:{icon:o.Z,color:"text-red-400",bg:"bg-red-900/20",border:"border-red-800/50"},success:{icon:d.Z,color:"text-green-400",bg:"bg-green-900/20",border:"border-green-800/50"}},P=async e=>{e.preventDefault(),S(!0);try{let e=null;if(C.usar_data_expiracao){if(C.expira_em_dias){let a=parseInt(C.expira_em_dias),t=new Date;t.setDate(t.getDate()+a),e=t.toISOString()}else C.expira_em&&(e=new Date(C.expira_em).toISOString())}let r=await f({titulo:C.titulo,mensagem:C.mensagem,tipo:C.tipo,mostrar_popup:C.mostrar_popup,adminId:a,data_expiracao:e});if(r.error){alert(`Erro: ${r.error}`),S(!1);return}t.refresh(),N(!1),I({titulo:"",mensagem:"",tipo:"info",mostrar_popup:!1,expira_em:"",expira_em_dias:"",usar_data_expiracao:!1})}catch(e){alert("Erro ao criar aviso")}finally{S(!1)}},E=async(e,a)=>{a?await g(e):await v(e),t.refresh()},T=async()=>{if(!A)return;let e=await x(A);e.success?(t.refresh(),Z(null)):alert(`Erro: ${e.error}`)};return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-end",children:(0,r.jsxs)("button",{onClick:()=>N(!0),className:"px-6 py-3 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(c.Z,{size:20}),"Novo Aviso"]})}),r.jsx("div",{className:"space-y-4",children:p.map(e=>{let a=q[e.tipo],t=a.icon;return r.jsx("div",{className:`bg-brand-royal rounded-2xl p-6 shadow-lg border ${a.border} ${e.ativo?"":"opacity-60"}`,children:(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-xl ${a.bg}`,children:r.jsx(t,{size:24,className:a.color})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-brand-clean",children:e.titulo}),e.mostrar_popup&&r.jsx("span",{className:"px-2 py-1 bg-brand-aqua/20 text-brand-aqua text-xs rounded-lg",children:"Popup"}),!e.ativo&&r.jsx("span",{className:"px-2 py-1 bg-gray-900/50 text-gray-400 text-xs rounded-lg",children:"Inativo"})]}),r.jsx("p",{className:"text-sm text-brand-clean/70 mb-2",children:e.mensagem}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-brand-clean/50 flex-wrap",children:[(0,r.jsxs)("span",{children:["Tipo: ",e.tipo]}),(0,r.jsxs)("span",{children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]}),e.data_expiracao&&(0,r.jsxs)("span",{className:"text-orange-400",children:["Expira em: ",new Date(e.data_expiracao).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.data_expiracao).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>E(e.id,e.ativo),className:`p-2 rounded-lg transition-smooth ${e.ativo?"bg-green-900/20 text-green-400 hover:bg-green-900/30":"bg-gray-900/20 text-gray-400 hover:bg-gray-900/30"}`,title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(l.Z,{size:18}):r.jsx(u.Z,{size:18})}),r.jsx("button",{onClick:()=>Z(e.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-900/30 transition-smooth",title:"Deletar",children:r.jsx(m.Z,{size:18})})]})]})},e.id)})}),0===p.length&&r.jsx("div",{className:"bg-brand-royal rounded-2xl p-12 text-center shadow-lg border border-white/10",children:r.jsx("p",{className:"text-brand-clean/60 text-lg",children:"Nenhum aviso criado ainda"})}),k&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 glass-backdrop",children:(0,r.jsxs)("div",{className:"bg-brand-royal rounded-3xl p-6 shadow-2xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-brand-clean",children:"Criar Novo Aviso"}),r.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-smooth",children:r.jsx(b.Z,{size:24,className:"text-brand-clean"})})]}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"T\xedtulo"}),r.jsx("input",{type:"text",value:C.titulo,onChange:e=>I({...C,titulo:e.target.value}),required:!0,className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean placeholder-brand-clean/50",placeholder:"T\xedtulo do aviso"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Mensagem"}),r.jsx("textarea",{value:C.mensagem,onChange:e=>I({...C,mensagem:e.target.value}),required:!0,rows:4,className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean placeholder-brand-clean/50 resize-none",placeholder:"Mensagem do aviso"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Tipo"}),(0,r.jsxs)("select",{value:C.tipo,onChange:e=>I({...C,tipo:e.target.value}),className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean",children:[r.jsx("option",{value:"info",children:"Informa\xe7\xe3o"}),r.jsx("option",{value:"warning",children:"Aviso"}),r.jsx("option",{value:"error",children:"Erro"}),r.jsx("option",{value:"success",children:"Sucesso"})]})]}),r.jsx(h.Z,{id:"mostrar_popup",checked:C.mostrar_popup,onChange:e=>I({...C,mostrar_popup:e}),label:"Mostrar como popup quando usu\xe1rio logar",size:"md"}),(0,r.jsxs)("div",{className:"bg-brand-midnight/50 rounded-xl p-4 space-y-4",children:[r.jsx(h.Z,{id:"usar_data_expiracao",checked:C.usar_data_expiracao,onChange:e=>I({...C,usar_data_expiracao:e}),label:"Definir data de expira\xe7\xe3o",size:"md"}),C.usar_data_expiracao&&(0,r.jsxs)("div",{className:"space-y-3 pl-8",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Expirar em (dias)"}),r.jsx("input",{type:"number",min:"1",value:C.expira_em_dias,onChange:e=>I({...C,expira_em_dias:e.target.value,expira_em:""}),placeholder:"Ex: 7 (expira em 7 dias)",className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean placeholder-brand-clean/50",style:{color:"#E6E6E6"}})]}),r.jsx("div",{className:"text-center text-sm text-brand-clean/60",children:"ou"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-brand-clean/90 mb-2",children:"Data e hora espec\xedfica de expira\xe7\xe3o"}),r.jsx("input",{type:"datetime-local",value:C.expira_em,onChange:e=>I({...C,expira_em:e.target.value,expira_em_dias:""}),className:"w-full px-4 py-3 bg-brand-midnight border border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-brand-clean",style:{color:"#E6E6E6"}})]}),r.jsx("p",{className:"text-xs text-brand-clean/50",children:"Se n\xe3o definir, o aviso ficar\xe1 ativo indefinidamente at\xe9 ser desativado manualmente."})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"submit",disabled:_,className:"flex-1 px-6 py-3 bg-brand-aqua text-brand-midnight rounded-xl font-semibold hover:bg-brand-aqua/90 transition-smooth disabled:opacity-50",children:_?"Criando...":"Criar Aviso"}),r.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-6 py-3 bg-brand-midnight text-brand-clean rounded-xl font-semibold hover:bg-white/10 transition-smooth",children:"Cancelar"})]})]})]})}),A&&r.jsx(w.Z,{titulo:"Deletar Aviso",mensagem:"Tem certeza que deseja deletar este aviso? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirmar:T,onCancelar:()=>Z(null),textoConfirmar:"Deletar",tipo:"danger"})]})}},45961:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7060:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},62312:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1222:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},53148:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20016:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},48120:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},51838:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23485:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},38271:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89895:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},28371:(e,a,t)=>{"use strict";Object.defineProperty(a,"$",{enumerable:!0,get:function(){return s}});let r=t(13664);function s(e){let{createServerReference:a}=t(82228);return a(e,r.callServer)}},49701:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(25036),s=t(70657);let i=(0,t(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/components/admin/CentralAvisos.tsx`),{__esModule:n,$$typeof:o}=i,d=i.default;var c=t(40002),l=t(69616),u=t(24698);async function m(){let e=await (0,u.W)(),a=await (0,s.obterAvisosAdmin)();return r.jsx(d,{avisos:a.data||[],adminId:e?.id||""})}async function b(){return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-brand-clean mb-2",children:"Central de Avisos"}),r.jsx("p",{className:"text-brand-clean/70",children:"Envie avisos para todos os usu\xe1rios da plataforma"})]}),r.jsx(c.Suspense,{fallback:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(l.Z,{size:48,className:"animate-spin text-brand-aqua"})}),children:r.jsx(m,{})})]})}},2748:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var r=t(25036);let s=(0,t(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/components/admin/AdminLayoutWrapper.tsx`),{__esModule:i,$$typeof:n}=s,o=s.default;function d({children:e}){return r.jsx(o,{children:e})}},70657:(e,a,t)=>{"use strict";t.r(a),t.d(a,{ativarAviso:()=>u,criarAvisoAdmin:()=>n,deletarAviso:()=>m,desativarAviso:()=>l,marcarAvisoComoVisto:()=>c,obterAvisosAdmin:()=>o,obterAvisosAtivos:()=>d});var r=t(74471);t(68616);var s=t(81664),i=t(66864);async function n(e){let a=await (0,s.eI)(),{data:t,error:r}=await a.from("admin_avisos").insert({titulo:e.titulo,mensagem:e.mensagem,tipo:e.tipo,mostrar_popup:e.mostrar_popup,ativo:!0,criado_por:e.adminId,data_expiracao:e.data_expiracao||null}).select().single();return r?{error:r.message,data:null}:((0,i.revalidatePath)("/admin"),(0,i.revalidatePath)("/home"),{data:t,error:null})}async function o(){let e=await (0,s.eI)(),{data:a,error:t}=await e.from("admin_avisos").select("*").order("created_at",{ascending:!1});return t?{error:t.message,data:[]}:{data:a||[],error:null}}async function d(e){let a=await (0,s.eI)(),{data:t,error:r}=await a.from("admin_avisos").select("*").eq("ativo",!0).order("created_at",{ascending:!1});if(r)return{error:r.message,data:[]};let i=new Date,n=t?.filter(e=>!e.data_expiracao||new Date(e.data_expiracao)>i)||[],{data:o,error:d}=await a.from("avisos_vistos").select("aviso_id").eq("user_id",e),c=new Set(o?.map(e=>e.aviso_id)||[]);return{data:n.filter(e=>!c.has(e.id)),error:null}}async function c(e,a){let t=await (0,s.eI)(),{error:r}=await t.from("avisos_vistos").insert({aviso_id:e,user_id:a}).select().single();return r&&!r.message.includes("duplicate")?{error:r.message,success:!1}:{success:!0,error:null}}async function l(e){let a=await (0,s.eI)(),{error:t}=await a.from("admin_avisos").update({ativo:!1}).eq("id",e);return t?{error:t.message,success:!1}:((0,i.revalidatePath)("/admin"),(0,i.revalidatePath)("/home"),{success:!0,error:null})}async function u(e){let a=await (0,s.eI)(),{error:t}=await a.from("admin_avisos").update({ativo:!0}).eq("id",e);return t?{error:t.message,success:!1}:((0,i.revalidatePath)("/admin"),(0,i.revalidatePath)("/home"),{success:!0,error:null})}async function m(e){let a=await (0,s.eI)(),{error:t}=await a.from("admin_avisos").delete().eq("id",e);return t?{error:t.message,success:!1}:((0,i.revalidatePath)("/admin"),{success:!0,error:null})}(0,t(42053).h)([n,o,d,c,l,u,m]),(0,r.U)("5d4de1a6751ec818c7167e243487113951d45f5e",n),(0,r.U)("097ef1dd4ba74e6435bccaa859675957fc172146",o),(0,r.U)("97fc6729bfa67ceb74dc8f4340c3b71929fc87c2",d),(0,r.U)("6d99ccf0174ae49ca9fbf3429a4a76410274bb17",c),(0,r.U)("f9951384657b641c3b814f1e7c395a04548906ce",l),(0,r.U)("ba1c18e7634eb30a04487cc877e15e14c4c3e656",u),(0,r.U)("851248a92bcdf0028ae7b5adc840b3174f757178",m)},24698:(e,a,t)=>{"use strict";t.d(a,{W:()=>n});var r=t(32455),s=t(24961);t(78070);let i=new TextEncoder().encode(process.env.ADMIN_JWT_SECRET||"your-secret-key-change-in-production");async function n(){try{let e=await (0,r.cookies)(),a=e.get("admin_token")?.value;if(!a)return null;let{payload:t}=await (0,s._)(a,i);return{id:t.id,email:t.email,nome:t.nome}}catch(e){return null}}},81664:(e,a,t)=>{"use strict";t.d(a,{eI:()=>n,i3:()=>o,vv:()=>d});var r=t(77497),s=t(94128),i=t(32455);let n=(0,t(40002).cache)(async()=>{let e=await (0,i.cookies)();return(0,r.createServerClient)("https://frhxqgcqmxpjpnghsvoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyaHhxZ2NxbXhwanBuZ2hzdm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTM3NTYsImV4cCI6MjA3OTIyOTc1Nn0.p1OxLRA5DKgvetuy-IbCfYClNSjrvK6fm43aZNX3T7I",{cookies:{getAll:()=>e.getAll(),setAll(a){try{a.forEach(({name:a,value:t,options:r})=>e.set(a,t,r))}catch{}}}})});function o(){let e=process.env.SUPABASE_SERVICE_ROLE_KEY;return e?(0,s.eI)("https://frhxqgcqmxpjpnghsvoe.supabase.co",e,{auth:{autoRefreshToken:!1,persistSession:!1}}):null}function d(){return(0,s.eI)("https://frhxqgcqmxpjpnghsvoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyaHhxZ2NxbXhwanBuZ2hzdm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTM3NTYsImV4cCI6MjA3OTIyOTc1Nn0.p1OxLRA5DKgvetuy-IbCfYClNSjrvK6fm43aZNX3T7I",{auth:{autoRefreshToken:!1,persistSession:!1}})}},59508:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var r=t(40002),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,a)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:c="",children:l,...u},m)=>(0,r.createElement)("svg",{ref:m,...s,width:n,height:n,stroke:t,strokeWidth:d?24*Number(o)/Number(n):o,className:["lucide",`lucide-${i(e)}`,c].join(" "),...u},[...a.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(l)?l:[l]]));return t.displayName=`${e}`,t}},69616:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(59508).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},24961:(e,a,t)=>{"use strict";t.d(a,{_:()=>C});var r=t(1840),s=t(6005),i=t(47261),n=t(45452),o=t(80190),d=t(46508),c=t(34907);let l=(0,i.promisify)(s.verify),u=async(e,a,t,r)=>{let i=(0,c.Z)(e,a,"verify");if(e.startsWith("HS")){let a=await (0,d.Z)(e,i,r);try{return s.timingSafeEqual(t,a)}catch{return!1}}let u=(0,n.Z)(e),m=(0,o.Z)(e,i);try{return await l(u,r,m,t)}catch{return!1}};var m=t(30979),b=t(11798),h=t(72062),p=t(19233),x=t(90927),f=t(71081);let g=(e,a)=>{if(void 0!==a&&(!Array.isArray(a)||a.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(a)return new Set(a)};var v=t(6598);let y=e=>e.d?(0,s.createPrivateKey)({format:"jwk",key:e}):(0,s.createPublicKey)({format:"jwk",key:e});async function w(e,a){if(!(0,p.Z)(e))throw TypeError("JWK must be an object");switch(a||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,r.Jx)(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new m.jq('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return y({...e,alg:a});default:throw new m.jq('Unsupported "kty" (Key Type) Parameter value')}}async function j(e,a,t){let s,i;if(!(0,p.Z)(e))throw new m.GW("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new m.GW('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new m.GW("JWS Protected Header incorrect type");if(void 0===e.payload)throw new m.GW("JWS Payload missing");if("string"!=typeof e.signature)throw new m.GW("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,p.Z)(e.header))throw new m.GW("JWS Unprotected Header incorrect type");let n={};if(e.protected)try{let a=(0,r.Jx)(e.protected);n=JSON.parse(b.xv.decode(a))}catch{throw new m.GW("JWS Protected Header is invalid")}if(!(0,h.Z)(n,e.header))throw new m.GW("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...n,...e.header},d=(0,f.Z)(m.GW,new Map([["b64",!0]]),t?.crit,n,o),c=!0;if(d.has("b64")&&"boolean"!=typeof(c=n.b64))throw new m.GW('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:l}=o;if("string"!=typeof l||!l)throw new m.GW('JWS "alg" (Algorithm) Header Parameter missing or invalid');let y=t&&g("algorithms",t.algorithms);if(y&&!y.has(l))throw new m.FP('"alg" (Algorithm) Header Parameter value not allowed');if(c){if("string"!=typeof e.payload)throw new m.GW("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new m.GW("JWS Payload must be a string or an Uint8Array instance");let j=!1;"function"==typeof a?(a=await a(n,e),j=!0,(0,x.Y)(l,a,"verify"),(0,v.x)(a)&&(a=await w(a,l))):(0,x.Y)(l,a,"verify");let k=(0,b.zo)(b.g7.encode(e.protected??""),b.g7.encode("."),"string"==typeof e.payload?b.g7.encode(e.payload):e.payload);try{s=(0,r.Jx)(e.signature)}catch{throw new m.GW("Failed to base64url decode the signature")}if(!await u(l,a,s,k))throw new m.nx;if(c)try{i=(0,r.Jx)(e.payload)}catch{throw new m.GW("Failed to base64url decode the payload")}else i="string"==typeof e.payload?b.g7.encode(e.payload):e.payload;let N={payload:i};return(void 0!==e.protected&&(N.protectedHeader=n),void 0!==e.header&&(N.unprotectedHeader=e.header),j)?{...N,key:a}:N}async function k(e,a,t){if(e instanceof Uint8Array&&(e=b.xv.decode(e)),"string"!=typeof e)throw new m.GW("Compact JWS must be a string or Uint8Array");let{0:r,1:s,2:i,length:n}=e.split(".");if(3!==n)throw new m.GW("Invalid Compact JWS");let o=await j({payload:s,protected:r,signature:i},a,t),d={payload:o.payload,protectedHeader:o.protectedHeader};return"function"==typeof a?{...d,key:o.key}:d}var N=t(25331),_=t(5653);let S=e=>e.toLowerCase().replace(/^application\//,""),A=(e,a)=>"string"==typeof e?a.includes(e):!!Array.isArray(e)&&a.some(Set.prototype.has.bind(new Set(e))),Z=(e,a,t={})=>{let r,s;try{r=JSON.parse(b.xv.decode(a))}catch{}if(!(0,p.Z)(r))throw new m.uv("JWT Claims Set must be a top-level JSON object");let{typ:i}=t;if(i&&("string"!=typeof e.typ||S(e.typ)!==S(i)))throw new m.YS('unexpected "typ" JWT header value',r,"typ","check_failed");let{requiredClaims:n=[],issuer:o,subject:d,audience:c,maxTokenAge:l}=t,u=[...n];for(let e of(void 0!==l&&u.push("iat"),void 0!==c&&u.push("aud"),void 0!==d&&u.push("sub"),void 0!==o&&u.push("iss"),new Set(u.reverse())))if(!(e in r))throw new m.YS(`missing required "${e}" claim`,r,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new m.YS('unexpected "iss" claim value',r,"iss","check_failed");if(d&&r.sub!==d)throw new m.YS('unexpected "sub" claim value',r,"sub","check_failed");if(c&&!A(r.aud,"string"==typeof c?[c]:c))throw new m.YS('unexpected "aud" claim value',r,"aud","check_failed");switch(typeof t.clockTolerance){case"string":s=(0,_.Z)(t.clockTolerance);break;case"number":s=t.clockTolerance;break;case"undefined":s=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=t,x=(0,N.Z)(h||new Date);if((void 0!==r.iat||l)&&"number"!=typeof r.iat)throw new m.YS('"iat" claim must be a number',r,"iat","invalid");if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new m.YS('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>x+s)throw new m.YS('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new m.YS('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=x-s)throw new m.fy('"exp" claim timestamp check failed',r,"exp","check_failed")}if(l){let e=x-r.iat;if(e-s>("number"==typeof l?l:(0,_.Z)(l)))throw new m.fy('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(e<0-s)throw new m.YS('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function C(e,a,t){let r=await k(e,a,t);if(r.protectedHeader.crit?.includes("b64")&&!1===r.protectedHeader.b64)throw new m.uv("JWTs MUST NOT use unencoded payload");let s={payload:Z(r.protectedHeader,r.payload,t),protectedHeader:r.protectedHeader};return"function"==typeof a?{...s,key:r.key}:s}}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[1638,2455,4128,7497,8070,4123,6864,4819,5164,115],()=>t(48295));module.exports=r})();