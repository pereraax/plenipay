(()=>{var e={};e.id=9322,e.ids=[9322],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},53002:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=t(50482),r=t(69108),n=t(62563),i=t.n(n),l=t(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["minhas-metas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,20779)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/minhas-metas/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63203)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,20429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1429)),"/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/not-found.tsx"]}],c=["/Users/charllestabordas/Documents/SISTEMA DE CONTAS/app/minhas-metas/page.tsx"],m="/minhas-metas/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/minhas-metas/page",pathname:"/minhas-metas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63657:(e,s,t)=>{Promise.resolve().then(t.bind(t,43470)),Promise.resolve().then(t.bind(t,81835)),Promise.resolve().then(t.bind(t,6210)),Promise.resolve().then(t.bind(t,27100)),Promise.resolve().then(t.bind(t,95604)),Promise.resolve().then(t.bind(t,58536)),Promise.resolve().then(t.bind(t,85214)),Promise.resolve().then(t.t.bind(t,31900,23))},81835:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(95344),r=t(3729),n=t(22254),i=t(97118),l=t(52175),o=t(72086),d=t(16588),c=t(51354),m=t(70491),x=t(73714),u=t(40718),h=t(51765),p=t(6058),b=t(42916),g=t(98026),f=t(80200),j=t(10703),v=t(67925),N=t(85674),w=t(51838),y=t(46064),k=t(17910),P=t(1560),Z=t(46327),C=t(38271),S=t(30782),E=t(97688),M=t(44480),D=t(29103);let z={Plane:i.Z,Car:l.Z,Home:o.Z,Smartphone:d.Z,Heart:c.Z,GraduationCap:m.Z,ShoppingCart:x.Z,Gamepad:u.Z,Camera:h.Z,Music:p.Z,Dumbbell:b.Z,Briefcase:g.Z,Gift:f.Z,PiggyBank:j.Z,Wallet:v.Z,CreditCard:N.Z};function A({metas:e=[]}){let[s,t]=(0,r.useState)(Array.isArray(e)?e:[]),[i,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),b=(0,n.useRouter)();(0,r.useEffect)(()=>{Array.isArray(e)&&t(e)},[e]),(0,r.useEffect)(()=>{let e=e=>{if(o){let s=e.target;s.closest(".menu-dropdown")||s.closest(".menu-button")||d(null)}};return o&&(document.addEventListener("mousedown",e),document.addEventListener("click",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("click",e)}},[o]);let g=e=>{b.push(`/juntar-dinheiro?meta=${e}`)},f=(e,s)=>{e.stopPropagation(),d(o===s?null:s)},j=()=>{d(null)},v=(e,s)=>{e.stopPropagation(),d(null),u(s),l(!0)},N=(e,s)=>{e.stopPropagation(),d(null),m(s)},A=async()=>{if(c){p(!0);try{let e=await (0,D.Ti)(c.id);e.error?alert(`Erro ao excluir meta: ${e.error}`):(t(e=>e.filter(e=>e.id!==c.id)),setTimeout(()=>{window.location.href="/minhas-metas"},300))}catch(e){console.error("Erro ao excluir meta:",e),alert("Erro ao excluir meta. Tente novamente.")}finally{p(!1),m(null)}}},q=s.filter(e=>"ativo"===e.status),T=s.filter(e=>"concluido"===e.status);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"mb-6 sm:mb-8",children:(0,a.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-brand-aqua to-blue-500 text-white rounded-lg sm:rounded-xl hover:shadow-lg transition-smooth font-semibold text-sm sm:text-base w-full sm:w-auto justify-center",children:[a.jsx(w.Z,{size:18,className:"sm:w-5 sm:h-5"}),a.jsx("span",{children:"Nova Meta"})]})}),q.length>0&&(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx(y.Z,{className:"text-brand-aqua sm:w-6 sm:h-6",size:20}),a.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-brand-clean",children:"Metas Ativas"}),a.jsx("span",{className:"px-2 sm:px-3 py-1 bg-brand-aqua/20 text-brand-aqua rounded-full text-xs sm:text-sm font-semibold",children:q.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:q.map(e=>{let s=(e.icone?z[e.icone]:k.Z)||k.Z;return(0,a.jsxs)("div",{onClick:()=>{o!==e.id&&g(e.id)},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:border-brand-aqua/50 cursor-pointer transition-smooth hover:shadow-xl hover:scale-[1.02] relative",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-brand-aqua/20 rounded-xl",children:a.jsx(s,{size:24,className:"text-brand-aqua"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-brand-clean",children:e.nome}),a.jsx("p",{className:"text-sm text-brand-clean/60",children:"diario"===e.periodicidade?"Di\xe1rio":"semanal"===e.periodicidade?"Semanal":"Mensal"})]})]}),(0,a.jsxs)("div",{className:"relative z-30",children:[a.jsx("button",{onClick:s=>{s.stopPropagation(),f(s,e.id)},className:"menu-button p-2 hover:bg-white/10 rounded-lg transition-smooth",title:"Op\xe7\xf5es",children:a.jsx(P.Z,{size:20,className:"text-brand-clean/70"})}),o===e.id&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[100] bg-transparent",onClick:e=>{e.preventDefault(),e.stopPropagation(),j()},onMouseDown:e=>{e.preventDefault(),j()}}),(0,a.jsxs)("div",{className:"menu-dropdown absolute right-0 top-10 bg-white dark:bg-brand-midnight rounded-xl shadow-2xl border border-gray-200 dark:border-white/20 z-[110] min-w-[160px] overflow-hidden",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:[(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),v(s,e)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-white/10 transition-smooth text-left",children:[a.jsx(Z.Z,{size:18,className:"text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:"Editar"})]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),N(s,e)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-smooth text-left",children:[a.jsx(C.Z,{size:18,className:"text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Excluir"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-brand-clean/70",children:"Progresso"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-brand-aqua",children:[((e.valor_acumulado||0)/(e.meta_total||1)*100).toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full bg-brand-midnight/50 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 rounded-full transition-all duration-500 shadow-lg shadow-blue-500/50",style:{width:`${Math.min((e.valor_acumulado||0)/(e.meta_total||1)*100,100)}%`}})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-brand-clean/70",children:["R$ ",(e.valor_acumulado||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("span",{className:"text-brand-clean font-semibold",children:["de R$ ",(e.meta_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},e.id)})})]}),T.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx(S.Z,{className:"text-yellow-400 sm:w-6 sm:h-6",size:20}),a.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-brand-clean",children:"Metas Conclu\xeddas"}),a.jsx("span",{className:"px-2 sm:px-3 py-1 bg-yellow-400/20 text-yellow-400 rounded-full text-xs sm:text-sm font-semibold",children:T.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:T.map(e=>{let s=(e.icone?z[e.icone]:k.Z)||k.Z;return(0,a.jsxs)("div",{onClick:()=>{o!==e.id&&g(e.id)},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:border-yellow-400/50 cursor-pointer transition-smooth hover:shadow-xl hover:scale-[1.02] opacity-75 relative",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-yellow-400/20 rounded-xl",children:a.jsx(s,{size:24,className:"text-yellow-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-brand-clean",children:e.nome}),a.jsx("p",{className:"text-sm text-brand-clean/60",children:"Conclu\xedda"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(S.Z,{className:"text-yellow-400",size:20}),(0,a.jsxs)("div",{className:"relative z-30",children:[a.jsx("button",{onClick:s=>{s.stopPropagation(),f(s,e.id)},className:"menu-button p-2 hover:bg-white/10 rounded-lg transition-smooth",title:"Op\xe7\xf5es",children:a.jsx(P.Z,{size:20,className:"text-brand-clean/70"})}),o===e.id&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[100] bg-transparent",onClick:e=>{e.preventDefault(),e.stopPropagation(),j()},onMouseDown:e=>{e.preventDefault(),j()}}),(0,a.jsxs)("div",{className:"menu-dropdown absolute right-0 top-10 bg-white dark:bg-brand-midnight rounded-xl shadow-2xl border border-gray-200 dark:border-white/20 z-[110] min-w-[160px] overflow-hidden",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:[(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),v(s,e)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-white/10 transition-smooth text-left",children:[a.jsx(Z.Z,{size:18,className:"text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:"Editar"})]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),N(s,e)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-smooth text-left",children:[a.jsx(C.Z,{size:18,className:"text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Excluir"})]})]})]})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"w-full bg-brand-midnight/50 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full",style:{width:"100%"}})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-brand-clean/70",children:["R$ ",(e.valor_acumulado||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("span",{className:"text-brand-clean font-semibold",children:["de R$ ",(e.meta_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},e.id)})})]}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-brand-aqua/20 rounded-full mb-6",children:a.jsx(k.Z,{size:48,className:"text-brand-aqua"})}),a.jsx("h3",{className:"text-2xl font-bold text-brand-clean mb-2",children:"Nenhuma meta criada ainda"}),a.jsx("p",{className:"text-brand-clean/70 mb-6",children:"Crie sua primeira meta e comece a economizar!"}),(0,a.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-gradient-to-r from-brand-aqua to-blue-500 text-white rounded-xl hover:shadow-lg transition-smooth font-semibold",children:[a.jsx(w.Z,{size:20,className:"inline mr-2"}),"Criar Primeira Meta"]})]}),i&&a.jsx(E.Z,{onClose:()=>{l(!1),u(null)},onMetaCriada:x?e=>{t(s=>s.map(s=>s.id===e.id?e:s)),u(null),l(!1),setTimeout(()=>{window.location.href="/minhas-metas"},500)}:e=>{l(!1),t(s=>[e,...s]),setTimeout(()=>{window.location.href="/minhas-metas"},500)},metaParaEditar:x}),c&&a.jsx(M.Z,{titulo:"Excluir Meta",mensagem:`Tem certeza que deseja excluir a meta "${c.nome}"? Esta a\xe7\xe3o n\xe3o pode ser desfeita e todos os ba\xfas e dep\xf3sitos relacionados ser\xe3o perdidos.`,onConfirmar:A,onCancelar:()=>m(null),textoConfirmar:"Excluir",textoCancelar:"Cancelar",tipo:"danger",loading:h})]})}},45961:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},62312:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},48120:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},38271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},20779:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N,revalidate:()=>j});var a=t(25036),r=t(40002),n=t(44177),i=t(17273),l=t(38907),o=t(94406),d=t(65430),c=t(31421),m=t(69616),x=t(91433);let u=(0,t(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/components/MinhasMetasView.tsx`),{__esModule:h,$$typeof:p}=u,b=u.default;var g=t(15904),f=t.n(g);let j=60;async function v(){try{let e=await (0,x.obterMetasCofrinho)();if(!e)return a.jsx(b,{metas:[]});if(e.error)return console.error("Erro ao obter metas:",e.error),a.jsx(b,{metas:[]});let s=Array.isArray(e.data)?e.data:[];return a.jsx(b,{metas:s})}catch(e){return console.error("Erro ao carregar conte\xfado:",e),a.jsx(b,{metas:[]})}}function N(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-brand-midnight via-brand-royal to-brand-midnight dark:from-brand-midnight dark:via-brand-midnight dark:to-brand-midnight",children:[a.jsx(i.ZP,{}),a.jsx(n.ZP,{}),a.jsx("main",{className:"lg:ml-64 p-3 sm:p-4 md:p-8 dark:bg-brand-midnight pt-6 lg:pt-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex justify-center mb-2 lg:hidden",children:a.jsx("div",{className:"w-40 sm:w-52",children:a.jsx(c.ZP,{})})}),(0,a.jsxs)("div",{className:"relative z-30 flex items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[a.jsx(i.j2,{}),a.jsx("div",{className:"p-1.5 sm:p-2 bg-brand-aqua/20 rounded-lg sm:rounded-xl flex-shrink-0 flex items-center justify-center",children:a.jsx(f(),{src:"/porco-azul.png",alt:"Juntar Dinheiro",width:32,height:32,className:"sm:w-10 sm:h-10 object-contain",priority:!0,style:{background:"transparent"}})}),(0,a.jsxs)("div",{className:"flex flex-col justify-center min-w-0",children:[a.jsx("h1",{className:"text-base sm:text-lg font-display font-bold text-brand-clean leading-tight whitespace-nowrap",children:"Confira suas metas:"}),a.jsx("p",{className:"text-brand-clean/70 text-xs sm:text-sm leading-tight mt-0.5",children:"Gerencie suas metas de economia"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[a.jsx(o.ZP,{}),a.jsx(d.ZP,{})]})]}),a.jsx(l.ZP,{feature:"Sistema de Metas",planoNecessario:"basico",children:a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(m.Z,{size:48,className:"animate-spin text-brand-aqua"})}),children:a.jsx(v,{})})})]})})]})}},38907:(e,s,t)=>{"use strict";t.d(s,{ZP:()=>i});let a=(0,t(86843).createProxy)(String.raw`/Users/charllestabordas/Documents/SISTEMA DE CONTAS/components/PlanoGuard.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[1638,2455,4128,7497,4123,6864,4819,7959,115,1433,4375,2798,9067],()=>t(53002));module.exports=a})();