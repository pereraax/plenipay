(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7853],{15841:function(e,a,r){Promise.resolve().then(r.bind(r,55270)),Promise.resolve().then(r.bind(r,15438)),Promise.resolve().then(r.bind(r,9353)),Promise.resolve().then(r.bind(r,53468)),Promise.resolve().then(r.bind(r,29408)),Promise.resolve().then(r.bind(r,31441)),Promise.resolve().then(r.bind(r,94513))},55270:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return _}});var t=r(57437),d=r(2265),n=r(72339),s=r(69433),i=r(56773),o=r(98124),l=r(56143),b=r(6308),c=r(96918),x=r(42232),m=r(17961),h=r(9242),u=r(25772),g=r(37339),f=r(35876),k=r(51804),p=r(51697),j=r(82836),v=r(28203),y=r(81291),N=r(17158),w=r(42482),q=r(82549),F=r(83523),S=r(62442),C=r(13008),W=r(53589),z=r(45367),R=r(24033),B=r(25727),D=r(83302),M=r(89282),Z=r(53468);function E(e){let{data:a,registros:r,onClose:n}=e,s=(0,R.useRouter)(),[i,o]=(0,d.useState)(null),[l,b]=(0,d.useState)(!1),[c,x]=(0,d.useState)(null),h={entrada:"bg-green-100 text-green-700 border-green-300",saida:"bg-red-100 text-red-700 border-red-300",divida:"bg-orange-100 text-orange-700 border-orange-300"},u={entrada:"Entrada",saida:"Sa\xedda",divida:"D\xedvida"},g=e=>{if(!e)return"";let a=e.split("\n").filter(e=>{let a=e.trim();return!(a.startsWith("[")&&a.endsWith("]"))}).join("\n").trim();return a.length>80?a.substring(0,80)+"...":a},f=async(e,a)=>{x({id:e,nome:a}),b(!0)},k=async()=>{c&&((await (0,B.v2)(c.id)).error?(0,Z.createNotification)("Erro ao excluir registro","warning"):((0,Z.createNotification)('Registro "'.concat(c.nome,'" exclu\xeddo com sucesso!'),"success"),s.refresh()),b(!1),x(null))},p=async(e,a)=>{(await (0,B.Yw)(e)).error?(0,Z.createNotification)("Erro ao marcar parcela como paga","warning"):((0,Z.createNotification)('Parcela de "'.concat(a,'" marcada como paga!'),"success"),s.refresh())},v=r.filter(e=>"entrada"===e.tipo).reduce((e,a)=>e+parseFloat(a.valor.toString()),0),y=r.filter(e=>"saida"===e.tipo).reduce((e,a)=>e+parseFloat(a.valor.toString()),0),N=r.filter(e=>"divida"===e.tipo).reduce((e,a)=>e+parseFloat(a.valor.toString()),0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 z-[60] flex items-center justify-center p-4 animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-brand-royal rounded-2xl max-w-3xl w-full max-h-[85vh] flex flex-col shadow-2xl animate-slide-up overflow-hidden border border-gray-200 dark:border-white/10",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 border-b border-gray-200 dark:border-white/10 px-5 py-4 flex items-center justify-between bg-white dark:bg-brand-midnight",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-display text-brand-midnight dark:text-brand-clean",children:"Registros do Dia"}),(0,t.jsx)("p",{className:"text-xs text-brand-midnight/70 dark:text-brand-clean/70 mt-1",children:(0,m.WU)(a,"dd 'de' MMMM 'de' yyyy",{locale:j.F})})]}),(0,t.jsx)("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-smooth",children:(0,t.jsx)(q.Z,{size:20,className:"text-brand-midnight dark:text-brand-clean"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto px-5 py-4 bg-white dark:bg-brand-royal",children:[(v>0||y>0||N>0)&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[v>0&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[(0,t.jsx)("p",{className:"text-xs text-green-700 dark:text-green-400 mb-1",children:"Total Entradas"}),(0,t.jsx)("p",{className:"text-sm font-bold text-green-700 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v)})]}),y>0&&(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[(0,t.jsx)("p",{className:"text-xs text-red-700 dark:text-red-400 mb-1",children:"Total Sa\xeddas"}),(0,t.jsx)("p",{className:"text-sm font-bold text-red-700 dark:text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y)})]}),N>0&&(0,t.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:[(0,t.jsx)("p",{className:"text-xs text-orange-700 dark:text-orange-400 mb-1",children:"Total D\xedvidas"}),(0,t.jsx)("p",{className:"text-sm font-bold text-orange-700 dark:text-orange-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N)})]})]}),0===r.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-brand-midnight/60 dark:text-brand-clean/60 text-sm",children:"Nenhum registro neste dia"})}):(0,t.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,t.jsxs)("div",{className:"bg-white dark:bg-brand-midnight rounded-lg p-3 border border-gray-200 dark:border-white/10 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-brand-midnight dark:text-brand-clean",children:e.nome}),(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium border ".concat(h[e.tipo]),children:u[e.tipo]})]}),g(e.observacao)&&(0,t.jsx)("p",{className:"text-xs text-brand-midnight/70 dark:text-brand-clean/70 mb-1.5",children:g(e.observacao)})]}),(0,t.jsx)("span",{className:"text-base font-bold text-brand-midnight dark:text-brand-clean",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valor)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-2 text-xs",children:[e.user&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-midnight/60 dark:text-brand-clean/60",children:"Usu\xe1rio: "}),(0,t.jsx)("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:e.user.nome})]}),e.categoria&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-midnight/60 dark:text-brand-clean/60",children:"Categoria: "}),(0,t.jsx)("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:e.categoria})]}),e.parcelas_totais>1&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-midnight/60 dark:text-brand-clean/60",children:"Parcelas: "}),(0,t.jsxs)("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:[e.parcelas_pagas,"/",e.parcelas_totais]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-midnight/60 dark:text-brand-clean/60",children:"Hor\xe1rio: "}),(0,t.jsx)("span",{className:"text-brand-midnight dark:text-brand-clean font-medium",children:(0,m.WU)(new Date(e.data_registro),"HH:mm",{locale:j.F})})]})]}),e.etiquetas&&e.etiquetas.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-2",children:e.etiquetas.map((e,a)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-brand-aqua/10 dark:bg-brand-aqua/20 text-brand-aqua text-xs rounded border border-brand-aqua/30 dark:border-brand-aqua/40",children:e},a))}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-white/10",children:[(0,t.jsx)("span",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60",children:(0,m.WU)(new Date(e.data_registro),"dd/MM/yyyy '\xe0s' HH:mm",{locale:j.F})}),(0,t.jsxs)("div",{className:"flex gap-1.5",children:["divida"===e.tipo&&e.parcelas_pagas<e.parcelas_totais&&(0,t.jsx)("button",{onClick:()=>p(e.id,e.nome),className:"p-1.5 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Marcar parcela como paga",children:(0,t.jsx)(C.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>o(e),className:"p-1.5 text-brand-aqua hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20 rounded transition-smooth",title:"Editar",children:(0,t.jsx)(W.Z,{size:16,strokeWidth:2})}),(0,t.jsx)("button",{onClick:()=>f(e.id,e.nome),className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-smooth",title:"Excluir",children:(0,t.jsx)(z.Z,{size:16,strokeWidth:2})})]})]})]},e.id))})]})]})}),i&&(0,t.jsx)(M.Z,{registro:i,onClose:()=>o(null)}),l&&c&&(0,t.jsx)(D.Z,{titulo:"Excluir Registro",mensagem:'Tem certeza que deseja excluir o registro "'.concat(c.nome,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'),onConfirmar:k,onCancelar:()=>{b(!1),x(null)},textoConfirmar:"Excluir",tipo:"danger"})]})}function _(e){var a;let{registros:r,usuarios:C=[]}=e,[W,z]=(0,d.useState)(new Date),[R,B]=(0,d.useState)(null),[D,M]=(0,d.useState)(null),[Z,_]=(0,d.useState)("mes"),[I,U]=(0,d.useState)(""),[L,T]=(0,d.useState)(""),[O,P]=(0,d.useState)(""),[H,K]=(0,d.useState)(!1),[Q,A]=(0,d.useState)(!1),[V,Y]=(0,d.useState)(!1),[G,J]=(0,d.useState)(!1),X=(0,d.useMemo)(()=>{let e=r.filter(e=>"divida"!==e.tipo);return I&&(e=e.filter(e=>e.tipo===I)),L&&(e=e.filter(e=>e.user_id===L)),O&&(e=e.filter(e=>{var a;return null===(a=e.etiquetas)||void 0===a?void 0:a.includes(O)})),e},[r,I,L,O]),$=Array.from(new Set(X.flatMap(e=>e.etiquetas||[]))),ee=e=>X.filter(a=>(0,n.K)(new Date(a.data_registro),e)),ea=I||L||O;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-white via-gray-50 to-white dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-3xl p-6 shadow-2xl border-2 border-brand-aqua/20 dark:border-brand-aqua/30",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-brand-aqua/20 dark:bg-brand-aqua/30 rounded-xl",children:(0,t.jsx)(v.Z,{size:24,className:"text-brand-aqua",strokeWidth:2.5})}),(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-brand-midnight dark:text-brand-clean",children:(()=>{if("mes"===Z)return(0,m.WU)(W,"MMMM yyyy",{locale:j.F});if("semana"===Z){let e=(0,h.z)(W,{weekStartsOn:0}),a=(0,u.v)(W,{weekStartsOn:0});return"".concat((0,m.WU)(e,"d",{locale:j.F})," - ").concat((0,m.WU)(a,"d MMMM yyyy",{locale:j.F}))}return"ano"===Z?(0,m.WU)(W,"yyyy",{locale:j.F}):""})()})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{"mes"===Z?z((0,o.W)(W,1)):"semana"===Z?z((0,l.t)(W,1)):"ano"===Z&&z((0,o.W)(W,12))},className:"p-2 hover:bg-brand-aqua/20 dark:hover:bg-brand-aqua/30 rounded-xl transition-smooth text-brand-midnight dark:text-brand-clean",children:(0,t.jsx)(y.Z,{size:24,strokeWidth:2.5})}),(0,t.jsx)("button",{onClick:()=>z(new Date),className:"px-4 py-2 bg-brand-aqua text-brand-midnight rounded-xl hover:bg-brand-aqua/90 transition-smooth font-semibold text-sm shadow-md hover:shadow-lg",children:"Hoje"}),(0,t.jsx)("button",{onClick:()=>{"mes"===Z?z((0,s.z)(W,1)):"semana"===Z?z((0,i.j)(W,1)):"ano"===Z&&z((0,s.z)(W,12))},className:"p-2 hover:bg-brand-aqua/20 dark:hover:bg-brand-aqua/30 rounded-xl transition-smooth text-brand-midnight dark:text-brand-clean",children:(0,t.jsx)(N.Z,{size:24,strokeWidth:2.5})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsx)("div",{className:"flex gap-2 bg-gray-100 dark:bg-brand-midnight/80 p-1 rounded-xl",children:["mes","semana","ano"].map(e=>(0,t.jsx)("button",{onClick:()=>_(e),className:"px-4 py-2 rounded-lg font-semibold text-sm transition-smooth ".concat(Z===e?"bg-brand-aqua text-brand-midnight shadow-md":"text-brand-midnight dark:text-brand-clean hover:bg-gray-200 dark:hover:bg-white/10"),children:"mes"===e?"M\xeas":"semana"===e?"Semana":"Ano"},e))}),(0,t.jsxs)("button",{onClick:()=>J(!G),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm transition-smooth ".concat(G||ea?"bg-brand-aqua text-brand-midnight shadow-md":"bg-gray-100 dark:bg-brand-midnight/80 text-brand-midnight dark:text-brand-clean hover:bg-gray-200 dark:hover:bg-white/10"),children:[(0,t.jsx)(w.Z,{size:18,strokeWidth:2.5}),"Filtros",ea&&(0,t.jsx)("span",{className:"bg-brand-midnight text-brand-aqua rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:[I,L,O].filter(Boolean).length})]}),ea&&(0,t.jsxs)("button",{onClick:()=>{U(""),T(""),P("")},className:"flex items-center gap-2 px-4 py-2 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl font-semibold text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-smooth",children:[(0,t.jsx)(q.Z,{size:18,strokeWidth:2.5}),"Limpar"]})]}),G&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-white dark:bg-brand-midnight/60 rounded-xl border-2 border-brand-aqua/20 dark:border-brand-aqua/30",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"Tipo"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>K(!H),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm",children:[(0,t.jsx)("span",{className:I?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:"entrada"===I?"Entrada":"saida"===I?"Sa\xedda":"Todos"}),(0,t.jsx)(F.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(H?"rotate-180":""),strokeWidth:2.5})]}),H&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>K(!1)}),(0,t.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{U(""),K(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===I?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:"Todos"}),""===I&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{U("entrada"),K(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat("entrada"===I?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:"Entrada"}),"entrada"===I&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{U("saida"),K(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat("saida"===I?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:"Sa\xedda"}),"saida"===I&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]})]})]})]})]}),C.length>0&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"Usu\xe1rio"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>A(!Q),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm",children:[(0,t.jsx)("span",{className:L?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:L&&(null===(a=C.find(e=>e.id===L))||void 0===a?void 0:a.nome)||"Todos"}),(0,t.jsx)(F.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(Q?"rotate-180":""),strokeWidth:2.5})]}),Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>A(!1)}),(0,t.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden max-h-60 overflow-y-auto",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{T(""),A(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===L?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:"Todos"}),""===L&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]}),C.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{T(e.id),A(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat(L===e.id?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:e.nome}),L===e.id&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]},e.id))]})]})]})]}),$.length>0&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"Etiqueta"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>Y(!V),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm",children:[(0,t.jsx)("span",{className:O?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:O||"Todas"}),(0,t.jsx)(F.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(V?"rotate-180":""),strokeWidth:2.5})]}),V&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>Y(!1)}),(0,t.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden max-h-60 overflow-y-auto",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{P(""),Y(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===O?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{children:"Todas"}),""===O&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]}),$.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{P(e),Y(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat(O===e?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,t.jsx)("span",{className:"capitalize",children:e}),O===e&&(0,t.jsx)(S.Z,{size:18,strokeWidth:3})]},e))]})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-white via-gray-50 to-white dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-3xl p-6 shadow-2xl border-2 border-brand-aqua/20 dark:border-brand-aqua/30",children:["mes"===Z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,t.jsx)("div",{className:"text-center text-sm font-bold text-brand-midnight dark:text-brand-clean py-2 bg-brand-aqua/10 dark:bg-brand-aqua/20 rounded-lg",children:e},e))}),(()=>{let e=(0,b.N)(W),a=(0,c.V)(W),r=(0,x.D)({start:e,end:a}),d=Array.from({length:e.getDay()},(e,a)=>a);return(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[d.map((e,a)=>(0,t.jsx)("div",{className:"aspect-square"},"empty-".concat(a))),r.map(e=>{let a=ee(e),r=a.length>0,d=R&&(0,n.K)(e,R),s=(0,n.K)(e,new Date),i=a.filter(e=>"entrada"===e.tipo).reduce((e,a)=>e+a.valor,0),o=a.filter(e=>"saida"===e.tipo).reduce((e,a)=>e+a.valor,0);return(0,t.jsx)("button",{onClick:()=>{B(e),M(e)},className:"aspect-square p-2 rounded-xl border-2 transition-all hover:scale-105 ".concat(d?"border-brand-aqua bg-gradient-to-br from-brand-aqua/20 to-brand-blue/20 dark:from-brand-aqua/30 dark:to-brand-blue/30 shadow-lg shadow-brand-aqua/20":s?"border-brand-aqua/50 bg-gradient-to-br from-brand-aqua/10 to-brand-blue/10 dark:from-brand-aqua/20 dark:to-brand-blue/20":"border-gray-200 dark:border-white/20 hover:border-brand-aqua/50 dark:hover:border-brand-aqua/50 hover:bg-gray-50 dark:hover:bg-white/5"),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("span",{className:"text-sm font-bold mb-1 ".concat(d?"text-brand-aqua":"text-brand-midnight dark:text-brand-clean"),children:(0,m.WU)(e,"d")}),r&&(0,t.jsxs)("div",{className:"mt-auto space-y-1",children:[i>0&&(0,t.jsxs)("div",{className:"text-[10px] font-semibold text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-1.5 py-0.5 rounded",children:["+",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(i)]}),o>0&&(0,t.jsxs)("div",{className:"text-[10px] font-semibold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-1.5 py-0.5 rounded",children:["-",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(o)]}),a.length>2&&(0,t.jsxs)("div",{className:"text-[10px] text-brand-midnight/60 dark:text-brand-clean/60 font-medium text-center",children:[a.length," registros"]})]})]})},e.toISOString())})]})})()]}),"semana"===Z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-7 gap-3 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,t.jsx)("div",{className:"text-center text-sm font-bold text-brand-midnight dark:text-brand-clean py-2 bg-brand-aqua/10 dark:bg-brand-aqua/20 rounded-lg",children:e},e))}),(()=>{let e=(0,h.z)(W,{weekStartsOn:0}),a=(0,u.v)(W,{weekStartsOn:0}),r=(0,x.D)({start:e,end:a});return(0,t.jsx)("div",{className:"grid grid-cols-7 gap-3",children:r.map(e=>{let a=ee(e),r=R&&(0,n.K)(e,R),d=(0,n.K)(e,new Date),s=!(0,g.x)(e,W),i=a.filter(e=>"entrada"===e.tipo).reduce((e,a)=>e+a.valor,0),o=a.filter(e=>"saida"===e.tipo).reduce((e,a)=>e+a.valor,0),l=i-o;return(0,t.jsxs)("div",{className:"rounded-xl border-2 p-4 min-h-[200px] transition-all ".concat(r?"border-brand-aqua bg-gradient-to-br from-brand-aqua/20 to-brand-blue/20 dark:from-brand-aqua/30 dark:to-brand-blue/30 shadow-lg":d?"border-brand-aqua/50 bg-gradient-to-br from-brand-aqua/10 to-brand-blue/10 dark:from-brand-aqua/20 dark:to-brand-blue/20":"border-gray-200 dark:border-white/20 bg-white dark:bg-brand-midnight/50"),children:[(0,t.jsxs)("button",{onClick:()=>{B(e),M(e)},className:"w-full text-left mb-3",children:[(0,t.jsx)("div",{className:"text-sm font-bold mb-1 ".concat(s?"text-gray-400":d?"text-brand-aqua":"text-brand-midnight dark:text-brand-clean"),children:(0,m.WU)(e,"EEE",{locale:j.F})}),(0,t.jsx)("div",{className:"text-2xl font-bold ".concat(s?"text-gray-400":d?"text-brand-aqua":"text-brand-midnight dark:text-brand-clean"),children:(0,m.WU)(e,"d")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[i>0&&(0,t.jsxs)("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:["+",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(i)]}),o>0&&(0,t.jsxs)("div",{className:"text-xs font-semibold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-1 rounded",children:["-",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(o)]}),0!==l&&(0,t.jsxs)("div",{className:"text-xs font-bold px-2 py-1 rounded ".concat(l>0?"text-green-700 dark:text-green-300 bg-green-200 dark:bg-green-900/40":"text-red-700 dark:text-red-300 bg-red-200 dark:bg-red-900/40"),children:["Saldo: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(l)]}),a.length>0&&(0,t.jsxs)("div",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mt-2",children:[a.length," ",1===a.length?"registro":"registros"]})]})]},e.toISOString())})})})()]}),"ano"===Z&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-brand-midnight dark:text-brand-clean mb-4",children:(0,m.WU)(W,"yyyy",{locale:j.F})}),(()=>{let e=(0,f.e)(W),a=(0,k.w)(W),r=(0,p.R)({start:e,end:a});return(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(e=>{let a=X.filter(a=>(0,g.x)(new Date(a.data_registro),e)),r=a.filter(e=>"entrada"===e.tipo).reduce((e,a)=>e+a.valor,0),d=a.filter(e=>"saida"===e.tipo).reduce((e,a)=>e+a.valor,0),n=r-d,s=(0,g.x)(e,new Date);return(0,t.jsxs)("button",{onClick:()=>{z(e),_("mes")},className:"p-4 rounded-xl border-2 transition-all hover:scale-105 ".concat(s?"border-brand-aqua bg-gradient-to-br from-brand-aqua/20 to-brand-blue/20 dark:from-brand-aqua/30 dark:to-brand-blue/30 shadow-lg":"border-gray-200 dark:border-white/20 bg-white dark:bg-brand-midnight/50 hover:border-brand-aqua/50"),children:[(0,t.jsx)("div",{className:"text-lg font-bold text-brand-midnight dark:text-brand-clean mb-2",children:(0,m.WU)(e,"MMMM",{locale:j.F})}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[r>0&&(0,t.jsxs)("div",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(r)]}),d>0&&(0,t.jsxs)("div",{className:"text-red-600 dark:text-red-400 font-semibold",children:["-",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(d)]}),(0,t.jsx)("div",{className:"font-bold ".concat(n>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"),children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(n)})]})]},e.toISOString())})})})()]})]}),D&&(0,t.jsx)(E,{data:D,registros:ee(D),onClose:()=>M(null)})]})}}},function(e){e.O(0,[5250,4962,889,1749,3974,320,3468,982,9282,9867,2971,4938,1744],function(){return e(e.s=15841)}),_N_E=e.O()}]);