(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9669],{71911:function(e,a,t){Promise.resolve().then(t.bind(t,15438)),Promise.resolve().then(t.bind(t,9353)),Promise.resolve().then(t.bind(t,53468)),Promise.resolve().then(t.bind(t,56646)),Promise.resolve().then(t.bind(t,31441)),Promise.resolve().then(t.bind(t,94513))},83302:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(57437),d=t(72894),n=t(82549);function s(e){let{titulo:a,mensagem:t,onConfirmar:s,onCancelar:i,textoConfirmar:l="Confirmar",textoCancelar:o="Cancelar",tipo:b="warning",loading:c=!1}=e,x={danger:{bg:"bg-red-100",icon:"text-red-600",botao:"bg-red-600 hover:bg-red-700",border:"border-red-200"},warning:{bg:"bg-orange-100",icon:"text-orange-600",botao:"bg-orange-600 hover:bg-orange-700",border:"border-orange-200"},info:{bg:"bg-blue-100",icon:"text-blue-600",botao:"bg-blue-600 hover:bg-blue-700",border:"border-blue-200"}}[b];return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-3xl shadow-2xl max-w-sm w-full p-6 animate-slide-up border-2 border-brand-aqua/30 dark:border-brand-aqua/40",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,r.jsx)("div",{className:"p-3 ".concat(x.bg," rounded-xl shadow-lg"),children:(0,r.jsx)(d.Z,{className:x.icon,size:24,strokeWidth:2.5})}),(0,r.jsx)("h3",{className:"text-xl font-display font-bold text-brand-midnight dark:text-brand-clean flex-1",children:a}),(0,r.jsx)("button",{onClick:i,disabled:c,className:"p-2 hover:bg-red-500/20 dark:hover:bg-red-500/30 rounded-xl transition-smooth disabled:opacity-50",children:(0,r.jsx)(n.Z,{size:20,className:"text-brand-midnight dark:text-brand-clean",strokeWidth:2.5})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/70 leading-relaxed",children:t})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:i,disabled:c,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-brand-midnight text-brand-midnight dark:text-brand-clean rounded-xl hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth font-semibold disabled:opacity-50 text-sm border-2 border-gray-200 dark:border-white/20",children:o}),(0,r.jsx)("button",{onClick:s,disabled:c,className:"flex-1 px-4 py-3 ".concat(x.botao," text-white rounded-xl transition-smooth font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg hover:shadow-xl"),children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Processando..."})]}):l})]})]})})}},56646:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var r=t(57437),d=t(2265),n=t(24033),s=t(41827),i=t(42482),l=t(82549),o=t(83523),b=t(62442),c=t(45367),x=t(13008),m=t(53589),h=t(17961),u=t(82836),g=t(25727),p=t(83302),f=t(89282);function k(e){var a,t;let{registros:k,usuarios:j,filtrosAtuais:y}=e,v=(0,n.useRouter)();(0,n.useSearchParams)();let[w,N]=(0,d.useState)({nome:y.nome||"",tipo:y.tipo||"",user_id:y.user_id||"",etiqueta:y.etiqueta||"",data_inicio:y.data_inicio||"",data_fim:y.data_fim||""}),[q,_]=(0,d.useState)(null),[C,z]=(0,d.useState)(!1),[Z,W]=(0,d.useState)(null),[E,S]=(0,d.useState)(!1),[D,T]=(0,d.useState)(!1),[F,P]=(0,d.useState)(!1),[U,M]=(0,d.useState)(!1),R=()=>{let e=new URLSearchParams;w.nome&&e.set("nome",w.nome),w.tipo&&e.set("tipo",w.tipo),w.user_id&&e.set("user_id",w.user_id),w.etiqueta&&e.set("etiqueta",w.etiqueta),w.data_inicio&&e.set("data_inicio",w.data_inicio),w.data_fim&&e.set("data_fim",w.data_fim),v.push("/registros?".concat(e.toString()))},A=()=>{N({nome:"",tipo:"",user_id:"",etiqueta:"",data_inicio:"",data_fim:""}),v.push("/registros")},B=Array.from(new Set(k.flatMap(e=>e.etiquetas||[]))),L=Object.values(y).some(e=>e),O=async e=>{await (0,g.Yw)(e),v.refresh()},H=async e=>{W(e),z(!0)},I=async()=>{Z&&(await (0,g.v2)(Z),v.refresh(),z(!1),W(null))},V={entrada:"bg-green-100 text-green-700 border-green-300",saida:"bg-red-100 text-red-700 border-red-300",divida:"bg-orange-100 text-orange-700 border-orange-300"},K={entrada:"Entrada",saida:"Sa\xedda",divida:"D\xedvida"},Y=e=>{if(!e)return"";let a=e.split("\n").filter(e=>{let a=e.trim();return!(a.startsWith("[")&&a.endsWith("]"))}).join("\n").trim();return a.length>60?a.substring(0,60)+"...":a};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4 sm:mb-6",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-brand-clean/60",size:20}),(0,r.jsx)("input",{type:"text",value:w.nome,onChange:e=>N({...w,nome:e.target.value}),onKeyPress:e=>"Enter"===e.key&&R(),placeholder:"Buscar por nome...",className:"w-full pl-11 pr-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight placeholder-gray-400 dark:placeholder-brand-clean/50 hover:border-brand-aqua/50 shadow-sm hover:shadow-md"})]})}),(0,r.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 border-2 rounded-xl transition-smooth text-sm font-semibold whitespace-nowrap ".concat(L?"bg-brand-aqua text-brand-midnight border-brand-aqua shadow-md":"bg-white dark:bg-brand-royal text-brand-midnight dark:text-brand-clean border-gray-200 dark:border-white/20 hover:border-brand-aqua"),children:[(0,r.jsx)(i.Z,{size:18,className:"text-brand-aqua",strokeWidth:2.5}),(0,r.jsx)("span",{children:"Filtros"}),L&&(0,r.jsx)("span",{className:"px-1.5 py-0.5 bg-brand-midnight dark:bg-brand-aqua text-white dark:text-brand-midnight rounded-full text-xs font-bold",children:Object.values(y).filter(e=>e).length})]})]}),U&&(0,r.jsxs)("div",{className:"hidden md:block bg-gradient-to-br from-white via-gray-50 to-white dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-2xl border-2 border-brand-aqua/20 dark:border-brand-aqua/30 mb-4 sm:mb-6 animate-slide-up",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-brand-aqua/20 dark:bg-brand-aqua/30 rounded-xl",children:(0,r.jsx)(i.Z,{size:24,className:"text-brand-aqua",strokeWidth:2.5})}),(0,r.jsx)("h3",{className:"text-xl font-display font-bold text-brand-midnight dark:text-brand-clean",children:"Filtros do Extrato"})]}),L&&(0,r.jsxs)("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-smooth text-sm font-semibold border-2 border-red-200 dark:border-red-800/50",children:[(0,r.jsx)(l.Z,{size:18,strokeWidth:2.5}),(0,r.jsx)("span",{children:"Limpar"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Tipo"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>T(!D),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm hover:shadow-md",children:[(0,r.jsx)("span",{className:w.tipo?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:"entrada"===w.tipo?"Entrada":"saida"===w.tipo?"Sa\xedda":"Todos"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(D?"rotate-180":""),strokeWidth:2.5})]}),D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),(0,r.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden animate-slide-up",children:(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:""}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:"Todos"}),""===w.tipo&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:"entrada"}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat("entrada"===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:"Entrada"}),"entrada"===w.tipo&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:"saida"}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat("saida"===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:"Sa\xedda"}),"saida"===w.tipo&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]})]})})]})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Usu\xe1rio"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>P(!F),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm hover:shadow-md",children:[(0,r.jsx)("span",{className:w.user_id?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:w.user_id&&(null===(a=j.find(e=>e.id===w.user_id))||void 0===a?void 0:a.nome)||"Todos"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(F?"rotate-180":""),strokeWidth:2.5})]}),F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>P(!1)}),(0,r.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden animate-slide-up",children:(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,user_id:""}),P(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===w.user_id?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:"Todos"}),""===w.user_id&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]}),j.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,user_id:e.id}),P(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat(w.user_id===e.id?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:e.nome}),w.user_id===e.id&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]},e.id))]})})]})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Etiqueta"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>S(!E),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 flex items-center justify-between shadow-sm hover:shadow-md",children:[(0,r.jsx)("span",{className:w.etiqueta?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:w.etiqueta||"Todas"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform duration-200 ".concat(E?"rotate-180":""),strokeWidth:2.5})]}),E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>S(!1)}),(0,r.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 dark:border-brand-aqua/40 overflow-hidden animate-slide-up",children:(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,etiqueta:""}),S(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth ".concat(""===w.etiqueta?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{children:"Todas"}),""===w.etiqueta&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]}),B.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,etiqueta:e}),S(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between transition-smooth border-t border-gray-100 dark:border-white/10 ".concat(w.etiqueta===e?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20"),children:[(0,r.jsx)("span",{className:"capitalize",children:e}),w.etiqueta===e&&(0,r.jsx)(b.Z,{size:18,strokeWidth:3})]},e))]})})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Data in\xedcio"}),(0,r.jsx)("input",{type:"date",value:w.data_inicio,onChange:e=>N({...w,data_inicio:e.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 shadow-sm hover:shadow-md"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Data fim"}),(0,r.jsx)("input",{type:"date",value:w.data_fim,onChange:e=>N({...w,data_fim:e.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight hover:border-brand-aqua/50 shadow-sm hover:shadow-md"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,r.jsxs)("button",{onClick:R,className:"flex-1 px-6 py-3 bg-gradient-to-r from-brand-aqua to-brand-blue text-brand-midnight rounded-xl hover:from-brand-aqua/90 hover:to-brand-blue/90 transition-smooth font-bold shadow-lg hover:shadow-xl text-sm flex items-center justify-center gap-2",children:[(0,r.jsx)(i.Z,{size:18,strokeWidth:2.5}),"Aplicar Filtros"]}),(0,r.jsx)("button",{onClick:A,className:"px-6 py-3 bg-gray-100 dark:bg-brand-midnight text-brand-midnight dark:text-brand-clean rounded-xl hover:bg-gray-200 dark:hover:bg-white/10 transition-smooth text-sm font-semibold border-2 border-gray-200 dark:border-white/20",children:"Limpar"})]})]}),U&&(0,r.jsx)("div",{className:"md:hidden fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-end",children:(0,r.jsxs)("div",{className:"w-full bg-gradient-to-br from-white via-gray-50 to-white dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-t-3xl shadow-2xl border-t-2 border-brand-aqua/30 max-h-[90vh] overflow-y-auto animate-slide-up",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-gradient-to-br from-white via-gray-50 to-white dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal border-b border-brand-aqua/20 px-4 py-4 flex items-center justify-between z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-brand-aqua/20 dark:bg-brand-aqua/30 rounded-xl",children:(0,r.jsx)(i.Z,{size:20,className:"text-brand-aqua",strokeWidth:2.5})}),(0,r.jsx)("h3",{className:"text-lg font-display font-bold text-brand-midnight dark:text-brand-clean",children:"Filtros do Extrato"})]}),(0,r.jsx)("button",{onClick:()=>M(!1),className:"p-2 hover:bg-brand-aqua/10 dark:hover:bg-brand-aqua/20 rounded-lg transition-smooth",children:(0,r.jsx)(l.Z,{size:20,className:"text-brand-midnight dark:text-brand-clean"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Nome"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-brand-clean/60",size:18}),(0,r.jsx)("input",{type:"text",value:w.nome,onChange:e=>N({...w,nome:e.target.value}),placeholder:"Buscar por nome...",className:"w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight placeholder-gray-400 dark:placeholder-brand-clean/50"})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Tipo"}),(0,r.jsxs)("button",{type:"button",onClick:()=>T(!D),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight flex items-center justify-between",children:[(0,r.jsx)("span",{className:w.tipo?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:"entrada"===w.tipo?"Entrada":"saida"===w.tipo?"Sa\xedda":"Todos"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform ".concat(D?"rotate-180":"")})]}),D&&(0,r.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 overflow-hidden",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:""}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between ".concat(""===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:"Todos"}),""===w.tipo&&(0,r.jsx)(b.Z,{size:18})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:"entrada"}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between border-t ".concat("entrada"===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:"Entrada"}),"entrada"===w.tipo&&(0,r.jsx)(b.Z,{size:18})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,tipo:"saida"}),T(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between border-t ".concat("saida"===w.tipo?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:"Sa\xedda"}),"saida"===w.tipo&&(0,r.jsx)(b.Z,{size:18})]})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Usu\xe1rio"}),(0,r.jsxs)("button",{type:"button",onClick:()=>P(!F),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight flex items-center justify-between",children:[(0,r.jsx)("span",{className:w.user_id?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:w.user_id&&(null===(t=j.find(e=>e.id===w.user_id))||void 0===t?void 0:t.nome)||"Todos"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform ".concat(F?"rotate-180":"")})]}),F&&(0,r.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 max-h-60 overflow-y-auto",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,user_id:""}),P(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between ".concat(""===w.user_id?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:"Todos"}),""===w.user_id&&(0,r.jsx)(b.Z,{size:18})]}),j.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,user_id:e.id}),P(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between border-t ".concat(w.user_id===e.id?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:e.nome}),w.user_id===e.id&&(0,r.jsx)(b.Z,{size:18})]},e.id))]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Etiqueta"}),(0,r.jsxs)("button",{type:"button",onClick:()=>S(!E),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight flex items-center justify-between",children:[(0,r.jsx)("span",{className:w.etiqueta?"font-medium":"text-gray-500 dark:text-brand-clean/60",children:w.etiqueta||"Todas"}),(0,r.jsx)(o.Z,{size:18,className:"text-brand-aqua transition-transform ".concat(E?"rotate-180":"")})]}),E&&(0,r.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-midnight dark:via-brand-royal dark:to-brand-midnight rounded-xl shadow-2xl border-2 border-brand-aqua/30 max-h-60 overflow-y-auto",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,etiqueta:""}),S(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between ".concat(""===w.etiqueta?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{children:"Todas"}),""===w.etiqueta&&(0,r.jsx)(b.Z,{size:18})]}),B.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{N({...w,etiqueta:e}),S(!1)},className:"w-full px-4 py-3 text-left flex items-center justify-between border-t ".concat(w.etiqueta===e?"bg-gradient-to-r from-brand-aqua to-brand-blue text-white font-bold":"text-brand-midnight dark:text-brand-clean"),children:[(0,r.jsx)("span",{className:"capitalize",children:e}),w.etiqueta===e&&(0,r.jsx)(b.Z,{size:18})]},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Data in\xedcio"}),(0,r.jsx)("input",{type:"date",value:w.data_inicio,onChange:e=>N({...w,data_inicio:e.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-brand-clean/90 mb-1.5",children:"Data fim"}),(0,r.jsx)("input",{type:"date",value:w.data_fim,onChange:e=>N({...w,data_fim:e.target.value}),className:"w-full px-4 py-2.5 border-2 border-gray-200 dark:border-white/20 rounded-xl text-sm text-brand-midnight dark:text-brand-clean bg-white dark:bg-brand-midnight"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-brand-aqua/20",children:[(0,r.jsxs)("button",{onClick:()=>{R(),M(!1)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-brand-aqua to-brand-blue text-brand-midnight rounded-xl font-bold shadow-lg text-sm flex items-center justify-center gap-2",children:[(0,r.jsx)(i.Z,{size:18,strokeWidth:2.5}),"Aplicar"]}),(0,r.jsx)("button",{onClick:()=>{A(),M(!1)},className:"px-6 py-3 bg-gray-100 dark:bg-brand-midnight text-brand-midnight dark:text-brand-clean rounded-xl text-sm font-semibold border-2 border-gray-200 dark:border-white/20",children:"Limpar"})]})]})]})}),0===k.length?(0,r.jsx)("div",{className:"bg-brand-white dark:bg-brand-royal rounded-2xl p-12 text-center shadow-lg border border-brand-clean dark:border-white/10",children:(0,r.jsx)("p",{className:"text-brand-midnight/60 dark:text-brand-clean/60 text-lg",children:"Nenhum registro encontrado"})}):(0,r.jsxs)("div",{className:"bg-brand-white dark:bg-brand-royal rounded-2xl shadow-lg border border-brand-clean dark:border-white/10 overflow-hidden animate-fade-in",children:[(0,r.jsx)("div",{className:"md:hidden space-y-4 p-4",children:k.map(e=>{var a;return(0,r.jsxs)("div",{className:"bg-brand-royal dark:bg-brand-midnight rounded-xl p-4 border border-brand-clean/20 dark:border-white/10 relative",children:[(0,r.jsx)("button",{onClick:()=>H(e.id),className:"absolute top-3 right-3 p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-smooth z-10",title:"Excluir",children:(0,r.jsx)(c.Z,{size:18,strokeWidth:2})}),(0,r.jsxs)("div",{className:"space-y-3 pr-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-brand-midnight dark:text-brand-clean",children:e.nome}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(V[e.tipo]," dark:opacity-90"),children:K[e.tipo]})]}),Y(e.observacao)&&(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60",children:Y(e.observacao)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-0.5",children:"Valor"}),(0,r.jsx)("p",{className:"text-brand-midnight dark:text-brand-clean",style:{fontWeight:900},children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valor)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-0.5",children:"Usu\xe1rio"}),(0,r.jsxs)("p",{className:"text-brand-midnight/80 dark:text-brand-clean/80",children:["\uD83D\uDC64 ",(null===(a=e.user)||void 0===a?void 0:a.nome)||"N/A"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-0.5",children:"Categoria"}),(0,r.jsx)("p",{className:"text-brand-midnight/80 dark:text-brand-clean/80",children:e.categoria||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-0.5",children:"Data"}),(0,r.jsx)("p",{className:"text-brand-midnight/80 dark:text-brand-clean/80",children:(0,h.WU)(new Date(e.data_registro),"dd/MM/yyyy",{locale:u.F})})]})]}),e.parcelas_totais>1&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-0.5",children:"Parcelas"}),(0,r.jsxs)("p",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/80",children:[e.parcelas_pagas,"/",e.parcelas_totais," - Faltam ",e.parcelas_totais-e.parcelas_pagas]})]}),e.etiquetas&&e.etiquetas.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mb-1.5",children:"Etiquetas"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.etiquetas.map((e,a)=>(0,r.jsx)("span",{className:"px-2 py-1 bg-brand-aqua/10 dark:bg-brand-aqua/20 text-brand-aqua dark:text-brand-aqua text-xs rounded-lg",children:e},a))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-brand-clean/20 dark:border-white/10",children:["divida"===e.tipo&&e.parcelas_pagas<e.parcelas_totais&&(0,r.jsx)("button",{onClick:()=>O(e.id),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Marcar parcela como paga",children:(0,r.jsx)(x.Z,{size:18})}),(0,r.jsx)("button",{onClick:()=>_(e),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-smooth",title:"Editar",children:(0,r.jsx)(m.Z,{size:18,strokeWidth:2})})]})]})]},e.id)})}),(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-brand-royal dark:bg-brand-midnight border-b border-brand-midnight dark:border-white/10",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Nome"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Tipo"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Valor"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Usu\xe1rio"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Categoria"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Etiquetas"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Parcelas"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"Data"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-display text-brand-clean dark:text-brand-clean uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{className:"bg-brand-white dark:bg-brand-royal divide-y divide-brand-clean dark:divide-white/10",children:k.map(e=>{var a;return(0,r.jsxs)("tr",{className:"hover:bg-brand-clean/50 dark:hover:bg-white/5 transition-smooth",children:[(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-brand-midnight dark:text-brand-clean",children:e.nome}),Y(e.observacao)&&(0,r.jsx)("div",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mt-1 line-clamp-1",title:Y(e.observacao),children:Y(e.observacao)})]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(V[e.tipo]," dark:opacity-90"),children:K[e.tipo]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsx)("span",{className:"text-sm text-brand-midnight dark:text-brand-clean",style:{fontWeight:900},children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valor)})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("span",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/80",children:["\uD83D\uDC64 ",(null===(a=e.user)||void 0===a?void 0:a.nome)||"N/A"]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsx)("span",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/80",children:e.categoria||"-"})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.etiquetas&&e.etiquetas.length>0?e.etiquetas.map((e,a)=>(0,r.jsx)("span",{className:"px-2 py-1 bg-brand-aqua/10 dark:bg-brand-aqua/20 text-brand-aqua dark:text-brand-aqua text-xs rounded-lg",children:e},a)):(0,r.jsx)("span",{className:"text-xs text-brand-midnight/40 dark:text-brand-clean/40",children:"-"})})}),(0,r.jsx)("td",{className:"px-4 py-4",children:e.parcelas_totais>1?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/80",children:[e.parcelas_pagas,"/",e.parcelas_totais]}),(0,r.jsxs)("div",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60",children:["Faltam ",e.parcelas_totais-e.parcelas_pagas]})]}):(0,r.jsx)("span",{className:"text-sm text-brand-midnight/40 dark:text-brand-clean/40",children:"-"})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{className:"text-sm text-brand-midnight/80 dark:text-brand-clean/80",children:[(0,r.jsx)("div",{children:(0,h.WU)(new Date(e.data_registro),"dd/MM/yyyy",{locale:u.F})}),(0,r.jsx)("div",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60",children:(0,h.WU)(new Date(e.data_registro),"HH:mm",{locale:u.F})})]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["divida"===e.tipo&&e.parcelas_pagas<e.parcelas_totais&&(0,r.jsx)("button",{onClick:()=>O(e.id),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Marcar parcela como paga",children:(0,r.jsx)(x.Z,{size:18})}),(0,r.jsx)("button",{onClick:()=>_(e),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-smooth",title:"Editar",children:(0,r.jsx)(m.Z,{size:18,strokeWidth:2})}),(0,r.jsx)("button",{onClick:()=>H(e.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-smooth",title:"Excluir",children:(0,r.jsx)(c.Z,{size:18,strokeWidth:2})})]})})]},e.id)})})]})})]}),q&&(0,r.jsx)(f.Z,{registro:q,onClose:()=>_(null)}),C&&(0,r.jsx)(p.Z,{titulo:"Excluir Registro",mensagem:"Tem certeza que deseja excluir este registro? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirmar:I,onCancelar:()=>{z(!1),W(null)},textoConfirmar:"Excluir",tipo:"danger"})]})}}},function(e){e.O(0,[5250,4962,889,1749,3358,3468,982,9282,2971,4938,1744],function(){return e(e.s=71911)}),_N_E=e.O()}]);