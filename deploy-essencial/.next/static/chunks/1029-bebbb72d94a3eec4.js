"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1029],{41827:function(e,a,t){t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},97980:function(e,a,t){t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},43585:function(e,a,t){t.d(a,{Z:function(){return i}});var r=t(57437),n=t(62442),d=t(2265);function i(e){let{id:a,checked:t,onChange:i,label:o,disabled:s=!1,size:l="md",className:c=""}=e,[b,m]=(0,d.useState)(!1);return(0,r.jsxs)("div",{className:"flex items-center gap-3 ".concat(c),children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"checkbox",id:a,checked:t,onChange:e=>i(e.target.checked),disabled:s,className:"sr-only"}),(0,r.jsx)("label",{htmlFor:a,className:"\n            relative flex items-center justify-center cursor-pointer transition-all duration-300\n            ".concat({sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[l],"\n            ").concat(s?"opacity-50 cursor-not-allowed":"cursor-pointer","\n          "),onMouseEnter:()=>!s&&m(!0),onMouseLeave:()=>m(!1),children:(0,r.jsxs)("div",{className:"\n              absolute inset-0 rounded-lg border-2 transition-all duration-300\n              ".concat(t?"bg-gradient-to-br from-brand-aqua to-brand-blue border-brand-aqua shadow-lg shadow-brand-aqua/30":"bg-white dark:bg-brand-midnight border-gray-300 dark:border-white/20","\n              ").concat(!b||s||t?"":"border-brand-aqua/50 bg-brand-aqua/5 dark:bg-brand-aqua/10","\n              ").concat(s?"opacity-50":"","\n            "),style:{transform:t?"scale(1)":b?"scale(1.05)":"scale(1)"},children:[t&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center animate-checkbox-check",children:(0,r.jsx)(n.Z,{size:{sm:10,md:14,lg:16}[l],className:"text-white dark:text-brand-midnight font-bold",strokeWidth:3})}),t&&(0,r.jsx)("div",{className:"absolute inset-0 rounded-lg bg-brand-aqua/20 animate-ping"})]})})]}),o&&(0,r.jsx)("label",{htmlFor:a,className:"\n            text-sm font-medium cursor-pointer transition-colors duration-200\n            ".concat(t?"text-brand-aqua dark:text-brand-aqua":"text-brand-midnight dark:text-brand-clean","\n            ").concat(s?"opacity-50 cursor-not-allowed":"cursor-pointer","\n          "),children:o})]})}},45120:function(e,a,t){t.d(a,{Z:function(){return z}});var r=t(57437),n=t(2265),d=t(25727),i=t(97980),o=t(29251),s=t(77480),l=t(86712),c=t(17810),b=t(33344),m=t(69057),u=t(67405),x=t(67842),g=t(14493),h=t(82549),p=t(67972),f=t(9883),k=t(45367),v=t(21271),j=t(71738),y=t(34822),N=t(43585),w=t(81291),q=t(17158);function D(e){let{value:a,onChange:t,min:d=1,max:i=31,className:o=""}=e,[s,l]=(0,n.useState)(a.toString());return(0,r.jsxs)("div",{className:"relative flex items-center gap-2 ".concat(o),children:[(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Math.max(d,a-1);l(e.toString()),t(e)},disabled:a<=d,className:"flex items-center justify-center w-10 h-10 bg-brand-aqua/10 dark:bg-brand-aqua/20 hover:bg-brand-aqua/20 dark:hover:bg-brand-aqua/30 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-smooth border border-brand-aqua/30 dark:border-brand-aqua/40",title:"Diminuir",children:(0,r.jsx)(w.Z,{size:20,className:"text-brand-aqua dark:text-brand-aqua",strokeWidth:2.5})}),(0,r.jsx)("input",{type:"text",inputMode:"numeric",value:s,onChange:e=>{let a=e.target.value;if(l(a),""===a)return;let r=parseInt(a);if(!isNaN(r)){let e=Math.max(d,Math.min(i,r));t(e),e!==r&&l(e.toString())}},onBlur:()=>{let e=parseInt(s);isNaN(e)||e<d?(l(d.toString()),t(d)):e>i?(l(i.toString()),t(i)):(l(e.toString()),t(e))},min:d,max:i,className:"flex-1 px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-midnight dark:text-brand-clean text-sm text-center font-medium",placeholder:"".concat(d,"-").concat(i)}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Math.min(i,a+1);l(e.toString()),t(e)},disabled:a>=i,className:"flex items-center justify-center w-10 h-10 bg-brand-aqua/10 dark:bg-brand-aqua/20 hover:bg-brand-aqua/20 dark:hover:bg-brand-aqua/30 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-smooth border border-brand-aqua/30 dark:border-brand-aqua/40",title:"Aumentar",children:(0,r.jsx)(q.Z,{size:20,className:"text-brand-aqua dark:text-brand-aqua",strokeWidth:2.5})})]})}var S=t(24033),C=t(53468),_=t(500),Z=t(93750),E=t(52553),M=t(79979);function z(e){let{onClose:a}=e,t=(0,S.useRouter)(),[w,q]=(0,n.useState)(!1),[z,I]=(0,n.useState)([]),[R,F]=(0,n.useState)(!1),[A,O]=(0,n.useState)(null),[P,W]=(0,n.useState)("teste"),[$,T]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!async function(){let e=await (0,E.cu)();W(e),"teste"===e&&T(!0)}()},[]);let[V,B]=(0,n.useState)(!0),[L,Q]=(0,n.useState)(""),[U,Y]=(0,n.useState)({data:""}),[G,J]=(0,n.useState)([{data:"",quantidade:"1"}]),[X,H]=(0,n.useState)({nome:"",observacao:"",user_id:"",data_registro:new Date().toISOString().slice(0,16),categoria:"",metodo_pagamento:"dinheiro"}),[K,ee]=(0,n.useState)(!1),[ea,et]=(0,n.useState)("mensal"),[er,en]=(0,n.useState)(1),[ed,ei]=(0,n.useState)(1),eo=[{id:"alimentacao",nome:"Alimenta\xe7\xe3o",icon:i.Z},{id:"transporte",nome:"Transporte",icon:o.Z},{id:"moradia",nome:"Moradia",icon:s.Z},{id:"compras",nome:"Compras",icon:l.Z},{id:"saude",nome:"Sa\xfade",icon:c.Z},{id:"educacao",nome:"Educa\xe7\xe3o",icon:b.Z},{id:"trabalho",nome:"Trabalho",icon:m.Z},{id:"entretenimento",nome:"Entretenimento",icon:u.Z},{id:"fitness",nome:"Fitness",icon:x.Z},{id:"viagem",nome:"Viagem",icon:g.Z}];(0,n.useEffect)(()=>{es()},[]);let es=async()=>{let e=await (0,d.CG)();e.data&&I(e.data)},el=e=>{G.length>1&&J(G.filter((a,t)=>t!==e))},ec=(e,a,t)=>{let r=[...G];r[e][a]=t,J(r)},eb=()=>V&&0===G.filter(e=>e.data&&""!==e.data.trim()).length?0:(0,Z.d)(L),em=async e=>{if(e.preventDefault(),console.log("handleSubmit chamado"),"teste"===P){(0,C.createNotification)("Criar D\xedvidas est\xe1 dispon\xedvel apenas no Plano B\xe1sico ou Premium","warning"),T(!0);return}q(!0);try{if(console.log("Iniciando valida\xe7\xf5es...",{temParcelas:V,valorDivida:L,nome:X.nome}),!X.nome.trim()){(0,C.createNotification)("Informe o nome da d\xedvida","warning"),q(!1);return}if(!A){(0,C.createNotification)("Selecione um usu\xe1rio","warning"),q(!1);return}let e=(0,Z.d)(L);if(!L||""===L.trim()||isNaN(e)||e<=0){(0,C.createNotification)("Informe um valor v\xe1lido para a d\xedvida","warning"),q(!1);return}if(V){let e=G.filter(e=>e.data&&""!==e.data.trim()&&e.quantidade&&parseInt(e.quantidade)>0);if(0===e.length){(0,C.createNotification)("Adicione pelo menos uma parcela v\xe1lida com data e quantidade","warning"),q(!1);return}}else if(K&&U.data&&""!==U.data.trim()){(0,C.createNotification)("N\xe3o \xe9 poss\xedvel definir data quando a d\xedvida \xe9 recorrente. A data ser\xe1 calculada automaticamente pela recorr\xeancia.","warning"),q(!1);return}let r=[],n=0;if(V){let a=G.filter(e=>e.data&&""!==e.data.trim()&&e.quantidade&&parseInt(e.quantidade)>0);if(0===a.length){(0,C.createNotification)("Adicione pelo menos uma parcela v\xe1lida com data e quantidade","warning"),q(!1);return}let t=e/a.length;console.log("Valor por parcela calculado:",t,"Total parcelas:",a.length);for(let e=0;e<a.length;e++){let i=a[e],o=parseInt(i.quantidade)||1;if(!i.data||""===i.data.trim()){r.push("Parcela ".concat(e+1,": data inv\xe1lida"));continue}let s=t*o,l=new FormData;if(l.append("nome","".concat(X.nome.trim()).concat(a.length>1?" - Parcela ".concat(e+1):"")),l.append("observacao",X.observacao||"D\xedvida - ".concat(o," parcela(s) de R$ ").concat(t.toFixed(2))),l.append("user_id",A.id),l.append("tipo","divida"),l.append("valor",s.toFixed(2)),l.append("categoria",X.categoria||"D\xedvida - ".concat(X.metodo_pagamento)),l.append("etiquetas",JSON.stringify(["d\xedvida",X.metodo_pagamento])),l.append("parcelas_totais",o.toString()),l.append("parcelas_pagas","0"),l.append("data_registro",new Date(i.data).toISOString()),K&&0===e){l.append("is_recorrente","true"),l.append("recorrencia_tipo",ea),"semanal"===ea?l.append("recorrencia_dia_semana",ed.toString()):["mensal","bimestral","trimestral","semestral","anual"].includes(ea)&&l.append("recorrencia_dia",er.toString());let e=new Date(i.data),a=new Date(e);switch(ea){case"diaria":a.setDate(a.getDate()+1);break;case"semanal":let t=(ed-e.getDay()+7)%7||7;a.setDate(a.getDate()+t);break;case"quinzenal":a.setDate(a.getDate()+15);break;case"mensal":a.setMonth(a.getMonth()+1),a.setDate(er);break;case"bimestral":a.setMonth(a.getMonth()+2),a.setDate(er);break;case"trimestral":a.setMonth(a.getMonth()+3),a.setDate(er);break;case"semestral":a.setMonth(a.getMonth()+6),a.setDate(er);break;case"anual":a.setFullYear(a.getFullYear()+1),a.setDate(er)}l.append("proxima_recorrencia",a.toISOString()),l.append("ativo","true")}try{console.log("Criando parcela ".concat(e+1,"..."),{valorTotalParcela:s,data:i.data});let a=await (0,d.criarRegistro)(l);console.log("Resultado criarRegistro (parcela ".concat(e+1,"):"),a),a.error?(r.push("Parcela ".concat(e+1,": ").concat(a.error)),console.error("Erro ao criar parcela ".concat(e+1,":"),a.error)):(n++,console.log("Parcela ".concat(e+1," criada com sucesso!")))}catch(a){r.push("Parcela ".concat(e+1,": ").concat(a.message||"Erro desconhecido")),console.error("Erro ao criar parcela ".concat(e+1,":"),a)}}}else{let e;let a=(0,Z.d)(L);e=K?new Date:U.data&&""!==U.data.trim()?new Date(U.data):new Date;let t=new FormData;if(t.append("nome",X.nome.trim()),t.append("observacao",X.observacao||"D\xedvida \xfanica"),t.append("user_id",A.id),t.append("tipo","divida"),t.append("valor",a.toFixed(2)),t.append("categoria",X.categoria||"D\xedvida - ".concat(X.metodo_pagamento)),t.append("etiquetas",JSON.stringify(["d\xedvida",X.metodo_pagamento])),t.append("parcelas_totais","1"),t.append("parcelas_pagas","0"),t.append("data_registro",e.toISOString()),K){t.append("is_recorrente","true"),t.append("recorrencia_tipo",ea),"semanal"===ea?t.append("recorrencia_dia_semana",ed.toString()):["mensal","bimestral","trimestral","semestral","anual"].includes(ea)&&t.append("recorrencia_dia",er.toString());let a=new Date(e);switch(ea){case"diaria":a.setDate(a.getDate()+1);break;case"semanal":let r=(ed-e.getDay()+7)%7||7;a.setDate(a.getDate()+r);break;case"quinzenal":a.setDate(a.getDate()+15);break;case"mensal":a.setMonth(a.getMonth()+1),a.setDate(er);break;case"bimestral":a.setMonth(a.getMonth()+2),a.setDate(er);break;case"trimestral":a.setMonth(a.getMonth()+3),a.setDate(er);break;case"semestral":a.setMonth(a.getMonth()+6),a.setDate(er);break;case"anual":a.setFullYear(a.getFullYear()+1),a.setDate(er)}t.append("proxima_recorrencia",a.toISOString()),t.append("ativo","true")}try{console.log("Criando d\xedvida \xfanica...",{valorUnico:a,dataRegistro:e});let i=await (0,d.criarRegistro)(t);console.log("Resultado criarRegistro:",i),i.error?(r.push(i.error),console.error("Erro ao criar d\xedvida \xfanica:",i.error)):(n++,console.log("D\xedvida \xfanica criada com sucesso!"))}catch(e){r.push(e.message||"Erro desconhecido"),console.error("Erro ao criar d\xedvida \xfanica:",e)}}if(console.log("Registros criados:",n,"Erros:",r),n>0)V?(G.filter(e=>e.data&&""!==e.data.trim()&&e.quantidade&&parseInt(e.quantidade)>0).reduce((e,a)=>e+(parseInt(a.quantidade)||1),0),r.length>0?(0,C.createNotification)("".concat(n," parcela(s) registrada(s), mas ").concat(r.length," falharam: ").concat(r.join("; ")),"warning"):(0,C.createNotification)("".concat(n,' parcela(s) da d\xedvida "').concat(X.nome,'" registrada(s) com sucesso!'),"success")):r.length>0?(0,C.createNotification)("Erro ao registrar d\xedvida: ".concat(r.join("; ")),"warning"):(0,C.createNotification)('D\xedvida "'.concat(X.nome,'" registrada com sucesso!'),"success"),H({nome:"",observacao:"",user_id:"",data_registro:new Date().toISOString().slice(0,16),categoria:"",metodo_pagamento:"dinheiro"}),J([{data:"",quantidade:"1"}]),Q(""),Y({data:""}),B(!0),O(null),ee(!1),et("mensal"),en(1),ei(1),a(),t.refresh();else{let e=V?"Erro ao registrar parcelas: "+r.join("; "):"Erro ao registrar d\xedvida: "+r.join("; ");(0,C.createNotification)(e,"warning"),console.error("Erros ao criar registros:",r)}}catch(e){console.error("Erro ao processar formul\xe1rio:",e),(0,C.createNotification)("Erro inesperado ao registrar d\xedvida. Tente novamente.","warning")}finally{q(!1)}};return(0,r.jsxs)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-3 sm:p-4 animate-fade-in overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-white to-gray-50 dark:from-brand-royal dark:via-brand-midnight dark:to-brand-royal rounded-2xl sm:rounded-3xl max-w-lg w-full max-h-[90vh] sm:max-h-[85vh] flex flex-col shadow-2xl animate-slide-up overflow-hidden border-2 border-brand-aqua/30 dark:border-brand-aqua/40 my-4 sm:my-0",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 border-b-2 border-brand-aqua/20 dark:border-brand-aqua/30 px-4 sm:px-6 py-4 sm:py-5 flex items-center justify-between bg-gradient-to-r from-brand-aqua/10 via-brand-aqua/5 to-transparent dark:from-brand-aqua/20 dark:via-brand-aqua/10",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-bold text-brand-midnight dark:text-brand-clean",children:"Registrar D\xedvida"}),(0,r.jsx)("button",{onClick:a,className:"p-2 hover:bg-red-500/20 dark:hover:bg-red-500/30 rounded-xl transition-smooth",children:(0,r.jsx)(h.Z,{size:22,className:"text-brand-midnight dark:text-brand-clean",strokeWidth:2.5})})]}),(0,r.jsxs)("form",{onSubmit:em,className:"flex flex-col flex-1 min-h-0 bg-white/50 dark:bg-brand-midnight/60 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Usu\xe1rio/Envolvido *"}),(0,r.jsxs)("button",{type:"button",onClick:()=>F(!0),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 focus:outline-none focus:border-brand-aqua transition-smooth flex items-center justify-between text-left text-sm",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full bg-brand-aqua/20 dark:bg-brand-aqua/30 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-brand-aqua font-bold text-xs",children:A.nome.charAt(0).toUpperCase()})}),(0,r.jsx)("span",{className:"text-brand-midnight dark:text-brand-clean text-sm",children:A.nome})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{size:18,className:"text-brand-midnight/50 dark:text-brand-clean/50"}),(0,r.jsx)("span",{className:"text-brand-midnight/50 dark:text-brand-clean/50 text-sm",children:"Selecione um usu\xe1rio"})]})}),(0,r.jsx)(f.Z,{size:18,className:"text-brand-aqua"})]}),(0,r.jsx)("p",{className:"mt-1 text-[10px] text-brand-midnight/60 dark:text-brand-clean/60",children:"Selecione a pessoa respons\xe1vel ou envolvida nesta d\xedvida. Ex: Voc\xea mesmo, C\xf4njuge, Filho, etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Nome da D\xedvida *"}),(0,r.jsx)("input",{type:"text",required:!0,value:X.nome,onChange:e=>H({...X,nome:e.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-midnight dark:text-brand-clean text-sm placeholder-gray-400 dark:placeholder-brand-clean/50",placeholder:"Ex: Conta de luz, Cart\xe3o de cr\xe9dito, Financiamento, Empr\xe9stimo..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Observa\xe7\xe3o"}),(0,r.jsx)("textarea",{value:X.observacao,onChange:e=>H({...X,observacao:e.target.value}),rows:2,className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-midnight dark:text-brand-clean text-sm placeholder-gray-400 dark:placeholder-brand-clean/50 resize-none",placeholder:"Observa\xe7\xf5es sobre a d\xedvida..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Valor da D\xedvida *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-brand-midnight/50 dark:text-brand-clean/50 text-xs",children:"R$"}),(0,r.jsx)("input",{type:"text",required:!0,value:L,onChange:e=>{Q((0,Z.v)(e.target.value))},placeholder:"0,00",className:"w-full pl-7 pr-2 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean placeholder-gray-400 dark:placeholder-brand-clean/50"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Z,{id:"temParcelas",checked:V,onChange:B,label:"Esta d\xedvida tem parcelas?",size:"md",className:"mb-3"}),V?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"Parcelas da D\xedvida *"}),(0,r.jsxs)("div",{className:"space-y-3",children:[G.map((e,a)=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean",children:["Parcela ",a+1]}),G.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>el(a),className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-smooth",title:"Remover parcela",children:(0,r.jsx)(k.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight/70 dark:text-brand-clean/70 mb-1",children:"Data *"}),(0,r.jsx)("input",{type:"datetime-local",required:!0,value:e.data,onChange:e=>ec(a,"data",e.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-brand-royal border border-gray-300 dark:border-white/10 rounded focus:outline-none focus:border-brand-aqua transition-smooth text-xs text-brand-midnight dark:text-brand-clean"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight/70 dark:text-brand-clean/70 mb-1",children:"Qtd *"}),(0,r.jsx)("input",{type:"number",min:"1",required:!0,value:e.quantidade,onChange:e=>ec(a,"quantidade",e.target.value),placeholder:"1",className:"w-full px-2 py-1.5 bg-white dark:bg-brand-royal border border-gray-300 dark:border-white/10 rounded focus:outline-none focus:border-brand-aqua transition-smooth text-xs text-brand-midnight dark:text-brand-clean placeholder-gray-400 dark:placeholder-brand-clean/50"})]})]}),(0,r.jsx)("div",{className:"mt-2 text-xs text-brand-midnight/60 dark:text-brand-clean/60",children:"Valor ser\xe1 dividido igualmente entre as parcelas"})]},a)),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{J([...G,{data:"",quantidade:"1"}])},className:"px-3 py-2 bg-brand-aqua/20 dark:bg-brand-aqua/30 text-brand-aqua rounded-lg font-medium hover:bg-brand-aqua/30 dark:hover:bg-brand-aqua/40 transition-smooth flex items-center gap-1.5 border border-brand-aqua/30 text-xs",children:[(0,r.jsx)(f.Z,{size:16,strokeWidth:2.5}),"Adicionar Parcela"]})}),eb()>0&&(0,r.jsx)("div",{className:"bg-brand-aqua/10 dark:bg-brand-aqua/20 rounded-lg p-2.5 border border-brand-aqua/20 dark:border-brand-aqua/30",children:(0,r.jsxs)("p",{className:"text-xs font-medium text-brand-midnight dark:text-brand-clean text-center",children:["Total: ",(0,r.jsx)("span",{className:"text-brand-aqua font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(eb())})]})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"D\xedvida \xdanica"}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-brand-midnight/70 dark:text-brand-clean/70 mb-1",children:["Data (Opcional)",K&&(0,r.jsx)("span",{className:"ml-2 text-orange-500 dark:text-orange-400 text-[10px]",children:"(Desabilitado - recorr\xeancia define a data)"})]}),(0,r.jsx)("input",{type:"datetime-local",value:U.data,onChange:e=>Y({...U,data:e.target.value}),disabled:K,className:"w-full px-3 py-2 bg-white dark:bg-brand-royal border border-gray-300 dark:border-white/10 rounded focus:outline-none focus:border-brand-aqua transition-smooth text-sm text-brand-midnight dark:text-brand-clean disabled:opacity-50 disabled:cursor-not-allowed"}),!K&&(0,r.jsx)("p",{className:"text-xs text-brand-midnight/50 dark:text-brand-clean/60 mt-1",children:"Se n\xe3o informar, ser\xe1 usada a data atual"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"Categoria"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:eo.map(e=>{let a=e.icon,t=X.categoria===e.id;return(0,r.jsxs)("button",{type:"button",onClick:()=>H({...X,categoria:t?"":e.id}),className:"flex flex-col items-center gap-1 px-2 py-2 rounded-lg font-medium transition-smooth text-xs overflow-hidden ".concat(t?"bg-brand-aqua text-brand-midnight shadow-md":"bg-gray-100 dark:bg-brand-midnight/50 text-brand-midnight dark:text-brand-clean border border-gray-200 dark:border-white/10 hover:bg-gray-200 dark:hover:bg-white/10"),title:e.nome,children:[(0,r.jsx)(a,{size:18,strokeWidth:2}),(0,r.jsx)("span",{className:"text-[10px] leading-tight text-center break-words max-w-full px-1",children:e.nome})]},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-2",children:"M\xe9todo de Pagamento *"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>H({...X,metodo_pagamento:"pix"}),className:"flex flex-col items-center gap-1.5 px-3 py-2.5 rounded-lg font-medium transition-smooth text-xs ".concat("pix"===X.metodo_pagamento?"bg-brand-aqua text-brand-midnight shadow-md":"bg-gray-100 dark:bg-brand-midnight/50 text-brand-midnight dark:text-brand-clean border border-gray-200 dark:border-white/10 hover:bg-gray-200 dark:hover:bg-white/10"),children:[(0,r.jsx)(v.Z,{size:18,strokeWidth:2}),(0,r.jsx)("span",{children:"PIX"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>H({...X,metodo_pagamento:"cartao"}),className:"flex flex-col items-center gap-1.5 px-3 py-2.5 rounded-lg font-medium transition-smooth text-xs ".concat("cartao"===X.metodo_pagamento?"bg-brand-aqua text-brand-midnight shadow-md":"bg-gray-100 dark:bg-brand-midnight/50 text-brand-midnight dark:text-brand-clean border border-gray-200 dark:border-white/10 hover:bg-gray-200 dark:hover:bg-white/10"),children:[(0,r.jsx)(j.Z,{size:18,strokeWidth:2}),(0,r.jsx)("span",{children:"Cart\xe3o"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>H({...X,metodo_pagamento:"dinheiro"}),className:"flex flex-col items-center gap-1.5 px-3 py-2.5 rounded-lg font-medium transition-smooth text-xs ".concat("dinheiro"===X.metodo_pagamento?"bg-brand-aqua text-brand-midnight shadow-md":"bg-gray-100 dark:bg-brand-midnight/50 text-brand-midnight dark:text-brand-clean border border-gray-200 dark:border-white/10 hover:bg-gray-200 dark:hover:bg-white/10"),children:[(0,r.jsx)(y.Z,{size:18,strokeWidth:2}),(0,r.jsx)("span",{children:"Dinheiro"})]})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[(0,r.jsx)(N.Z,{id:"isRecorrente",checked:K,onChange:ee,label:"Esta d\xedvida \xe9 recorrente?",size:"md"}),K&&(0,r.jsxs)("div",{className:"space-y-3 bg-gray-50 dark:bg-brand-midnight/50 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Repete de quanto em quanto tempo? *"}),(0,r.jsxs)("select",{value:ea,onChange:e=>et(e.target.value),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-midnight dark:text-brand-clean text-sm",children:[(0,r.jsx)("option",{value:"diaria",children:"Di\xe1ria"}),(0,r.jsx)("option",{value:"semanal",children:"Semanal"}),(0,r.jsx)("option",{value:"quinzenal",children:"Quinzenal (a cada 15 dias)"}),(0,r.jsx)("option",{value:"mensal",children:"Mensal"}),(0,r.jsx)("option",{value:"bimestral",children:"Bimestral (a cada 2 meses)"}),(0,r.jsx)("option",{value:"trimestral",children:"Trimestral (a cada 3 meses)"}),(0,r.jsx)("option",{value:"semestral",children:"Semestral (a cada 6 meses)"}),(0,r.jsx)("option",{value:"anual",children:"Anual"})]})]}),"semanal"===ea&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Dia da semana *"}),(0,r.jsxs)("select",{value:ed,onChange:e=>ei(parseInt(e.target.value)),className:"w-full px-3 py-2 bg-white dark:bg-brand-midnight border border-gray-300 dark:border-white/10 rounded-lg focus:outline-none focus:border-brand-aqua transition-smooth text-brand-midnight dark:text-brand-clean text-sm",children:[(0,r.jsx)("option",{value:"0",children:"Domingo"}),(0,r.jsx)("option",{value:"1",children:"Segunda-feira"}),(0,r.jsx)("option",{value:"2",children:"Ter\xe7a-feira"}),(0,r.jsx)("option",{value:"3",children:"Quarta-feira"}),(0,r.jsx)("option",{value:"4",children:"Quinta-feira"}),(0,r.jsx)("option",{value:"5",children:"Sexta-feira"}),(0,r.jsx)("option",{value:"6",children:"S\xe1bado"})]})]}),("mensal"===ea||"bimestral"===ea||"trimestral"===ea||"semestral"===ea||"anual"===ea)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-brand-midnight dark:text-brand-clean mb-1.5",children:"Dia do m\xeas (1-31) *"}),(0,r.jsx)(D,{value:er,onChange:en,min:1,max:31}),(0,r.jsx)("p",{className:"text-xs text-brand-midnight/60 dark:text-brand-clean/60 mt-1",children:"A d\xedvida ser\xe1 criada automaticamente neste dia do m\xeas"})]}),"diaria"===ea&&(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2",children:(0,r.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"A d\xedvida ser\xe1 criada automaticamente todos os dias"})}),"quinzenal"===ea&&(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2",children:(0,r.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"A d\xedvida ser\xe1 criada automaticamente a cada 15 dias, a partir da data inicial"})})]})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0 bg-white dark:bg-brand-midnight border-t border-gray-200 dark:border-white/10 px-5 py-4",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-brand-royal text-brand-midnight dark:text-brand-clean rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-white/10 border border-gray-200 dark:border-white/10 transition-smooth text-sm",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2.5 bg-brand-aqua text-brand-midnight rounded-lg font-semibold hover:bg-brand-aqua/90 transition-smooth disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:w?"Registrando...":"REGISTRAR D\xcdVIDA"})]})})]})]}),(0,r.jsx)(_.Z,{isOpen:R,onClose:()=>F(!1),onSelect:e=>{O(e),H({...X,user_id:e.id})},selectedUserId:X.user_id}),$&&(0,r.jsx)(M.Z,{isOpen:$,onClose:()=>{T(!1),a()},feature:"Criar D\xedvidas",planoNecessario:"basico",planoAtual:P})]})}},52553:function(e,a,t){t.d(a,{cu:function(){return n}}),t(15355);var r=t(31162);(0,r.$)("4fdf752be30fe3bed32fec8fef91f1643800bcbe");var n=(0,r.$)("1d9dce1d8eaec2e7f58e2d9eda7739f1f0b3c8fc");(0,r.$)("170426fcf1af55fd7863ddfb6ff4ec4727fe103a"),(0,r.$)("94e9e16406b889792a57d5d69a46df486672234b"),(0,r.$)("3383cdbdca0be93cedc5ff8dc965a6bd4857f22d"),(0,r.$)("7793bfdc3973517ebedb0f54256adb3ab8f93d1e"),(0,r.$)("7414d46d3794bfd725aa62e8dd77277b20115e42")}}]);